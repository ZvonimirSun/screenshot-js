/*! For license information please see screenshot.umd.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Screenshot=t():e.Screenshot=t()}(self,(function(){return function(){var e={"./node_modules/@babel/runtime/regenerator/index.js":function(e,t,n){e.exports=n("./node_modules/regenerator-runtime/runtime.js")},"./node_modules/core-js/internals/a-callable.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/is-callable.js"),s=n("./node_modules/core-js/internals/try-to-string.js"),i=r.TypeError;e.exports=function(e){if(o(e))return e;throw i(s(e)+" is not a function")}},"./node_modules/core-js/internals/a-constructor.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/is-constructor.js"),s=n("./node_modules/core-js/internals/try-to-string.js"),i=r.TypeError;e.exports=function(e){if(o(e))return e;throw i(s(e)+" is not a constructor")}},"./node_modules/core-js/internals/a-possible-prototype.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/is-callable.js"),s=r.String,i=r.TypeError;e.exports=function(e){if("object"==typeof e||o(e))return e;throw i("Can't set "+s(e)+" as a prototype")}},"./node_modules/core-js/internals/add-to-unscopables.js":function(e,t,n){var r=n("./node_modules/core-js/internals/well-known-symbol.js"),o=n("./node_modules/core-js/internals/object-create.js"),s=n("./node_modules/core-js/internals/object-define-property.js"),i=r("unscopables"),a=Array.prototype;null==a[i]&&s.f(a,i,{configurable:!0,value:o(null)}),e.exports=function(e){a[i][e]=!0}},"./node_modules/core-js/internals/advance-string-index.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/string-multibyte.js").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"./node_modules/core-js/internals/an-instance.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/object-is-prototype-of.js"),s=r.TypeError;e.exports=function(e,t){if(o(t,e))return e;throw s("Incorrect invocation")}},"./node_modules/core-js/internals/an-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/is-object.js"),s=r.String,i=r.TypeError;e.exports=function(e){if(o(e))return e;throw i(s(e)+" is not an object")}},"./node_modules/core-js/internals/array-buffer-non-extensible.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js");e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},"./node_modules/core-js/internals/array-for-each.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/array-iteration.js").forEach,o=n("./node_modules/core-js/internals/array-method-is-strict.js")("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"./node_modules/core-js/internals/array-from.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/function-bind-context.js"),s=n("./node_modules/core-js/internals/function-call.js"),i=n("./node_modules/core-js/internals/to-object.js"),a=n("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),l=n("./node_modules/core-js/internals/is-array-iterator-method.js"),c=n("./node_modules/core-js/internals/is-constructor.js"),u=n("./node_modules/core-js/internals/length-of-array-like.js"),h=n("./node_modules/core-js/internals/create-property.js"),d=n("./node_modules/core-js/internals/get-iterator.js"),f=n("./node_modules/core-js/internals/get-iterator-method.js"),p=r.Array;e.exports=function(e){var t=i(e),n=c(this),r=arguments.length,m=r>1?arguments[1]:void 0,g=void 0!==m;g&&(m=o(m,r>2?arguments[2]:void 0));var v,_,j,y,b,x,w=f(t),C=0;if(!w||this==p&&l(w))for(v=u(t),_=n?new this(v):p(v);v>C;C++)x=g?m(t[C],C):t[C],h(_,C,x);else for(b=(y=d(t,w)).next,_=n?new this:[];!(j=s(b,y)).done;C++)x=g?a(y,m,[j.value,C],!0):j.value,h(_,C,x);return _.length=C,_}},"./node_modules/core-js/internals/array-includes.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-indexed-object.js"),o=n("./node_modules/core-js/internals/to-absolute-index.js"),s=n("./node_modules/core-js/internals/length-of-array-like.js"),i=function(e){return function(t,n,i){var a,l=r(t),c=s(l),u=o(i,c);if(e&&n!=n){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},"./node_modules/core-js/internals/array-iteration.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-bind-context.js"),o=n("./node_modules/core-js/internals/function-uncurry-this.js"),s=n("./node_modules/core-js/internals/indexed-object.js"),i=n("./node_modules/core-js/internals/to-object.js"),a=n("./node_modules/core-js/internals/length-of-array-like.js"),l=n("./node_modules/core-js/internals/array-species-create.js"),c=o([].push),u=function(e){var t=1==e,n=2==e,o=3==e,u=4==e,h=6==e,d=7==e,f=5==e||h;return function(p,m,g,v){for(var _,j,y=i(p),b=s(y),x=r(m,g),w=a(b),C=0,A=v||l,S=t?A(p,w):n||d?A(p,0):void 0;w>C;C++)if((f||C in b)&&(j=x(_=b[C],C,y),e))if(t)S[C]=j;else if(j)switch(e){case 3:return!0;case 5:return _;case 6:return C;case 2:c(S,_)}else switch(e){case 4:return!1;case 7:c(S,_)}return h?-1:o||u?u:S}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},"./node_modules/core-js/internals/array-method-has-species-support.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js"),o=n("./node_modules/core-js/internals/well-known-symbol.js"),s=n("./node_modules/core-js/internals/engine-v8-version.js"),i=o("species");e.exports=function(e){return s>=51||!r((function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"./node_modules/core-js/internals/array-method-is-strict.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/fails.js");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},"./node_modules/core-js/internals/array-slice-simple.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/to-absolute-index.js"),s=n("./node_modules/core-js/internals/length-of-array-like.js"),i=n("./node_modules/core-js/internals/create-property.js"),a=r.Array,l=Math.max;e.exports=function(e,t,n){for(var r=s(e),c=o(t,r),u=o(void 0===n?r:n,r),h=a(l(u-c,0)),d=0;c<u;c++,d++)i(h,d,e[c]);return h.length=d,h}},"./node_modules/core-js/internals/array-slice.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js");e.exports=r([].slice)},"./node_modules/core-js/internals/array-sort.js":function(e,t,n){var r=n("./node_modules/core-js/internals/array-slice-simple.js"),o=Math.floor,s=function(e,t){var n=e.length,l=o(n/2);return n<8?i(e,t):a(e,s(r(e,0,l),t),s(r(e,l),t),t)},i=function(e,t){for(var n,r,o=e.length,s=1;s<o;){for(r=s,n=e[s];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==s++&&(e[r]=n)}return e},a=function(e,t,n,r){for(var o=t.length,s=n.length,i=0,a=0;i<o||a<s;)e[i+a]=i<o&&a<s?r(t[i],n[a])<=0?t[i++]:n[a++]:i<o?t[i++]:n[a++];return e};e.exports=s},"./node_modules/core-js/internals/array-species-constructor.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/is-array.js"),s=n("./node_modules/core-js/internals/is-constructor.js"),i=n("./node_modules/core-js/internals/is-object.js"),a=n("./node_modules/core-js/internals/well-known-symbol.js")("species"),l=r.Array;e.exports=function(e){var t;return o(e)&&(t=e.constructor,(s(t)&&(t===l||o(t.prototype))||i(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?l:t}},"./node_modules/core-js/internals/array-species-create.js":function(e,t,n){var r=n("./node_modules/core-js/internals/array-species-constructor.js");e.exports=function(e,t){return new(r(e))(0===t?0:t)}},"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":function(e,t,n){var r=n("./node_modules/core-js/internals/an-object.js"),o=n("./node_modules/core-js/internals/iterator-close.js");e.exports=function(e,t,n,s){try{return s?t(r(n)[0],n[1]):t(n)}catch(t){o(e,"throw",t)}}},"./node_modules/core-js/internals/check-correctness-of-iteration.js":function(e,t,n){var r=n("./node_modules/core-js/internals/well-known-symbol.js")("iterator"),o=!1;try{var s=0,i={next:function(){return{done:!!s++}},return:function(){o=!0}};i[r]=function(){return this},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var s={};s[r]=function(){return{next:function(){return{done:n=!0}}}},e(s)}catch(e){}return n}},"./node_modules/core-js/internals/classof-raw.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),o=r({}.toString),s=r("".slice);e.exports=function(e){return s(o(e),8,-1)}},"./node_modules/core-js/internals/classof.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/to-string-tag-support.js"),s=n("./node_modules/core-js/internals/is-callable.js"),i=n("./node_modules/core-js/internals/classof-raw.js"),a=n("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag"),l=r.Object,c="Arguments"==i(function(){return arguments}());e.exports=o?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=l(e),a))?n:c?i(t):"Object"==(r=i(t))&&s(t.callee)?"Arguments":r}},"./node_modules/core-js/internals/collection-add-all.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/function-call.js"),o=n("./node_modules/core-js/internals/a-callable.js"),s=n("./node_modules/core-js/internals/an-object.js");e.exports=function(){for(var e=s(this),t=o(e.add),n=0,i=arguments.length;n<i;n++)r(t,e,arguments[n]);return e}},"./node_modules/core-js/internals/collection-delete-all.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/function-call.js"),o=n("./node_modules/core-js/internals/a-callable.js"),s=n("./node_modules/core-js/internals/an-object.js");e.exports=function(){for(var e,t=s(this),n=o(t.delete),i=!0,a=0,l=arguments.length;a<l;a++)e=r(n,t,arguments[a]),i=i&&e;return!!i}},"./node_modules/core-js/internals/collection-weak.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),o=n("./node_modules/core-js/internals/redefine-all.js"),s=n("./node_modules/core-js/internals/internal-metadata.js").getWeakData,i=n("./node_modules/core-js/internals/an-object.js"),a=n("./node_modules/core-js/internals/is-object.js"),l=n("./node_modules/core-js/internals/an-instance.js"),c=n("./node_modules/core-js/internals/iterate.js"),u=n("./node_modules/core-js/internals/array-iteration.js"),h=n("./node_modules/core-js/internals/has-own-property.js"),d=n("./node_modules/core-js/internals/internal-state.js"),f=d.set,p=d.getterFor,m=u.find,g=u.findIndex,v=r([].splice),_=0,j=function(e){return e.frozen||(e.frozen=new y)},y=function(){this.entries=[]},b=function(e,t){return m(e.entries,(function(e){return e[0]===t}))};y.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var n=b(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&v(this.entries,t,1),!!~t}},e.exports={getConstructor:function(e,t,n,r){var u=e((function(e,o){l(e,d),f(e,{type:t,id:_++,frozen:void 0}),null!=o&&c(o,e[r],{that:e,AS_ENTRIES:n})})),d=u.prototype,m=p(t),g=function(e,t,n){var r=m(e),o=s(i(t),!0);return!0===o?j(r).set(t,n):o[r.id]=n,e};return o(d,{delete:function(e){var t=m(this);if(!a(e))return!1;var n=s(e);return!0===n?j(t).delete(e):n&&h(n,t.id)&&delete n[t.id]},has:function(e){var t=m(this);if(!a(e))return!1;var n=s(e);return!0===n?j(t).has(e):n&&h(n,t.id)}}),o(d,n?{get:function(e){var t=m(this);if(a(e)){var n=s(e);return!0===n?j(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),u}}},"./node_modules/core-js/internals/collection.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/global.js"),s=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/is-forced.js"),a=n("./node_modules/core-js/internals/redefine.js"),l=n("./node_modules/core-js/internals/internal-metadata.js"),c=n("./node_modules/core-js/internals/iterate.js"),u=n("./node_modules/core-js/internals/an-instance.js"),h=n("./node_modules/core-js/internals/is-callable.js"),d=n("./node_modules/core-js/internals/is-object.js"),f=n("./node_modules/core-js/internals/fails.js"),p=n("./node_modules/core-js/internals/check-correctness-of-iteration.js"),m=n("./node_modules/core-js/internals/set-to-string-tag.js"),g=n("./node_modules/core-js/internals/inherit-if-required.js");e.exports=function(e,t,n){var v=-1!==e.indexOf("Map"),_=-1!==e.indexOf("Weak"),j=v?"set":"add",y=o[e],b=y&&y.prototype,x=y,w={},C=function(e){var t=s(b[e]);a(b,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(_&&!d(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return _&&!d(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(_&&!d(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(i(e,!h(y)||!(_||b.forEach&&!f((function(){(new y).entries().next()})))))x=n.getConstructor(t,e,v,j),l.enable();else if(i(e,!0)){var A=new x,S=A[j](_?{}:-0,1)!=A,T=f((function(){A.has(1)})),k=p((function(e){new y(e)})),E=!_&&f((function(){for(var e=new y,t=5;t--;)e[j](t,t);return!e.has(-0)}));k||((x=t((function(e,t){u(e,b);var n=g(new y,e,x);return null!=t&&c(t,n[j],{that:n,AS_ENTRIES:v}),n}))).prototype=b,b.constructor=x),(T||E)&&(C("delete"),C("has"),v&&C("get")),(E||S)&&C(j),_&&b.clear&&delete b.clear}return w[e]=x,r({global:!0,forced:x!=y},w),m(x,e),_||n.setStrong(x,e,v),x}},"./node_modules/core-js/internals/copy-constructor-properties.js":function(e,t,n){var r=n("./node_modules/core-js/internals/has-own-property.js"),o=n("./node_modules/core-js/internals/own-keys.js"),s=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),i=n("./node_modules/core-js/internals/object-define-property.js");e.exports=function(e,t,n){for(var a=o(t),l=i.f,c=s.f,u=0;u<a.length;u++){var h=a[u];r(e,h)||n&&r(n,h)||l(e,h,c(t,h))}}},"./node_modules/core-js/internals/correct-is-regexp-logic.js":function(e,t,n){var r=n("./node_modules/core-js/internals/well-known-symbol.js")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},"./node_modules/core-js/internals/correct-prototype-getter.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},"./node_modules/core-js/internals/create-iterator-constructor.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,o=n("./node_modules/core-js/internals/object-create.js"),s=n("./node_modules/core-js/internals/create-property-descriptor.js"),i=n("./node_modules/core-js/internals/set-to-string-tag.js"),a=n("./node_modules/core-js/internals/iterators.js"),l=function(){return this};e.exports=function(e,t,n,c){var u=t+" Iterator";return e.prototype=o(r,{next:s(+!c,n)}),i(e,u,!1,!0),a[u]=l,e}},"./node_modules/core-js/internals/create-non-enumerable-property.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),o=n("./node_modules/core-js/internals/object-define-property.js"),s=n("./node_modules/core-js/internals/create-property-descriptor.js");e.exports=r?function(e,t,n){return o.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},"./node_modules/core-js/internals/create-property-descriptor.js":function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/core-js/internals/create-property.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/to-property-key.js"),o=n("./node_modules/core-js/internals/object-define-property.js"),s=n("./node_modules/core-js/internals/create-property-descriptor.js");e.exports=function(e,t,n){var i=r(t);i in e?o.f(e,i,s(0,n)):e[i]=n}},"./node_modules/core-js/internals/define-iterator.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/function-call.js"),s=n("./node_modules/core-js/internals/is-pure.js"),i=n("./node_modules/core-js/internals/function-name.js"),a=n("./node_modules/core-js/internals/is-callable.js"),l=n("./node_modules/core-js/internals/create-iterator-constructor.js"),c=n("./node_modules/core-js/internals/object-get-prototype-of.js"),u=n("./node_modules/core-js/internals/object-set-prototype-of.js"),h=n("./node_modules/core-js/internals/set-to-string-tag.js"),d=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),f=n("./node_modules/core-js/internals/redefine.js"),p=n("./node_modules/core-js/internals/well-known-symbol.js"),m=n("./node_modules/core-js/internals/iterators.js"),g=n("./node_modules/core-js/internals/iterators-core.js"),v=i.PROPER,_=i.CONFIGURABLE,j=g.IteratorPrototype,y=g.BUGGY_SAFARI_ITERATORS,b=p("iterator"),x="keys",w="values",C="entries",A=function(){return this};e.exports=function(e,t,n,i,p,g,S){l(n,t,i);var T,k,E,O=function(e){if(e===p&&F)return F;if(!y&&e in D)return D[e];switch(e){case x:case w:case C:return function(){return new n(this,e)}}return function(){return new n(this)}},P=t+" Iterator",M=!1,D=e.prototype,L=D[b]||D["@@iterator"]||p&&D[p],F=!y&&L||O(p),I="Array"==t&&D.entries||L;if(I&&(T=c(I.call(new e)))!==Object.prototype&&T.next&&(s||c(T)===j||(u?u(T,j):a(T[b])||f(T,b,A)),h(T,P,!0,!0),s&&(m[P]=A)),v&&p==w&&L&&L.name!==w&&(!s&&_?d(D,"name",w):(M=!0,F=function(){return o(L,this)})),p)if(k={values:O(w),keys:g?F:O(x),entries:O(C)},S)for(E in k)(y||M||!(E in D))&&f(D,E,k[E]);else r({target:t,proto:!0,forced:y||M},k);return s&&!S||D[b]===F||f(D,b,F,{name:p}),m[t]=F,k}},"./node_modules/core-js/internals/define-well-known-symbol.js":function(e,t,n){var r=n("./node_modules/core-js/internals/path.js"),o=n("./node_modules/core-js/internals/has-own-property.js"),s=n("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),i=n("./node_modules/core-js/internals/object-define-property.js").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||i(t,e,{value:s.f(e)})}},"./node_modules/core-js/internals/descriptors.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"./node_modules/core-js/internals/document-create-element.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/is-object.js"),s=r.document,i=o(s)&&o(s.createElement);e.exports=function(e){return i?s.createElement(e):{}}},"./node_modules/core-js/internals/dom-iterables.js":function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"./node_modules/core-js/internals/dom-token-list-prototype.js":function(e,t,n){var r=n("./node_modules/core-js/internals/document-create-element.js")("span").classList,o=r&&r.constructor&&r.constructor.prototype;e.exports=o===Object.prototype?void 0:o},"./node_modules/core-js/internals/engine-is-browser.js":function(e){e.exports="object"==typeof window},"./node_modules/core-js/internals/engine-is-ios-pebble.js":function(e,t,n){var r=n("./node_modules/core-js/internals/engine-user-agent.js"),o=n("./node_modules/core-js/internals/global.js");e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},"./node_modules/core-js/internals/engine-is-ios.js":function(e,t,n){var r=n("./node_modules/core-js/internals/engine-user-agent.js");e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},"./node_modules/core-js/internals/engine-is-node.js":function(e,t,n){var r=n("./node_modules/core-js/internals/classof-raw.js"),o=n("./node_modules/core-js/internals/global.js");e.exports="process"==r(o.process)},"./node_modules/core-js/internals/engine-is-webos-webkit.js":function(e,t,n){var r=n("./node_modules/core-js/internals/engine-user-agent.js");e.exports=/web0s(?!.*chrome)/i.test(r)},"./node_modules/core-js/internals/engine-user-agent.js":function(e,t,n){var r=n("./node_modules/core-js/internals/get-built-in.js");e.exports=r("navigator","userAgent")||""},"./node_modules/core-js/internals/engine-v8-version.js":function(e,t,n){var r,o,s=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/engine-user-agent.js"),a=s.process,l=s.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(o=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&i&&(!(r=i.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=i.match(/Chrome\/(\d+)/))&&(o=+r[1]),e.exports=o},"./node_modules/core-js/internals/enum-bug-keys.js":function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"./node_modules/core-js/internals/export.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,s=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),i=n("./node_modules/core-js/internals/redefine.js"),a=n("./node_modules/core-js/internals/set-global.js"),l=n("./node_modules/core-js/internals/copy-constructor-properties.js"),c=n("./node_modules/core-js/internals/is-forced.js");e.exports=function(e,t){var n,u,h,d,f,p=e.target,m=e.global,g=e.stat;if(n=m?r:g?r[p]||a(p,{}):(r[p]||{}).prototype)for(u in t){if(d=t[u],h=e.noTargetGet?(f=o(n,u))&&f.value:n[u],!c(m?u:p+(g?".":"#")+u,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(e.sham||h&&h.sham)&&s(d,"sham",!0),i(n,u,d,e)}}},"./node_modules/core-js/internals/fails.js":function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.regexp.exec.js");var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),o=n("./node_modules/core-js/internals/redefine.js"),s=n("./node_modules/core-js/internals/regexp-exec.js"),i=n("./node_modules/core-js/internals/fails.js"),a=n("./node_modules/core-js/internals/well-known-symbol.js"),l=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),c=a("species"),u=RegExp.prototype;e.exports=function(e,t,n,h){var d=a(e),f=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=f&&!i((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!f||!p||n){var m=r(/./[d]),g=t(d,""[e],(function(e,t,n,o,i){var a=r(e),l=t.exec;return l===s||l===u.exec?f&&!i?{done:!0,value:m(t,n,o)}:{done:!0,value:a(n,t,o)}:{done:!1}}));o(String.prototype,e,g[0]),o(u,d,g[1])}h&&l(u[d],"sham",!0)}},"./node_modules/core-js/internals/freezing.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},"./node_modules/core-js/internals/function-apply.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-bind-native.js"),o=Function.prototype,s=o.apply,i=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?i.bind(s):function(){return i.apply(s,arguments)})},"./node_modules/core-js/internals/function-bind-context.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),o=n("./node_modules/core-js/internals/a-callable.js"),s=n("./node_modules/core-js/internals/function-bind-native.js"),i=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:s?i(e,t):function(){return e.apply(t,arguments)}}},"./node_modules/core-js/internals/function-bind-native.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js");e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},"./node_modules/core-js/internals/function-bind.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/function-uncurry-this.js"),s=n("./node_modules/core-js/internals/a-callable.js"),i=n("./node_modules/core-js/internals/is-object.js"),a=n("./node_modules/core-js/internals/has-own-property.js"),l=n("./node_modules/core-js/internals/array-slice.js"),c=n("./node_modules/core-js/internals/function-bind-native.js"),u=r.Function,h=o([].concat),d=o([].join),f={},p=function(e,t,n){if(!a(f,t)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";f[t]=u("C,a","return new C("+d(r,",")+")")}return f[t](e,n)};e.exports=c?u.bind:function(e){var t=s(this),n=t.prototype,r=l(arguments,1),o=function(){var n=h(r,l(arguments));return this instanceof o?p(t,n.length,n):t.apply(e,n)};return i(n)&&(o.prototype=n),o}},"./node_modules/core-js/internals/function-call.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-bind-native.js"),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},"./node_modules/core-js/internals/function-name.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),o=n("./node_modules/core-js/internals/has-own-property.js"),s=Function.prototype,i=r&&Object.getOwnPropertyDescriptor,a=o(s,"name"),l=a&&"something"===function(){}.name,c=a&&(!r||r&&i(s,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},"./node_modules/core-js/internals/function-uncurry-this.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-bind-native.js"),o=Function.prototype,s=o.bind,i=o.call,a=r&&s.bind(i,i);e.exports=r?function(e){return e&&a(e)}:function(e){return e&&function(){return i.apply(e,arguments)}}},"./node_modules/core-js/internals/get-built-in.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/is-callable.js"),s=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(r[e]):r[e]&&r[e][t]}},"./node_modules/core-js/internals/get-iterator-method.js":function(e,t,n){var r=n("./node_modules/core-js/internals/classof.js"),o=n("./node_modules/core-js/internals/get-method.js"),s=n("./node_modules/core-js/internals/iterators.js"),i=n("./node_modules/core-js/internals/well-known-symbol.js")("iterator");e.exports=function(e){if(null!=e)return o(e,i)||o(e,"@@iterator")||s[r(e)]}},"./node_modules/core-js/internals/get-iterator.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/function-call.js"),s=n("./node_modules/core-js/internals/a-callable.js"),i=n("./node_modules/core-js/internals/an-object.js"),a=n("./node_modules/core-js/internals/try-to-string.js"),l=n("./node_modules/core-js/internals/get-iterator-method.js"),c=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?l(e):t;if(s(n))return i(o(n,e));throw c(a(e)+" is not iterable")}},"./node_modules/core-js/internals/get-method.js":function(e,t,n){var r=n("./node_modules/core-js/internals/a-callable.js");e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},"./node_modules/core-js/internals/global.js":function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},"./node_modules/core-js/internals/has-own-property.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),o=n("./node_modules/core-js/internals/to-object.js"),s=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(o(e),t)}},"./node_modules/core-js/internals/hidden-keys.js":function(e){e.exports={}},"./node_modules/core-js/internals/host-report-errors.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js");e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},"./node_modules/core-js/internals/html.js":function(e,t,n){var r=n("./node_modules/core-js/internals/get-built-in.js");e.exports=r("document","documentElement")},"./node_modules/core-js/internals/ie8-dom-define.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),o=n("./node_modules/core-js/internals/fails.js"),s=n("./node_modules/core-js/internals/document-create-element.js");e.exports=!r&&!o((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},"./node_modules/core-js/internals/indexed-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/function-uncurry-this.js"),s=n("./node_modules/core-js/internals/fails.js"),i=n("./node_modules/core-js/internals/classof-raw.js"),a=r.Object,l=o("".split);e.exports=s((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?l(e,""):a(e)}:a},"./node_modules/core-js/internals/inherit-if-required.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-callable.js"),o=n("./node_modules/core-js/internals/is-object.js"),s=n("./node_modules/core-js/internals/object-set-prototype-of.js");e.exports=function(e,t,n){var i,a;return s&&r(i=t.constructor)&&i!==n&&o(a=i.prototype)&&a!==n.prototype&&s(e,a),e}},"./node_modules/core-js/internals/inspect-source.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),o=n("./node_modules/core-js/internals/is-callable.js"),s=n("./node_modules/core-js/internals/shared-store.js"),i=r(Function.toString);o(s.inspectSource)||(s.inspectSource=function(e){return i(e)}),e.exports=s.inspectSource},"./node_modules/core-js/internals/internal-metadata.js":function(e,t,n){var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/function-uncurry-this.js"),s=n("./node_modules/core-js/internals/hidden-keys.js"),i=n("./node_modules/core-js/internals/is-object.js"),a=n("./node_modules/core-js/internals/has-own-property.js"),l=n("./node_modules/core-js/internals/object-define-property.js").f,c=n("./node_modules/core-js/internals/object-get-own-property-names.js"),u=n("./node_modules/core-js/internals/object-get-own-property-names-external.js"),h=n("./node_modules/core-js/internals/object-is-extensible.js"),d=n("./node_modules/core-js/internals/uid.js"),f=n("./node_modules/core-js/internals/freezing.js"),p=!1,m=d("meta"),g=0,v=function(e){l(e,m,{value:{objectID:"O"+g++,weakData:{}}})},_=e.exports={enable:function(){_.enable=function(){},p=!0;var e=c.f,t=o([].splice),n={};n[m]=1,e(n).length&&(c.f=function(n){for(var r=e(n),o=0,s=r.length;o<s;o++)if(r[o]===m){t(r,o,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,m)){if(!h(e))return"F";if(!t)return"E";v(e)}return e[m].objectID},getWeakData:function(e,t){if(!a(e,m)){if(!h(e))return!0;if(!t)return!1;v(e)}return e[m].weakData},onFreeze:function(e){return f&&p&&h(e)&&!a(e,m)&&v(e),e}};s[m]=!0},"./node_modules/core-js/internals/internal-state.js":function(e,t,n){var r,o,s,i=n("./node_modules/core-js/internals/native-weak-map.js"),a=n("./node_modules/core-js/internals/global.js"),l=n("./node_modules/core-js/internals/function-uncurry-this.js"),c=n("./node_modules/core-js/internals/is-object.js"),u=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),h=n("./node_modules/core-js/internals/has-own-property.js"),d=n("./node_modules/core-js/internals/shared-store.js"),f=n("./node_modules/core-js/internals/shared-key.js"),p=n("./node_modules/core-js/internals/hidden-keys.js"),m="Object already initialized",g=a.TypeError,v=a.WeakMap;if(i||d.state){var _=d.state||(d.state=new v),j=l(_.get),y=l(_.has),b=l(_.set);r=function(e,t){if(y(_,e))throw new g(m);return t.facade=e,b(_,e,t),t},o=function(e){return j(_,e)||{}},s=function(e){return y(_,e)}}else{var x=f("state");p[x]=!0,r=function(e,t){if(h(e,x))throw new g(m);return t.facade=e,u(e,x,t),t},o=function(e){return h(e,x)?e[x]:{}},s=function(e){return h(e,x)}}e.exports={set:r,get:o,has:s,enforce:function(e){return s(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=o(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}}}},"./node_modules/core-js/internals/is-array-iterator-method.js":function(e,t,n){var r=n("./node_modules/core-js/internals/well-known-symbol.js"),o=n("./node_modules/core-js/internals/iterators.js"),s=r("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[s]===e)}},"./node_modules/core-js/internals/is-array.js":function(e,t,n){var r=n("./node_modules/core-js/internals/classof-raw.js");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"./node_modules/core-js/internals/is-callable.js":function(e){e.exports=function(e){return"function"==typeof e}},"./node_modules/core-js/internals/is-constructor.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),o=n("./node_modules/core-js/internals/fails.js"),s=n("./node_modules/core-js/internals/is-callable.js"),i=n("./node_modules/core-js/internals/classof.js"),a=n("./node_modules/core-js/internals/get-built-in.js"),l=n("./node_modules/core-js/internals/inspect-source.js"),c=function(){},u=[],h=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=r(d.exec),p=!d.exec(c),m=function(e){if(!s(e))return!1;try{return h(c,u,e),!0}catch(e){return!1}},g=function(e){if(!s(e))return!1;switch(i(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,l(e))}catch(e){return!0}};g.sham=!0,e.exports=!h||o((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?g:m},"./node_modules/core-js/internals/is-forced.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js"),o=n("./node_modules/core-js/internals/is-callable.js"),s=/#|\.prototype\./,i=function(e,t){var n=l[a(e)];return n==u||n!=c&&(o(t)?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(s,".").toLowerCase()},l=i.data={},c=i.NATIVE="N",u=i.POLYFILL="P";e.exports=i},"./node_modules/core-js/internals/is-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-callable.js");e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},"./node_modules/core-js/internals/is-pure.js":function(e){e.exports=!1},"./node_modules/core-js/internals/is-regexp.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-object.js"),o=n("./node_modules/core-js/internals/classof-raw.js"),s=n("./node_modules/core-js/internals/well-known-symbol.js")("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==o(e))}},"./node_modules/core-js/internals/is-symbol.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/get-built-in.js"),s=n("./node_modules/core-js/internals/is-callable.js"),i=n("./node_modules/core-js/internals/object-is-prototype-of.js"),a=n("./node_modules/core-js/internals/use-symbol-as-uid.js"),l=r.Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return s(t)&&i(t.prototype,l(e))}},"./node_modules/core-js/internals/iterate.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/function-bind-context.js"),s=n("./node_modules/core-js/internals/function-call.js"),i=n("./node_modules/core-js/internals/an-object.js"),a=n("./node_modules/core-js/internals/try-to-string.js"),l=n("./node_modules/core-js/internals/is-array-iterator-method.js"),c=n("./node_modules/core-js/internals/length-of-array-like.js"),u=n("./node_modules/core-js/internals/object-is-prototype-of.js"),h=n("./node_modules/core-js/internals/get-iterator.js"),d=n("./node_modules/core-js/internals/get-iterator-method.js"),f=n("./node_modules/core-js/internals/iterator-close.js"),p=r.TypeError,m=function(e,t){this.stopped=e,this.result=t},g=m.prototype;e.exports=function(e,t,n){var r,v,_,j,y,b,x,w=n&&n.that,C=!(!n||!n.AS_ENTRIES),A=!(!n||!n.IS_ITERATOR),S=!(!n||!n.INTERRUPTED),T=o(t,w),k=function(e){return r&&f(r,"normal",e),new m(!0,e)},E=function(e){return C?(i(e),S?T(e[0],e[1],k):T(e[0],e[1])):S?T(e,k):T(e)};if(A)r=e;else{if(!(v=d(e)))throw p(a(e)+" is not iterable");if(l(v)){for(_=0,j=c(e);j>_;_++)if((y=E(e[_]))&&u(g,y))return y;return new m(!1)}r=h(e,v)}for(b=r.next;!(x=s(b,r)).done;){try{y=E(x.value)}catch(e){f(r,"throw",e)}if("object"==typeof y&&y&&u(g,y))return y}return new m(!1)}},"./node_modules/core-js/internals/iterator-close.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-call.js"),o=n("./node_modules/core-js/internals/an-object.js"),s=n("./node_modules/core-js/internals/get-method.js");e.exports=function(e,t,n){var i,a;o(e);try{if(!(i=s(e,"return"))){if("throw"===t)throw n;return n}i=r(i,e)}catch(e){a=!0,i=e}if("throw"===t)throw n;if(a)throw i;return o(i),n}},"./node_modules/core-js/internals/iterators-core.js":function(e,t,n){"use strict";var r,o,s,i=n("./node_modules/core-js/internals/fails.js"),a=n("./node_modules/core-js/internals/is-callable.js"),l=n("./node_modules/core-js/internals/object-create.js"),c=n("./node_modules/core-js/internals/object-get-prototype-of.js"),u=n("./node_modules/core-js/internals/redefine.js"),h=n("./node_modules/core-js/internals/well-known-symbol.js"),d=n("./node_modules/core-js/internals/is-pure.js"),f=h("iterator"),p=!1;[].keys&&("next"in(s=[].keys())?(o=c(c(s)))!==Object.prototype&&(r=o):p=!0),null==r||i((function(){var e={};return r[f].call(e)!==e}))?r={}:d&&(r=l(r)),a(r[f])||u(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},"./node_modules/core-js/internals/iterators.js":function(e){e.exports={}},"./node_modules/core-js/internals/length-of-array-like.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-length.js");e.exports=function(e){return r(e.length)}},"./node_modules/core-js/internals/microtask.js":function(e,t,n){var r,o,s,i,a,l,c,u,h=n("./node_modules/core-js/internals/global.js"),d=n("./node_modules/core-js/internals/function-bind-context.js"),f=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,p=n("./node_modules/core-js/internals/task.js").set,m=n("./node_modules/core-js/internals/engine-is-ios.js"),g=n("./node_modules/core-js/internals/engine-is-ios-pebble.js"),v=n("./node_modules/core-js/internals/engine-is-webos-webkit.js"),_=n("./node_modules/core-js/internals/engine-is-node.js"),j=h.MutationObserver||h.WebKitMutationObserver,y=h.document,b=h.process,x=h.Promise,w=f(h,"queueMicrotask"),C=w&&w.value;C||(r=function(){var e,t;for(_&&(e=b.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?i():s=void 0,e}}s=void 0,e&&e.enter()},m||_||v||!j||!y?!g&&x&&x.resolve?((c=x.resolve(void 0)).constructor=x,u=d(c.then,c),i=function(){u(r)}):_?i=function(){b.nextTick(r)}:(p=d(p,h),i=function(){p(r)}):(a=!0,l=y.createTextNode(""),new j(r).observe(l,{characterData:!0}),i=function(){l.data=a=!a})),e.exports=C||function(e){var t={fn:e,next:void 0};s&&(s.next=t),o||(o=t,i()),s=t}},"./node_modules/core-js/internals/native-promise-constructor.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js");e.exports=r.Promise},"./node_modules/core-js/internals/native-symbol.js":function(e,t,n){var r=n("./node_modules/core-js/internals/engine-v8-version.js"),o=n("./node_modules/core-js/internals/fails.js");e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"./node_modules/core-js/internals/native-url.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js"),o=n("./node_modules/core-js/internals/well-known-symbol.js"),s=n("./node_modules/core-js/internals/is-pure.js"),i=o("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),s&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[i]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},"./node_modules/core-js/internals/native-weak-map.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/is-callable.js"),s=n("./node_modules/core-js/internals/inspect-source.js"),i=r.WeakMap;e.exports=o(i)&&/native code/.test(s(i))},"./node_modules/core-js/internals/new-promise-capability.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/a-callable.js"),o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},"./node_modules/core-js/internals/not-a-regexp.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/is-regexp.js"),s=r.TypeError;e.exports=function(e){if(o(e))throw s("The method doesn't accept regular expressions");return e}},"./node_modules/core-js/internals/number-parse-float.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/fails.js"),s=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/to-string.js"),a=n("./node_modules/core-js/internals/string-trim.js").trim,l=n("./node_modules/core-js/internals/whitespaces.js"),c=s("".charAt),u=r.parseFloat,h=r.Symbol,d=h&&h.iterator,f=1/u(l+"-0")!=-1/0||d&&!o((function(){u(Object(d))}));e.exports=f?function(e){var t=a(i(e)),n=u(t);return 0===n&&"-"==c(t,0)?-0:n}:u},"./node_modules/core-js/internals/object-assign.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/descriptors.js"),o=n("./node_modules/core-js/internals/function-uncurry-this.js"),s=n("./node_modules/core-js/internals/function-call.js"),i=n("./node_modules/core-js/internals/fails.js"),a=n("./node_modules/core-js/internals/object-keys.js"),l=n("./node_modules/core-js/internals/object-get-own-property-symbols.js"),c=n("./node_modules/core-js/internals/object-property-is-enumerable.js"),u=n("./node_modules/core-js/internals/to-object.js"),h=n("./node_modules/core-js/internals/indexed-object.js"),d=Object.assign,f=Object.defineProperty,p=o([].concat);e.exports=!d||i((function(){if(r&&1!==d({b:1},d(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||a(d({},t)).join("")!=o}))?function(e,t){for(var n=u(e),o=arguments.length,i=1,d=l.f,f=c.f;o>i;)for(var m,g=h(arguments[i++]),v=d?p(a(g),d(g)):a(g),_=v.length,j=0;_>j;)m=v[j++],r&&!s(f,g,m)||(n[m]=g[m]);return n}:d},"./node_modules/core-js/internals/object-create.js":function(e,t,n){var r,o=n("./node_modules/core-js/internals/an-object.js"),s=n("./node_modules/core-js/internals/object-define-properties.js"),i=n("./node_modules/core-js/internals/enum-bug-keys.js"),a=n("./node_modules/core-js/internals/hidden-keys.js"),l=n("./node_modules/core-js/internals/html.js"),c=n("./node_modules/core-js/internals/document-create-element.js"),u=n("./node_modules/core-js/internals/shared-key.js"),h=u("IE_PROTO"),d=function(){},f=function(e){return"<script>"+e+"</"+"script>"},p=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;m="undefined"!=typeof document?document.domain&&r?p(r):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):p(r);for(var n=i.length;n--;)delete m.prototype[i[n]];return m()};a[h]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=o(e),n=new d,d.prototype=null,n[h]=e):n=m(),void 0===t?n:s.f(n,t)}},"./node_modules/core-js/internals/object-define-properties.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),o=n("./node_modules/core-js/internals/v8-prototype-define-bug.js"),s=n("./node_modules/core-js/internals/object-define-property.js"),i=n("./node_modules/core-js/internals/an-object.js"),a=n("./node_modules/core-js/internals/to-indexed-object.js"),l=n("./node_modules/core-js/internals/object-keys.js");t.f=r&&!o?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),o=l(t),c=o.length,u=0;c>u;)s.f(e,n=o[u++],r[n]);return e}},"./node_modules/core-js/internals/object-define-property.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/descriptors.js"),s=n("./node_modules/core-js/internals/ie8-dom-define.js"),i=n("./node_modules/core-js/internals/v8-prototype-define-bug.js"),a=n("./node_modules/core-js/internals/an-object.js"),l=n("./node_modules/core-js/internals/to-property-key.js"),c=r.TypeError,u=Object.defineProperty,h=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=o?i?function(e,t,n){if(a(e),t=l(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n.writable){var r=h(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:f in n?n.configurable:r.configurable,enumerable:d in n?n.enumerable:r.enumerable,writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=l(t),a(n),s)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"./node_modules/core-js/internals/object-get-own-property-descriptor.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),o=n("./node_modules/core-js/internals/function-call.js"),s=n("./node_modules/core-js/internals/object-property-is-enumerable.js"),i=n("./node_modules/core-js/internals/create-property-descriptor.js"),a=n("./node_modules/core-js/internals/to-indexed-object.js"),l=n("./node_modules/core-js/internals/to-property-key.js"),c=n("./node_modules/core-js/internals/has-own-property.js"),u=n("./node_modules/core-js/internals/ie8-dom-define.js"),h=Object.getOwnPropertyDescriptor;t.f=r?h:function(e,t){if(e=a(e),t=l(t),u)try{return h(e,t)}catch(e){}if(c(e,t))return i(!o(s.f,e,t),e[t])}},"./node_modules/core-js/internals/object-get-own-property-names-external.js":function(e,t,n){var r=n("./node_modules/core-js/internals/classof-raw.js"),o=n("./node_modules/core-js/internals/to-indexed-object.js"),s=n("./node_modules/core-js/internals/object-get-own-property-names.js").f,i=n("./node_modules/core-js/internals/array-slice-simple.js"),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"Window"==r(e)?function(e){try{return s(e)}catch(e){return i(a)}}(e):s(o(e))}},"./node_modules/core-js/internals/object-get-own-property-names.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-keys-internal.js"),o=n("./node_modules/core-js/internals/enum-bug-keys.js").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},"./node_modules/core-js/internals/object-get-own-property-symbols.js":function(e,t){t.f=Object.getOwnPropertySymbols},"./node_modules/core-js/internals/object-get-prototype-of.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/has-own-property.js"),s=n("./node_modules/core-js/internals/is-callable.js"),i=n("./node_modules/core-js/internals/to-object.js"),a=n("./node_modules/core-js/internals/shared-key.js"),l=n("./node_modules/core-js/internals/correct-prototype-getter.js"),c=a("IE_PROTO"),u=r.Object,h=u.prototype;e.exports=l?u.getPrototypeOf:function(e){var t=i(e);if(o(t,c))return t[c];var n=t.constructor;return s(n)&&t instanceof n?n.prototype:t instanceof u?h:null}},"./node_modules/core-js/internals/object-is-extensible.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js"),o=n("./node_modules/core-js/internals/is-object.js"),s=n("./node_modules/core-js/internals/classof-raw.js"),i=n("./node_modules/core-js/internals/array-buffer-non-extensible.js"),a=Object.isExtensible,l=r((function(){a(1)}));e.exports=l||i?function(e){return!!o(e)&&((!i||"ArrayBuffer"!=s(e))&&(!a||a(e)))}:a},"./node_modules/core-js/internals/object-is-prototype-of.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js");e.exports=r({}.isPrototypeOf)},"./node_modules/core-js/internals/object-keys-internal.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),o=n("./node_modules/core-js/internals/has-own-property.js"),s=n("./node_modules/core-js/internals/to-indexed-object.js"),i=n("./node_modules/core-js/internals/array-includes.js").indexOf,a=n("./node_modules/core-js/internals/hidden-keys.js"),l=r([].push);e.exports=function(e,t){var n,r=s(e),c=0,u=[];for(n in r)!o(a,n)&&o(r,n)&&l(u,n);for(;t.length>c;)o(r,n=t[c++])&&(~i(u,n)||l(u,n));return u}},"./node_modules/core-js/internals/object-keys.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-keys-internal.js"),o=n("./node_modules/core-js/internals/enum-bug-keys.js");e.exports=Object.keys||function(e){return r(e,o)}},"./node_modules/core-js/internals/object-property-is-enumerable.js":function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},"./node_modules/core-js/internals/object-set-prototype-of.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),o=n("./node_modules/core-js/internals/an-object.js"),s=n("./node_modules/core-js/internals/a-possible-prototype.js");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return o(n),s(r),t?e(n,r):n.__proto__=r,n}}():void 0)},"./node_modules/core-js/internals/object-to-string.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/to-string-tag-support.js"),o=n("./node_modules/core-js/internals/classof.js");e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},"./node_modules/core-js/internals/ordinary-to-primitive.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/function-call.js"),s=n("./node_modules/core-js/internals/is-callable.js"),i=n("./node_modules/core-js/internals/is-object.js"),a=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&s(n=e.toString)&&!i(r=o(n,e)))return r;if(s(n=e.valueOf)&&!i(r=o(n,e)))return r;if("string"!==t&&s(n=e.toString)&&!i(r=o(n,e)))return r;throw a("Can't convert object to primitive value")}},"./node_modules/core-js/internals/own-keys.js":function(e,t,n){var r=n("./node_modules/core-js/internals/get-built-in.js"),o=n("./node_modules/core-js/internals/function-uncurry-this.js"),s=n("./node_modules/core-js/internals/object-get-own-property-names.js"),i=n("./node_modules/core-js/internals/object-get-own-property-symbols.js"),a=n("./node_modules/core-js/internals/an-object.js"),l=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=s.f(a(e)),n=i.f;return n?l(t,n(e)):t}},"./node_modules/core-js/internals/path.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js");e.exports=r},"./node_modules/core-js/internals/perform.js":function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},"./node_modules/core-js/internals/promise-resolve.js":function(e,t,n){var r=n("./node_modules/core-js/internals/an-object.js"),o=n("./node_modules/core-js/internals/is-object.js"),s=n("./node_modules/core-js/internals/new-promise-capability.js");e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=s.f(e);return(0,n.resolve)(t),n.promise}},"./node_modules/core-js/internals/queue.js":function(e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},"./node_modules/core-js/internals/redefine-all.js":function(e,t,n){var r=n("./node_modules/core-js/internals/redefine.js");e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},"./node_modules/core-js/internals/redefine.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/is-callable.js"),s=n("./node_modules/core-js/internals/has-own-property.js"),i=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),a=n("./node_modules/core-js/internals/set-global.js"),l=n("./node_modules/core-js/internals/inspect-source.js"),c=n("./node_modules/core-js/internals/internal-state.js"),u=n("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,h=c.get,d=c.enforce,f=String(String).split("String");(e.exports=function(e,t,n,l){var c,h=!!l&&!!l.unsafe,p=!!l&&!!l.enumerable,m=!!l&&!!l.noTargetGet,g=l&&void 0!==l.name?l.name:t;o(n)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!s(n,"name")||u&&n.name!==g)&&i(n,"name",g),(c=d(n)).source||(c.source=f.join("string"==typeof g?g:""))),e!==r?(h?!m&&e[t]&&(p=!0):delete e[t],p?e[t]=n:i(e,t,n)):p?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return o(this)&&h(this).source||l(this)}))},"./node_modules/core-js/internals/regexp-exec-abstract.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/function-call.js"),s=n("./node_modules/core-js/internals/an-object.js"),i=n("./node_modules/core-js/internals/is-callable.js"),a=n("./node_modules/core-js/internals/classof-raw.js"),l=n("./node_modules/core-js/internals/regexp-exec.js"),c=r.TypeError;e.exports=function(e,t){var n=e.exec;if(i(n)){var r=o(n,e,t);return null!==r&&s(r),r}if("RegExp"===a(e))return o(l,e,t);throw c("RegExp#exec called on incompatible receiver")}},"./node_modules/core-js/internals/regexp-exec.js":function(e,t,n){"use strict";var r,o,s=n("./node_modules/core-js/internals/function-call.js"),i=n("./node_modules/core-js/internals/function-uncurry-this.js"),a=n("./node_modules/core-js/internals/to-string.js"),l=n("./node_modules/core-js/internals/regexp-flags.js"),c=n("./node_modules/core-js/internals/regexp-sticky-helpers.js"),u=n("./node_modules/core-js/internals/shared.js"),h=n("./node_modules/core-js/internals/object-create.js"),d=n("./node_modules/core-js/internals/internal-state.js").get,f=n("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),p=n("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),m=u("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,v=g,_=i("".charAt),j=i("".indexOf),y=i("".replace),b=i("".slice),x=(o=/b*/g,s(g,r=/a/,"a"),s(g,o,"a"),0!==r.lastIndex||0!==o.lastIndex),w=c.BROKEN_CARET,C=void 0!==/()??/.exec("")[1];(x||C||w||f||p)&&(v=function(e){var t,n,r,o,i,c,u,f=this,p=d(f),A=a(e),S=p.raw;if(S)return S.lastIndex=f.lastIndex,t=s(v,S,A),f.lastIndex=S.lastIndex,t;var T=p.groups,k=w&&f.sticky,E=s(l,f),O=f.source,P=0,M=A;if(k&&(E=y(E,"y",""),-1===j(E,"g")&&(E+="g"),M=b(A,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==_(A,f.lastIndex-1))&&(O="(?: "+O+")",M=" "+M,P++),n=new RegExp("^(?:"+O+")",E)),C&&(n=new RegExp("^"+O+"$(?!\\s)",E)),x&&(r=f.lastIndex),o=s(g,k?n:f,M),k?o?(o.input=b(o.input,P),o[0]=b(o[0],P),o.index=f.lastIndex,f.lastIndex+=o[0].length):f.lastIndex=0:x&&o&&(f.lastIndex=f.global?o.index+o[0].length:r),C&&o&&o.length>1&&s(m,o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&T)for(o.groups=c=h(null),i=0;i<T.length;i++)c[(u=T[i])[0]]=o[u[1]];return o}),e.exports=v},"./node_modules/core-js/internals/regexp-flags.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/an-object.js");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"./node_modules/core-js/internals/regexp-sticky-helpers.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js"),o=n("./node_modules/core-js/internals/global.js").RegExp,s=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),i=s||r((function(){return!o("a","y").sticky})),a=s||r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:a,MISSED_STICKY:i,UNSUPPORTED_Y:s}},"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js"),o=n("./node_modules/core-js/internals/global.js").RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},"./node_modules/core-js/internals/regexp-unsupported-ncg.js":function(e,t,n){var r=n("./node_modules/core-js/internals/fails.js"),o=n("./node_modules/core-js/internals/global.js").RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"./node_modules/core-js/internals/require-object-coercible.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js").TypeError;e.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}},"./node_modules/core-js/internals/set-global.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},"./node_modules/core-js/internals/set-species.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/get-built-in.js"),o=n("./node_modules/core-js/internals/object-define-property.js"),s=n("./node_modules/core-js/internals/well-known-symbol.js"),i=n("./node_modules/core-js/internals/descriptors.js"),a=s("species");e.exports=function(e){var t=r(e),n=o.f;i&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},"./node_modules/core-js/internals/set-to-string-tag.js":function(e,t,n){var r=n("./node_modules/core-js/internals/object-define-property.js").f,o=n("./node_modules/core-js/internals/has-own-property.js"),s=n("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!o(e,s)&&r(e,s,{configurable:!0,value:t})}},"./node_modules/core-js/internals/shared-key.js":function(e,t,n){var r=n("./node_modules/core-js/internals/shared.js"),o=n("./node_modules/core-js/internals/uid.js"),s=r("keys");e.exports=function(e){return s[e]||(s[e]=o(e))}},"./node_modules/core-js/internals/shared-store.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/set-global.js"),s="__core-js_shared__",i=r[s]||o(s,{});e.exports=i},"./node_modules/core-js/internals/shared.js":function(e,t,n){var r=n("./node_modules/core-js/internals/is-pure.js"),o=n("./node_modules/core-js/internals/shared-store.js");(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.1",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},"./node_modules/core-js/internals/species-constructor.js":function(e,t,n){var r=n("./node_modules/core-js/internals/an-object.js"),o=n("./node_modules/core-js/internals/a-constructor.js"),s=n("./node_modules/core-js/internals/well-known-symbol.js")("species");e.exports=function(e,t){var n,i=r(e).constructor;return void 0===i||null==(n=r(i)[s])?t:o(n)}},"./node_modules/core-js/internals/string-multibyte.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),o=n("./node_modules/core-js/internals/to-integer-or-infinity.js"),s=n("./node_modules/core-js/internals/to-string.js"),i=n("./node_modules/core-js/internals/require-object-coercible.js"),a=r("".charAt),l=r("".charCodeAt),c=r("".slice),u=function(e){return function(t,n){var r,u,h=s(i(t)),d=o(n),f=h.length;return d<0||d>=f?e?"":void 0:(r=l(h,d))<55296||r>56319||d+1===f||(u=l(h,d+1))<56320||u>57343?e?a(h,d):r:e?c(h,d,d+2):u-56320+(r-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},"./node_modules/core-js/internals/string-punycode-to-ascii.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/function-uncurry-this.js"),s=2147483647,i=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,l="Overflow: input needs wider integers to process",c=r.RangeError,u=o(a.exec),h=Math.floor,d=String.fromCharCode,f=o("".charCodeAt),p=o([].join),m=o([].push),g=o("".replace),v=o("".split),_=o("".toLowerCase),j=function(e){return e+22+75*(e<26)},y=function(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;)e=h(e/35),r+=36;return h(r+36*e/(e+38))},b=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=f(e,n++);if(o>=55296&&o<=56319&&n<r){var s=f(e,n++);56320==(64512&s)?m(t,((1023&o)<<10)+(1023&s)+65536):(m(t,o),n--)}else m(t,o)}return t}(e);var n,r,o=e.length,i=128,a=0,u=72;for(n=0;n<e.length;n++)(r=e[n])<128&&m(t,d(r));var g=t.length,v=g;for(g&&m(t,"-");v<o;){var _=s;for(n=0;n<e.length;n++)(r=e[n])>=i&&r<_&&(_=r);var b=v+1;if(_-i>h((s-a)/b))throw c(l);for(a+=(_-i)*b,i=_,n=0;n<e.length;n++){if((r=e[n])<i&&++a>s)throw c(l);if(r==i){for(var x=a,w=36;;){var C=w<=u?1:w>=u+26?26:w-u;if(x<C)break;var A=x-C,S=36-C;m(t,d(j(C+A%S))),x=h(A/S),w+=36}m(t,d(j(x))),u=y(a,b,v==g),a=0,v++}}a++,i++}return p(t,"")};e.exports=function(e){var t,n,r=[],o=v(g(_(e),a,"."),".");for(t=0;t<o.length;t++)n=o[t],m(r,u(i,n)?"xn--"+b(n):n);return p(r,".")}},"./node_modules/core-js/internals/string-repeat.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/to-integer-or-infinity.js"),s=n("./node_modules/core-js/internals/to-string.js"),i=n("./node_modules/core-js/internals/require-object-coercible.js"),a=r.RangeError;e.exports=function(e){var t=s(i(this)),n="",r=o(e);if(r<0||r==1/0)throw a("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},"./node_modules/core-js/internals/string-trim-forced.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-name.js").PROPER,o=n("./node_modules/core-js/internals/fails.js"),s=n("./node_modules/core-js/internals/whitespaces.js");e.exports=function(e){return o((function(){return!!s[e]()||"​᠎"!=="​᠎"[e]()||r&&s[e].name!==e}))}},"./node_modules/core-js/internals/string-trim.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),o=n("./node_modules/core-js/internals/require-object-coercible.js"),s=n("./node_modules/core-js/internals/to-string.js"),i=n("./node_modules/core-js/internals/whitespaces.js"),a=r("".replace),l="["+i+"]",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),h=function(e){return function(t){var n=s(o(t));return 1&e&&(n=a(n,c,"")),2&e&&(n=a(n,u,"")),n}};e.exports={start:h(1),end:h(2),trim:h(3)}},"./node_modules/core-js/internals/task.js":function(e,t,n){var r,o,s,i,a=n("./node_modules/core-js/internals/global.js"),l=n("./node_modules/core-js/internals/function-apply.js"),c=n("./node_modules/core-js/internals/function-bind-context.js"),u=n("./node_modules/core-js/internals/is-callable.js"),h=n("./node_modules/core-js/internals/has-own-property.js"),d=n("./node_modules/core-js/internals/fails.js"),f=n("./node_modules/core-js/internals/html.js"),p=n("./node_modules/core-js/internals/array-slice.js"),m=n("./node_modules/core-js/internals/document-create-element.js"),g=n("./node_modules/core-js/internals/validate-arguments-length.js"),v=n("./node_modules/core-js/internals/engine-is-ios.js"),_=n("./node_modules/core-js/internals/engine-is-node.js"),j=a.setImmediate,y=a.clearImmediate,b=a.process,x=a.Dispatch,w=a.Function,C=a.MessageChannel,A=a.String,S=0,T={},k="onreadystatechange";try{r=a.location}catch(e){}var E=function(e){if(h(T,e)){var t=T[e];delete T[e],t()}},O=function(e){return function(){E(e)}},P=function(e){E(e.data)},M=function(e){a.postMessage(A(e),r.protocol+"//"+r.host)};j&&y||(j=function(e){g(arguments.length,1);var t=u(e)?e:w(e),n=p(arguments,1);return T[++S]=function(){l(t,void 0,n)},o(S),S},y=function(e){delete T[e]},_?o=function(e){b.nextTick(O(e))}:x&&x.now?o=function(e){x.now(O(e))}:C&&!v?(i=(s=new C).port2,s.port1.onmessage=P,o=c(i.postMessage,i)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&r&&"file:"!==r.protocol&&!d(M)?(o=M,a.addEventListener("message",P,!1)):o=k in m("script")?function(e){f.appendChild(m("script")).onreadystatechange=function(){f.removeChild(this),E(e)}}:function(e){setTimeout(O(e),0)}),e.exports={set:j,clear:y}},"./node_modules/core-js/internals/to-absolute-index.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-integer-or-infinity.js"),o=Math.max,s=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):s(n,t)}},"./node_modules/core-js/internals/to-indexed-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/indexed-object.js"),o=n("./node_modules/core-js/internals/require-object-coercible.js");e.exports=function(e){return r(o(e))}},"./node_modules/core-js/internals/to-integer-or-infinity.js":function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!=r||0===r?0:(r>0?n:t)(r)}},"./node_modules/core-js/internals/to-length.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-integer-or-infinity.js"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},"./node_modules/core-js/internals/to-object.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/require-object-coercible.js"),s=r.Object;e.exports=function(e){return s(o(e))}},"./node_modules/core-js/internals/to-primitive.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/function-call.js"),s=n("./node_modules/core-js/internals/is-object.js"),i=n("./node_modules/core-js/internals/is-symbol.js"),a=n("./node_modules/core-js/internals/get-method.js"),l=n("./node_modules/core-js/internals/ordinary-to-primitive.js"),c=n("./node_modules/core-js/internals/well-known-symbol.js"),u=r.TypeError,h=c("toPrimitive");e.exports=function(e,t){if(!s(e)||i(e))return e;var n,r=a(e,h);if(r){if(void 0===t&&(t="default"),n=o(r,e,t),!s(n)||i(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},"./node_modules/core-js/internals/to-property-key.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-primitive.js"),o=n("./node_modules/core-js/internals/is-symbol.js");e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},"./node_modules/core-js/internals/to-string-tag-support.js":function(e,t,n){var r={};r[n("./node_modules/core-js/internals/well-known-symbol.js")("toStringTag")]="z",e.exports="[object z]"===String(r)},"./node_modules/core-js/internals/to-string.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/classof.js"),s=r.String;e.exports=function(e){if("Symbol"===o(e))throw TypeError("Cannot convert a Symbol value to a string");return s(e)}},"./node_modules/core-js/internals/try-to-string.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js").String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}},"./node_modules/core-js/internals/uid.js":function(e,t,n){var r=n("./node_modules/core-js/internals/function-uncurry-this.js"),o=0,s=Math.random(),i=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+i(++o+s,36)}},"./node_modules/core-js/internals/use-symbol-as-uid.js":function(e,t,n){var r=n("./node_modules/core-js/internals/native-symbol.js");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},"./node_modules/core-js/internals/v8-prototype-define-bug.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),o=n("./node_modules/core-js/internals/fails.js");e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},"./node_modules/core-js/internals/validate-arguments-length.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js").TypeError;e.exports=function(e,t){if(e<t)throw r("Not enough arguments");return e}},"./node_modules/core-js/internals/well-known-symbol-wrapped.js":function(e,t,n){var r=n("./node_modules/core-js/internals/well-known-symbol.js");t.f=r},"./node_modules/core-js/internals/well-known-symbol.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/shared.js"),s=n("./node_modules/core-js/internals/has-own-property.js"),i=n("./node_modules/core-js/internals/uid.js"),a=n("./node_modules/core-js/internals/native-symbol.js"),l=n("./node_modules/core-js/internals/use-symbol-as-uid.js"),c=o("wks"),u=r.Symbol,h=u&&u.for,d=l?u:u&&u.withoutSetter||i;e.exports=function(e){if(!s(c,e)||!a&&"string"!=typeof c[e]){var t="Symbol."+e;a&&s(u,e)?c[e]=u[e]:c[e]=l&&h?h(t):d(t)}return c[e]}},"./node_modules/core-js/internals/whitespaces.js":function(e){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"./node_modules/core-js/modules/es.array.concat.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/global.js"),s=n("./node_modules/core-js/internals/fails.js"),i=n("./node_modules/core-js/internals/is-array.js"),a=n("./node_modules/core-js/internals/is-object.js"),l=n("./node_modules/core-js/internals/to-object.js"),c=n("./node_modules/core-js/internals/length-of-array-like.js"),u=n("./node_modules/core-js/internals/create-property.js"),h=n("./node_modules/core-js/internals/array-species-create.js"),d=n("./node_modules/core-js/internals/array-method-has-species-support.js"),f=n("./node_modules/core-js/internals/well-known-symbol.js"),p=n("./node_modules/core-js/internals/engine-v8-version.js"),m=f("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",_=o.TypeError,j=p>=51||!s((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),y=d("concat"),b=function(e){if(!a(e))return!1;var t=e[m];return void 0!==t?!!t:i(e)};r({target:"Array",proto:!0,forced:!j||!y},{concat:function(e){var t,n,r,o,s,i=l(this),a=h(i,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(b(s=-1===t?i:arguments[t])){if(d+(o=c(s))>g)throw _(v);for(n=0;n<o;n++,d++)n in s&&u(a,d,s[n])}else{if(d>=g)throw _(v);u(a,d++,s)}return a.length=d,a}})},"./node_modules/core-js/modules/es.array.filter.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/array-iteration.js").filter;r({target:"Array",proto:!0,forced:!n("./node_modules/core-js/internals/array-method-has-species-support.js")("filter")},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.for-each.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/array-for-each.js");r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"./node_modules/core-js/modules/es.array.from.js":function(e,t,n){var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/array-from.js");r({target:"Array",stat:!0,forced:!n("./node_modules/core-js/internals/check-correctness-of-iteration.js")((function(e){Array.from(e)}))},{from:o})},"./node_modules/core-js/modules/es.array.includes.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/array-includes.js").includes,s=n("./node_modules/core-js/internals/add-to-unscopables.js");r({target:"Array",proto:!0},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},"./node_modules/core-js/modules/es.array.index-of.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/function-uncurry-this.js"),s=n("./node_modules/core-js/internals/array-includes.js").indexOf,i=n("./node_modules/core-js/internals/array-method-is-strict.js"),a=o([].indexOf),l=!!a&&1/a([1],1,-0)<0,c=i("indexOf");r({target:"Array",proto:!0,forced:l||!c},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return l?a(this,e,t)||0:s(this,e,t)}})},"./node_modules/core-js/modules/es.array.iterator.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/to-indexed-object.js"),o=n("./node_modules/core-js/internals/add-to-unscopables.js"),s=n("./node_modules/core-js/internals/iterators.js"),i=n("./node_modules/core-js/internals/internal-state.js"),a=n("./node_modules/core-js/internals/object-define-property.js").f,l=n("./node_modules/core-js/internals/define-iterator.js"),c=n("./node_modules/core-js/internals/is-pure.js"),u=n("./node_modules/core-js/internals/descriptors.js"),h="Array Iterator",d=i.set,f=i.getterFor(h);e.exports=l(Array,"Array",(function(e,t){d(this,{type:h,target:r(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var p=s.Arguments=s.Array;if(o("keys"),o("values"),o("entries"),!c&&u&&"values"!==p.name)try{a(p,"name",{value:"values"})}catch(e){}},"./node_modules/core-js/modules/es.array.join.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/function-uncurry-this.js"),s=n("./node_modules/core-js/internals/indexed-object.js"),i=n("./node_modules/core-js/internals/to-indexed-object.js"),a=n("./node_modules/core-js/internals/array-method-is-strict.js"),l=o([].join),c=s!=Object,u=a("join",",");r({target:"Array",proto:!0,forced:c||!u},{join:function(e){return l(i(this),void 0===e?",":e)}})},"./node_modules/core-js/modules/es.array.map.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/array-iteration.js").map;r({target:"Array",proto:!0,forced:!n("./node_modules/core-js/internals/array-method-has-species-support.js")("map")},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.array.slice.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/global.js"),s=n("./node_modules/core-js/internals/is-array.js"),i=n("./node_modules/core-js/internals/is-constructor.js"),a=n("./node_modules/core-js/internals/is-object.js"),l=n("./node_modules/core-js/internals/to-absolute-index.js"),c=n("./node_modules/core-js/internals/length-of-array-like.js"),u=n("./node_modules/core-js/internals/to-indexed-object.js"),h=n("./node_modules/core-js/internals/create-property.js"),d=n("./node_modules/core-js/internals/well-known-symbol.js"),f=n("./node_modules/core-js/internals/array-method-has-species-support.js"),p=n("./node_modules/core-js/internals/array-slice.js"),m=f("slice"),g=d("species"),v=o.Array,_=Math.max;r({target:"Array",proto:!0,forced:!m},{slice:function(e,t){var n,r,o,d=u(this),f=c(d),m=l(e,f),j=l(void 0===t?f:t,f);if(s(d)&&(n=d.constructor,(i(n)&&(n===v||s(n.prototype))||a(n)&&null===(n=n[g]))&&(n=void 0),n===v||void 0===n))return p(d,m,j);for(r=new(void 0===n?v:n)(_(j-m,0)),o=0;m<j;m++,o++)m in d&&h(r,o,d[m]);return r.length=o,r}})},"./node_modules/core-js/modules/es.array.splice.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/global.js"),s=n("./node_modules/core-js/internals/to-absolute-index.js"),i=n("./node_modules/core-js/internals/to-integer-or-infinity.js"),a=n("./node_modules/core-js/internals/length-of-array-like.js"),l=n("./node_modules/core-js/internals/to-object.js"),c=n("./node_modules/core-js/internals/array-species-create.js"),u=n("./node_modules/core-js/internals/create-property.js"),h=n("./node_modules/core-js/internals/array-method-has-species-support.js")("splice"),d=o.TypeError,f=Math.max,p=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var n,r,o,h,v,_,j=l(this),y=a(j),b=s(e,y),x=arguments.length;if(0===x?n=r=0:1===x?(n=0,r=y-b):(n=x-2,r=p(f(i(t),0),y-b)),y+n-r>m)throw d(g);for(o=c(j,r),h=0;h<r;h++)(v=b+h)in j&&u(o,h,j[v]);if(o.length=r,n<r){for(h=b;h<y-r;h++)_=h+n,(v=h+r)in j?j[_]=j[v]:delete j[_];for(h=y;h>y-r+n;h--)delete j[h-1]}else if(n>r)for(h=y-r;h>b;h--)_=h+n-1,(v=h+r-1)in j?j[_]=j[v]:delete j[_];for(h=0;h<n;h++)j[h+b]=arguments[h+2];return j.length=y-r+n,o}})},"./node_modules/core-js/modules/es.function.name.js":function(e,t,n){var r=n("./node_modules/core-js/internals/descriptors.js"),o=n("./node_modules/core-js/internals/function-name.js").EXISTS,s=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/object-define-property.js").f,a=Function.prototype,l=s(a.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=s(c.exec);r&&!o&&i(a,"name",{configurable:!0,get:function(){try{return u(c,l(this))[1]}catch(e){return""}}})},"./node_modules/core-js/modules/es.object.define-properties.js":function(e,t,n){var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/descriptors.js"),s=n("./node_modules/core-js/internals/object-define-properties.js").f;r({target:"Object",stat:!0,forced:Object.defineProperties!==s,sham:!o},{defineProperties:s})},"./node_modules/core-js/modules/es.object.define-property.js":function(e,t,n){var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/descriptors.js"),s=n("./node_modules/core-js/internals/object-define-property.js").f;r({target:"Object",stat:!0,forced:Object.defineProperty!==s,sham:!o},{defineProperty:s})},"./node_modules/core-js/modules/es.object.get-own-property-descriptor.js":function(e,t,n){var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/fails.js"),s=n("./node_modules/core-js/internals/to-indexed-object.js"),i=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,a=n("./node_modules/core-js/internals/descriptors.js"),l=o((function(){i(1)}));r({target:"Object",stat:!0,forced:!a||l,sham:!a},{getOwnPropertyDescriptor:function(e,t){return i(s(e),t)}})},"./node_modules/core-js/modules/es.object.get-own-property-descriptors.js":function(e,t,n){var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/descriptors.js"),s=n("./node_modules/core-js/internals/own-keys.js"),i=n("./node_modules/core-js/internals/to-indexed-object.js"),a=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),l=n("./node_modules/core-js/internals/create-property.js");r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){for(var t,n,r=i(e),o=a.f,c=s(r),u={},h=0;c.length>h;)void 0!==(n=o(r,t=c[h++]))&&l(u,t,n);return u}})},"./node_modules/core-js/modules/es.object.keys.js":function(e,t,n){var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/to-object.js"),s=n("./node_modules/core-js/internals/object-keys.js");r({target:"Object",stat:!0,forced:n("./node_modules/core-js/internals/fails.js")((function(){s(1)}))},{keys:function(e){return s(o(e))}})},"./node_modules/core-js/modules/es.object.to-string.js":function(e,t,n){var r=n("./node_modules/core-js/internals/to-string-tag-support.js"),o=n("./node_modules/core-js/internals/redefine.js"),s=n("./node_modules/core-js/internals/object-to-string.js");r||o(Object.prototype,"toString",s,{unsafe:!0})},"./node_modules/core-js/modules/es.parse-float.js":function(e,t,n){var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/number-parse-float.js");r({global:!0,forced:parseFloat!=o},{parseFloat:o})},"./node_modules/core-js/modules/es.promise.finally.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/is-pure.js"),s=n("./node_modules/core-js/internals/native-promise-constructor.js"),i=n("./node_modules/core-js/internals/fails.js"),a=n("./node_modules/core-js/internals/get-built-in.js"),l=n("./node_modules/core-js/internals/is-callable.js"),c=n("./node_modules/core-js/internals/species-constructor.js"),u=n("./node_modules/core-js/internals/promise-resolve.js"),h=n("./node_modules/core-js/internals/redefine.js");if(r({target:"Promise",proto:!0,real:!0,forced:!!s&&i((function(){s.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,a("Promise")),n=l(e);return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),!o&&l(s)){var d=a("Promise").prototype.finally;s.prototype.finally!==d&&h(s.prototype,"finally",d,{unsafe:!0})}},"./node_modules/core-js/modules/es.promise.js":function(e,t,n){"use strict";var r,o,s,i,a=n("./node_modules/core-js/internals/export.js"),l=n("./node_modules/core-js/internals/is-pure.js"),c=n("./node_modules/core-js/internals/global.js"),u=n("./node_modules/core-js/internals/get-built-in.js"),h=n("./node_modules/core-js/internals/function-call.js"),d=n("./node_modules/core-js/internals/native-promise-constructor.js"),f=n("./node_modules/core-js/internals/redefine.js"),p=n("./node_modules/core-js/internals/redefine-all.js"),m=n("./node_modules/core-js/internals/object-set-prototype-of.js"),g=n("./node_modules/core-js/internals/set-to-string-tag.js"),v=n("./node_modules/core-js/internals/set-species.js"),_=n("./node_modules/core-js/internals/a-callable.js"),j=n("./node_modules/core-js/internals/is-callable.js"),y=n("./node_modules/core-js/internals/is-object.js"),b=n("./node_modules/core-js/internals/an-instance.js"),x=n("./node_modules/core-js/internals/inspect-source.js"),w=n("./node_modules/core-js/internals/iterate.js"),C=n("./node_modules/core-js/internals/check-correctness-of-iteration.js"),A=n("./node_modules/core-js/internals/species-constructor.js"),S=n("./node_modules/core-js/internals/task.js").set,T=n("./node_modules/core-js/internals/microtask.js"),k=n("./node_modules/core-js/internals/promise-resolve.js"),E=n("./node_modules/core-js/internals/host-report-errors.js"),O=n("./node_modules/core-js/internals/new-promise-capability.js"),P=n("./node_modules/core-js/internals/perform.js"),M=n("./node_modules/core-js/internals/queue.js"),D=n("./node_modules/core-js/internals/internal-state.js"),L=n("./node_modules/core-js/internals/is-forced.js"),F=n("./node_modules/core-js/internals/well-known-symbol.js"),I=n("./node_modules/core-js/internals/engine-is-browser.js"),B=n("./node_modules/core-js/internals/engine-is-node.js"),R=n("./node_modules/core-js/internals/engine-v8-version.js"),H=F("species"),U="Promise",V=D.getterFor(U),W=D.set,z=D.getterFor(U),X=d&&d.prototype,N=d,Y=X,G=c.TypeError,q=c.document,K=c.process,Z=O.f,$=Z,J=!!(q&&q.createEvent&&c.dispatchEvent),Q=j(c.PromiseRejectionEvent),ee="unhandledrejection",te=!1,ne=L(U,(function(){var e=x(N),t=e!==String(N);if(!t&&66===R)return!0;if(l&&!Y.finally)return!0;if(R>=51&&/native code/.test(e))return!1;var n=new N((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[H]=r,!(te=n.then((function(){}))instanceof r)||!t&&I&&!Q})),re=ne||!C((function(e){N.all(e).catch((function(){}))})),oe=function(e){var t;return!(!y(e)||!j(t=e.then))&&t},se=function(e,t){var n,r,o,s=t.value,i=1==t.state,a=i?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{a?(i||(2===t.rejection&&ue(t),t.rejection=1),!0===a?n=s:(u&&u.enter(),n=a(s),u&&(u.exit(),o=!0)),n===e.promise?c(G("Promise-chain cycle")):(r=oe(n))?h(r,n,l,c):l(n)):c(s)}catch(e){u&&!o&&u.exit(),c(e)}},ie=function(e,t){e.notified||(e.notified=!0,T((function(){for(var n,r=e.reactions;n=r.get();)se(n,e);e.notified=!1,t&&!e.rejection&&le(e)})))},ae=function(e,t,n){var r,o;J?((r=q.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!Q&&(o=c["on"+e])?o(r):e===ee&&E("Unhandled promise rejection",n)},le=function(e){h(S,c,(function(){var t,n=e.facade,r=e.value;if(ce(e)&&(t=P((function(){B?K.emit("unhandledRejection",r,n):ae(ee,n,r)})),e.rejection=B||ce(e)?2:1,t.error))throw t.value}))},ce=function(e){return 1!==e.rejection&&!e.parent},ue=function(e){h(S,c,(function(){var t=e.facade;B?K.emit("rejectionHandled",t):ae("rejectionhandled",t,e.value)}))},he=function(e,t,n){return function(r){e(t,r,n)}},de=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,ie(e,!0))},fe=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw G("Promise can't be resolved itself");var r=oe(t);r?T((function(){var n={done:!1};try{h(r,t,he(fe,n,e),he(de,n,e))}catch(t){de(n,t,e)}})):(e.value=t,e.state=1,ie(e,!1))}catch(t){de({done:!1},t,e)}}};if(ne&&(Y=(N=function(e){b(this,Y),_(e),h(r,this);var t=V(this);try{e(he(fe,t),he(de,t))}catch(e){de(t,e)}}).prototype,(r=function(e){W(this,{type:U,done:!1,notified:!1,parent:!1,reactions:new M,rejection:!1,state:0,value:void 0})}).prototype=p(Y,{then:function(e,t){var n=z(this),r=Z(A(this,N));return n.parent=!0,r.ok=!j(e)||e,r.fail=j(t)&&t,r.domain=B?K.domain:void 0,0==n.state?n.reactions.add(r):T((function(){se(r,n)})),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r,t=V(e);this.promise=e,this.resolve=he(fe,t),this.reject=he(de,t)},O.f=Z=function(e){return e===N||e===s?new o(e):$(e)},!l&&j(d)&&X!==Object.prototype)){i=X.then,te||(f(X,"then",(function(e,t){var n=this;return new N((function(e,t){h(i,n,e,t)})).then(e,t)}),{unsafe:!0}),f(X,"catch",Y.catch,{unsafe:!0}));try{delete X.constructor}catch(e){}m&&m(X,Y)}a({global:!0,wrap:!0,forced:ne},{Promise:N}),g(N,U,!1,!0),v(U),s=u(U),a({target:U,stat:!0,forced:ne},{reject:function(e){var t=Z(this);return h(t.reject,void 0,e),t.promise}}),a({target:U,stat:!0,forced:l||ne},{resolve:function(e){return k(l&&this===s?N:this,e)}}),a({target:U,stat:!0,forced:re},{all:function(e){var t=this,n=Z(t),r=n.resolve,o=n.reject,s=P((function(){var n=_(t.resolve),s=[],i=0,a=1;w(e,(function(e){var l=i++,c=!1;a++,h(n,t,e).then((function(e){c||(c=!0,s[l]=e,--a||r(s))}),o)})),--a||r(s)}));return s.error&&o(s.value),n.promise},race:function(e){var t=this,n=Z(t),r=n.reject,o=P((function(){var o=_(t.resolve);w(e,(function(e){h(o,t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},"./node_modules/core-js/modules/es.reflect.construct.js":function(e,t,n){var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/get-built-in.js"),s=n("./node_modules/core-js/internals/function-apply.js"),i=n("./node_modules/core-js/internals/function-bind.js"),a=n("./node_modules/core-js/internals/a-constructor.js"),l=n("./node_modules/core-js/internals/an-object.js"),c=n("./node_modules/core-js/internals/is-object.js"),u=n("./node_modules/core-js/internals/object-create.js"),h=n("./node_modules/core-js/internals/fails.js"),d=o("Reflect","construct"),f=Object.prototype,p=[].push,m=h((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),g=!h((function(){d((function(){}))})),v=m||g;r({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(e,t){a(e),l(t);var n=arguments.length<3?e:a(arguments[2]);if(g&&!m)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return s(p,r,t),new(s(i,e,r))}var o=n.prototype,h=u(c(o)?o:f),v=s(e,h,t);return c(v)?v:h}})},"./node_modules/core-js/modules/es.regexp.exec.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/regexp-exec.js");r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},"./node_modules/core-js/modules/es.string.includes.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/function-uncurry-this.js"),s=n("./node_modules/core-js/internals/not-a-regexp.js"),i=n("./node_modules/core-js/internals/require-object-coercible.js"),a=n("./node_modules/core-js/internals/to-string.js"),l=n("./node_modules/core-js/internals/correct-is-regexp-logic.js"),c=o("".indexOf);r({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~c(a(i(this)),a(s(e)),arguments.length>1?arguments[1]:void 0)}})},"./node_modules/core-js/modules/es.string.iterator.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/string-multibyte.js").charAt,o=n("./node_modules/core-js/internals/to-string.js"),s=n("./node_modules/core-js/internals/internal-state.js"),i=n("./node_modules/core-js/internals/define-iterator.js"),a="String Iterator",l=s.set,c=s.getterFor(a);i(String,"String",(function(e){l(this,{type:a,string:o(e),index:0})}),(function(){var e,t=c(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},"./node_modules/core-js/modules/es.string.repeat.js":function(e,t,n){n("./node_modules/core-js/internals/export.js")({target:"String",proto:!0},{repeat:n("./node_modules/core-js/internals/string-repeat.js")})},"./node_modules/core-js/modules/es.string.split.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/function-apply.js"),o=n("./node_modules/core-js/internals/function-call.js"),s=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),a=n("./node_modules/core-js/internals/is-regexp.js"),l=n("./node_modules/core-js/internals/an-object.js"),c=n("./node_modules/core-js/internals/require-object-coercible.js"),u=n("./node_modules/core-js/internals/species-constructor.js"),h=n("./node_modules/core-js/internals/advance-string-index.js"),d=n("./node_modules/core-js/internals/to-length.js"),f=n("./node_modules/core-js/internals/to-string.js"),p=n("./node_modules/core-js/internals/get-method.js"),m=n("./node_modules/core-js/internals/array-slice-simple.js"),g=n("./node_modules/core-js/internals/regexp-exec-abstract.js"),v=n("./node_modules/core-js/internals/regexp-exec.js"),_=n("./node_modules/core-js/internals/regexp-sticky-helpers.js"),j=n("./node_modules/core-js/internals/fails.js"),y=_.UNSUPPORTED_Y,b=4294967295,x=Math.min,w=[].push,C=s(/./.exec),A=s(w),S=s("".slice),T=!j((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));i("split",(function(e,t,n){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var s=f(c(this)),i=void 0===n?b:n>>>0;if(0===i)return[];if(void 0===e)return[s];if(!a(e))return o(t,s,e,i);for(var l,u,h,d=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,_=new RegExp(e.source,p+"g");(l=o(v,_,s))&&!((u=_.lastIndex)>g&&(A(d,S(s,g,l.index)),l.length>1&&l.index<s.length&&r(w,d,m(l,1)),h=l[0].length,g=u,d.length>=i));)_.lastIndex===l.index&&_.lastIndex++;return g===s.length?!h&&C(_,"")||A(d,""):A(d,S(s,g)),d.length>i?m(d,0,i):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:o(t,this,e,n)}:t,[function(t,n){var r=c(this),i=null==t?void 0:p(t,e);return i?o(i,t,r,n):o(s,f(r),t,n)},function(e,r){var o=l(this),i=f(e),a=n(s,o,i,r,s!==t);if(a.done)return a.value;var c=u(o,RegExp),p=o.unicode,m=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(y?"g":"y"),v=new c(y?"^(?:"+o.source+")":o,m),_=void 0===r?b:r>>>0;if(0===_)return[];if(0===i.length)return null===g(v,i)?[i]:[];for(var j=0,w=0,C=[];w<i.length;){v.lastIndex=y?0:w;var T,k=g(v,y?S(i,w):i);if(null===k||(T=x(d(v.lastIndex+(y?w:0)),i.length))===j)w=h(i,w,p);else{if(A(C,S(i,j,w)),C.length===_)return C;for(var E=1;E<=k.length-1;E++)if(A(C,k[E]),C.length===_)return C;w=j=T}}return A(C,S(i,j)),C}]}),!T,y)},"./node_modules/core-js/modules/es.string.trim.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/string-trim.js").trim;r({target:"String",proto:!0,forced:n("./node_modules/core-js/internals/string-trim-forced.js")("trim")},{trim:function(){return o(this)}})},"./node_modules/core-js/modules/es.symbol.description.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/descriptors.js"),s=n("./node_modules/core-js/internals/global.js"),i=n("./node_modules/core-js/internals/function-uncurry-this.js"),a=n("./node_modules/core-js/internals/has-own-property.js"),l=n("./node_modules/core-js/internals/is-callable.js"),c=n("./node_modules/core-js/internals/object-is-prototype-of.js"),u=n("./node_modules/core-js/internals/to-string.js"),h=n("./node_modules/core-js/internals/object-define-property.js").f,d=n("./node_modules/core-js/internals/copy-constructor-properties.js"),f=s.Symbol,p=f&&f.prototype;if(o&&l(f)&&(!("description"in p)||void 0!==f().description)){var m={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=c(p,this)?new f(e):void 0===e?f():f(e);return""===e&&(m[t]=!0),t};d(g,f),g.prototype=p,p.constructor=g;var v="Symbol(test)"==String(f("test")),_=i(p.toString),j=i(p.valueOf),y=/^Symbol\((.*)\)[^)]+$/,b=i("".replace),x=i("".slice);h(p,"description",{configurable:!0,get:function(){var e=j(this),t=_(e);if(a(m,e))return"";var n=v?x(t,7,-1):b(t,y,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:g})}},"./node_modules/core-js/modules/es.symbol.iterator.js":function(e,t,n){n("./node_modules/core-js/internals/define-well-known-symbol.js")("iterator")},"./node_modules/core-js/modules/es.symbol.js":function(e,t,n){"use strict";var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/global.js"),s=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/function-apply.js"),a=n("./node_modules/core-js/internals/function-call.js"),l=n("./node_modules/core-js/internals/function-uncurry-this.js"),c=n("./node_modules/core-js/internals/is-pure.js"),u=n("./node_modules/core-js/internals/descriptors.js"),h=n("./node_modules/core-js/internals/native-symbol.js"),d=n("./node_modules/core-js/internals/fails.js"),f=n("./node_modules/core-js/internals/has-own-property.js"),p=n("./node_modules/core-js/internals/is-array.js"),m=n("./node_modules/core-js/internals/is-callable.js"),g=n("./node_modules/core-js/internals/is-object.js"),v=n("./node_modules/core-js/internals/object-is-prototype-of.js"),_=n("./node_modules/core-js/internals/is-symbol.js"),j=n("./node_modules/core-js/internals/an-object.js"),y=n("./node_modules/core-js/internals/to-object.js"),b=n("./node_modules/core-js/internals/to-indexed-object.js"),x=n("./node_modules/core-js/internals/to-property-key.js"),w=n("./node_modules/core-js/internals/to-string.js"),C=n("./node_modules/core-js/internals/create-property-descriptor.js"),A=n("./node_modules/core-js/internals/object-create.js"),S=n("./node_modules/core-js/internals/object-keys.js"),T=n("./node_modules/core-js/internals/object-get-own-property-names.js"),k=n("./node_modules/core-js/internals/object-get-own-property-names-external.js"),E=n("./node_modules/core-js/internals/object-get-own-property-symbols.js"),O=n("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),P=n("./node_modules/core-js/internals/object-define-property.js"),M=n("./node_modules/core-js/internals/object-define-properties.js"),D=n("./node_modules/core-js/internals/object-property-is-enumerable.js"),L=n("./node_modules/core-js/internals/array-slice.js"),F=n("./node_modules/core-js/internals/redefine.js"),I=n("./node_modules/core-js/internals/shared.js"),B=n("./node_modules/core-js/internals/shared-key.js"),R=n("./node_modules/core-js/internals/hidden-keys.js"),H=n("./node_modules/core-js/internals/uid.js"),U=n("./node_modules/core-js/internals/well-known-symbol.js"),V=n("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),W=n("./node_modules/core-js/internals/define-well-known-symbol.js"),z=n("./node_modules/core-js/internals/set-to-string-tag.js"),X=n("./node_modules/core-js/internals/internal-state.js"),N=n("./node_modules/core-js/internals/array-iteration.js").forEach,Y=B("hidden"),G="Symbol",q=U("toPrimitive"),K=X.set,Z=X.getterFor(G),$=Object.prototype,J=o.Symbol,Q=J&&J.prototype,ee=o.TypeError,te=o.QObject,ne=s("JSON","stringify"),re=O.f,oe=P.f,se=k.f,ie=D.f,ae=l([].push),le=I("symbols"),ce=I("op-symbols"),ue=I("string-to-symbol-registry"),he=I("symbol-to-string-registry"),de=I("wks"),fe=!te||!te.prototype||!te.prototype.findChild,pe=u&&d((function(){return 7!=A(oe({},"a",{get:function(){return oe(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=re($,t);r&&delete $[t],oe(e,t,n),r&&e!==$&&oe($,t,r)}:oe,me=function(e,t){var n=le[e]=A(Q);return K(n,{type:G,tag:e,description:t}),u||(n.description=t),n},ge=function(e,t,n){e===$&&ge(ce,t,n),j(e);var r=x(t);return j(n),f(le,r)?(n.enumerable?(f(e,Y)&&e[Y][r]&&(e[Y][r]=!1),n=A(n,{enumerable:C(0,!1)})):(f(e,Y)||oe(e,Y,C(1,{})),e[Y][r]=!0),pe(e,r,n)):oe(e,r,n)},ve=function(e,t){j(e);var n=b(t),r=S(n).concat(be(n));return N(r,(function(t){u&&!a(_e,n,t)||ge(e,t,n[t])})),e},_e=function(e){var t=x(e),n=a(ie,this,t);return!(this===$&&f(le,t)&&!f(ce,t))&&(!(n||!f(this,t)||!f(le,t)||f(this,Y)&&this[Y][t])||n)},je=function(e,t){var n=b(e),r=x(t);if(n!==$||!f(le,r)||f(ce,r)){var o=re(n,r);return!o||!f(le,r)||f(n,Y)&&n[Y][r]||(o.enumerable=!0),o}},ye=function(e){var t=se(b(e)),n=[];return N(t,(function(e){f(le,e)||f(R,e)||ae(n,e)})),n},be=function(e){var t=e===$,n=se(t?ce:b(e)),r=[];return N(n,(function(e){!f(le,e)||t&&!f($,e)||ae(r,le[e])})),r};(h||(J=function(){if(v(Q,this))throw ee("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?w(arguments[0]):void 0,t=H(e),n=function(e){this===$&&a(n,ce,e),f(this,Y)&&f(this[Y],t)&&(this[Y][t]=!1),pe(this,t,C(1,e))};return u&&fe&&pe($,t,{configurable:!0,set:n}),me(t,e)},F(Q=J.prototype,"toString",(function(){return Z(this).tag})),F(J,"withoutSetter",(function(e){return me(H(e),e)})),D.f=_e,P.f=ge,M.f=ve,O.f=je,T.f=k.f=ye,E.f=be,V.f=function(e){return me(U(e),e)},u&&(oe(Q,"description",{configurable:!0,get:function(){return Z(this).description}}),c||F($,"propertyIsEnumerable",_e,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:J}),N(S(de),(function(e){W(e)})),r({target:G,stat:!0,forced:!h},{for:function(e){var t=w(e);if(f(ue,t))return ue[t];var n=J(t);return ue[t]=n,he[n]=t,n},keyFor:function(e){if(!_(e))throw ee(e+" is not a symbol");if(f(he,e))return he[e]},useSetter:function(){fe=!0},useSimple:function(){fe=!1}}),r({target:"Object",stat:!0,forced:!h,sham:!u},{create:function(e,t){return void 0===t?A(e):ve(A(e),t)},defineProperty:ge,defineProperties:ve,getOwnPropertyDescriptor:je}),r({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:ye,getOwnPropertySymbols:be}),r({target:"Object",stat:!0,forced:d((function(){E.f(1)}))},{getOwnPropertySymbols:function(e){return E.f(y(e))}}),ne)&&r({target:"JSON",stat:!0,forced:!h||d((function(){var e=J();return"[null]"!=ne([e])||"{}"!=ne({a:e})||"{}"!=ne(Object(e))}))},{stringify:function(e,t,n){var r=L(arguments),o=t;if((g(t)||void 0!==e)&&!_(e))return p(t)||(t=function(e,t){if(m(o)&&(t=a(o,this,e,t)),!_(t))return t}),r[1]=t,i(ne,null,r)}});if(!Q[q]){var xe=Q.valueOf;F(Q,q,(function(e){return a(xe,this)}))}z(J,G),R[Y]=!0},"./node_modules/core-js/modules/es.weak-map.js":function(e,t,n){"use strict";var r,o=n("./node_modules/core-js/internals/global.js"),s=n("./node_modules/core-js/internals/function-uncurry-this.js"),i=n("./node_modules/core-js/internals/redefine-all.js"),a=n("./node_modules/core-js/internals/internal-metadata.js"),l=n("./node_modules/core-js/internals/collection.js"),c=n("./node_modules/core-js/internals/collection-weak.js"),u=n("./node_modules/core-js/internals/is-object.js"),h=n("./node_modules/core-js/internals/object-is-extensible.js"),d=n("./node_modules/core-js/internals/internal-state.js").enforce,f=n("./node_modules/core-js/internals/native-weak-map.js"),p=!o.ActiveXObject&&"ActiveXObject"in o,m=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},g=l("WeakMap",m,c);if(f&&p){r=c.getConstructor(m,"WeakMap",!0),a.enable();var v=g.prototype,_=s(v.delete),j=s(v.has),y=s(v.get),b=s(v.set);i(v,{delete:function(e){if(u(e)&&!h(e)){var t=d(this);return t.frozen||(t.frozen=new r),_(this,e)||t.frozen.delete(e)}return _(this,e)},has:function(e){if(u(e)&&!h(e)){var t=d(this);return t.frozen||(t.frozen=new r),j(this,e)||t.frozen.has(e)}return j(this,e)},get:function(e){if(u(e)&&!h(e)){var t=d(this);return t.frozen||(t.frozen=new r),j(this,e)?y(this,e):t.frozen.get(e)}return y(this,e)},set:function(e,t){if(u(e)&&!h(e)){var n=d(this);n.frozen||(n.frozen=new r),j(this,e)?b(this,e,t):n.frozen.set(e,t)}else b(this,e,t);return this}})}},"./node_modules/core-js/modules/es.weak-set.js":function(e,t,n){"use strict";n("./node_modules/core-js/internals/collection.js")("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n("./node_modules/core-js/internals/collection-weak.js"))},"./node_modules/core-js/modules/esnext.weak-map.delete-all.js":function(e,t,n){"use strict";n("./node_modules/core-js/internals/export.js")({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:n("./node_modules/core-js/internals/collection-delete-all.js")})},"./node_modules/core-js/modules/esnext.weak-set.add-all.js":function(e,t,n){"use strict";n("./node_modules/core-js/internals/export.js")({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:n("./node_modules/core-js/internals/collection-add-all.js")})},"./node_modules/core-js/modules/esnext.weak-set.delete-all.js":function(e,t,n){"use strict";n("./node_modules/core-js/internals/export.js")({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:n("./node_modules/core-js/internals/collection-delete-all.js")})},"./node_modules/core-js/modules/web.dom-collections.for-each.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/dom-iterables.js"),s=n("./node_modules/core-js/internals/dom-token-list-prototype.js"),i=n("./node_modules/core-js/internals/array-for-each.js"),a=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),l=function(e){if(e&&e.forEach!==i)try{a(e,"forEach",i)}catch(t){e.forEach=i}};for(var c in o)o[c]&&l(r[c]&&r[c].prototype);l(s)},"./node_modules/core-js/modules/web.dom-collections.iterator.js":function(e,t,n){var r=n("./node_modules/core-js/internals/global.js"),o=n("./node_modules/core-js/internals/dom-iterables.js"),s=n("./node_modules/core-js/internals/dom-token-list-prototype.js"),i=n("./node_modules/core-js/modules/es.array.iterator.js"),a=n("./node_modules/core-js/internals/create-non-enumerable-property.js"),l=n("./node_modules/core-js/internals/well-known-symbol.js"),c=l("iterator"),u=l("toStringTag"),h=i.values,d=function(e,t){if(e){if(e[c]!==h)try{a(e,c,h)}catch(t){e[c]=h}if(e[u]||a(e,u,t),o[t])for(var n in i)if(e[n]!==i[n])try{a(e,n,i[n])}catch(t){e[n]=i[n]}}};for(var f in o)d(r[f]&&r[f].prototype,f);d(s,"DOMTokenList")},"./node_modules/core-js/modules/web.url-search-params.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.array.iterator.js");var r=n("./node_modules/core-js/internals/export.js"),o=n("./node_modules/core-js/internals/global.js"),s=n("./node_modules/core-js/internals/get-built-in.js"),i=n("./node_modules/core-js/internals/function-call.js"),a=n("./node_modules/core-js/internals/function-uncurry-this.js"),l=n("./node_modules/core-js/internals/native-url.js"),c=n("./node_modules/core-js/internals/redefine.js"),u=n("./node_modules/core-js/internals/redefine-all.js"),h=n("./node_modules/core-js/internals/set-to-string-tag.js"),d=n("./node_modules/core-js/internals/create-iterator-constructor.js"),f=n("./node_modules/core-js/internals/internal-state.js"),p=n("./node_modules/core-js/internals/an-instance.js"),m=n("./node_modules/core-js/internals/is-callable.js"),g=n("./node_modules/core-js/internals/has-own-property.js"),v=n("./node_modules/core-js/internals/function-bind-context.js"),_=n("./node_modules/core-js/internals/classof.js"),j=n("./node_modules/core-js/internals/an-object.js"),y=n("./node_modules/core-js/internals/is-object.js"),b=n("./node_modules/core-js/internals/to-string.js"),x=n("./node_modules/core-js/internals/object-create.js"),w=n("./node_modules/core-js/internals/create-property-descriptor.js"),C=n("./node_modules/core-js/internals/get-iterator.js"),A=n("./node_modules/core-js/internals/get-iterator-method.js"),S=n("./node_modules/core-js/internals/validate-arguments-length.js"),T=n("./node_modules/core-js/internals/well-known-symbol.js"),k=n("./node_modules/core-js/internals/array-sort.js"),E=T("iterator"),O="URLSearchParams",P="URLSearchParamsIterator",M=f.set,D=f.getterFor(O),L=f.getterFor(P),F=s("fetch"),I=s("Request"),B=s("Headers"),R=I&&I.prototype,H=B&&B.prototype,U=o.RegExp,V=o.TypeError,W=o.decodeURIComponent,z=o.encodeURIComponent,X=a("".charAt),N=a([].join),Y=a([].push),G=a("".replace),q=a([].shift),K=a([].splice),Z=a("".split),$=a("".slice),J=/\+/g,Q=Array(4),ee=function(e){return Q[e-1]||(Q[e-1]=U("((?:%[\\da-f]{2}){"+e+"})","gi"))},te=function(e){try{return W(e)}catch(t){return e}},ne=function(e){var t=G(e,J," "),n=4;try{return W(t)}catch(e){for(;n;)t=G(t,ee(n--),te);return t}},re=/[!'()~]|%20/g,oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},se=function(e){return oe[e]},ie=function(e){return G(z(e),re,se)},ae=d((function(e,t){M(this,{type:P,iterator:C(D(e).entries),kind:t})}),"Iterator",(function(){var e=L(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),le=function(e){this.entries=[],this.url=null,void 0!==e&&(y(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===X(e,0)?$(e,1):e:b(e)))};le.prototype={type:O,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,o,s,a,l,c=A(e);if(c)for(n=(t=C(e,c)).next;!(r=i(n,t)).done;){if(s=(o=C(j(r.value))).next,(a=i(s,o)).done||(l=i(s,o)).done||!i(s,o).done)throw V("Expected sequence with length 2");Y(this.entries,{key:b(a.value),value:b(l.value)})}else for(var u in e)g(e,u)&&Y(this.entries,{key:u,value:b(e[u])})},parseQuery:function(e){if(e)for(var t,n,r=Z(e,"&"),o=0;o<r.length;)(t=r[o++]).length&&(n=Z(t,"="),Y(this.entries,{key:ne(q(n)),value:ne(N(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],Y(n,ie(e.key)+"="+ie(e.value));return N(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ce=function(){p(this,ue);var e=arguments.length>0?arguments[0]:void 0;M(this,new le(e))},ue=ce.prototype;if(u(ue,{append:function(e,t){S(arguments.length,2);var n=D(this);Y(n.entries,{key:b(e),value:b(t)}),n.updateURL()},delete:function(e){S(arguments.length,1);for(var t=D(this),n=t.entries,r=b(e),o=0;o<n.length;)n[o].key===r?K(n,o,1):o++;t.updateURL()},get:function(e){S(arguments.length,1);for(var t=D(this).entries,n=b(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){S(arguments.length,1);for(var t=D(this).entries,n=b(e),r=[],o=0;o<t.length;o++)t[o].key===n&&Y(r,t[o].value);return r},has:function(e){S(arguments.length,1);for(var t=D(this).entries,n=b(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){S(arguments.length,1);for(var n,r=D(this),o=r.entries,s=!1,i=b(e),a=b(t),l=0;l<o.length;l++)(n=o[l]).key===i&&(s?K(o,l--,1):(s=!0,n.value=a));s||Y(o,{key:i,value:a}),r.updateURL()},sort:function(){var e=D(this);k(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=D(this).entries,r=v(e,arguments.length>1?arguments[1]:void 0),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new ae(this,"keys")},values:function(){return new ae(this,"values")},entries:function(){return new ae(this,"entries")}},{enumerable:!0}),c(ue,E,ue.entries,{name:"entries"}),c(ue,"toString",(function(){return D(this).serialize()}),{enumerable:!0}),h(ce,O),r({global:!0,forced:!l},{URLSearchParams:ce}),!l&&m(B)){var he=a(H.has),de=a(H.set),fe=function(e){if(y(e)){var t,n=e.body;if(_(n)===O)return t=e.headers?new B(e.headers):new B,he(t,"content-type")||de(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),x(e,{body:w(0,b(n)),headers:w(0,t)})}return e};if(m(F)&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return F(e,arguments.length>1?fe(arguments[1]):{})}}),m(I)){var pe=function(e){return p(this,R),new I(e,arguments.length>1?fe(arguments[1]):{})};R.constructor=pe,pe.prototype=R,r({global:!0,forced:!0},{Request:pe})}}e.exports={URLSearchParams:ce,getState:D}},"./node_modules/core-js/modules/web.url.js":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.string.iterator.js");var r,o=n("./node_modules/core-js/internals/export.js"),s=n("./node_modules/core-js/internals/descriptors.js"),i=n("./node_modules/core-js/internals/native-url.js"),a=n("./node_modules/core-js/internals/global.js"),l=n("./node_modules/core-js/internals/function-bind-context.js"),c=n("./node_modules/core-js/internals/function-uncurry-this.js"),u=n("./node_modules/core-js/internals/object-define-properties.js").f,h=n("./node_modules/core-js/internals/redefine.js"),d=n("./node_modules/core-js/internals/an-instance.js"),f=n("./node_modules/core-js/internals/has-own-property.js"),p=n("./node_modules/core-js/internals/object-assign.js"),m=n("./node_modules/core-js/internals/array-from.js"),g=n("./node_modules/core-js/internals/array-slice-simple.js"),v=n("./node_modules/core-js/internals/string-multibyte.js").codeAt,_=n("./node_modules/core-js/internals/string-punycode-to-ascii.js"),j=n("./node_modules/core-js/internals/to-string.js"),y=n("./node_modules/core-js/internals/set-to-string-tag.js"),b=n("./node_modules/core-js/internals/validate-arguments-length.js"),x=n("./node_modules/core-js/modules/web.url-search-params.js"),w=n("./node_modules/core-js/internals/internal-state.js"),C=w.set,A=w.getterFor("URL"),S=x.URLSearchParams,T=x.getState,k=a.URL,E=a.TypeError,O=a.parseInt,P=Math.floor,M=Math.pow,D=c("".charAt),L=c(/./.exec),F=c([].join),I=c(1..toString),B=c([].pop),R=c([].push),H=c("".replace),U=c([].shift),V=c("".split),W=c("".slice),z=c("".toLowerCase),X=c([].unshift),N="Invalid scheme",Y="Invalid host",G="Invalid port",q=/[a-z]/i,K=/[\d+-.a-z]/i,Z=/\d/,$=/^0x/i,J=/^[0-7]+$/,Q=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,oe=/[\t\n\r]/g,se=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)X(t,e%256),e=P(e/256);return F(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,s=0;s<8;s++)0!==e[s]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=s),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=I(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ie={},ae=p({},ie,{" ":1,'"':1,"<":1,">":1,"`":1}),le=p({},ae,{"#":1,"?":1,"{":1,"}":1}),ce=p({},le,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ue=function(e,t){var n=v(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},de=function(e,t){var n;return 2==e.length&&L(q,D(e,0))&&(":"==(n=D(e,1))||!t&&"|"==n)},fe=function(e){var t;return e.length>1&&de(W(e,0,2))&&(2==e.length||"/"===(t=D(e,2))||"\\"===t||"?"===t||"#"===t)},pe=function(e){return"."===e||"%2e"===z(e)},me={},ge={},ve={},_e={},je={},ye={},be={},xe={},we={},Ce={},Ae={},Se={},Te={},ke={},Ee={},Oe={},Pe={},Me={},De={},Le={},Fe={},Ie=function(e,t,n){var r,o,s,i=j(e);if(t){if(o=this.parse(i))throw E(o);this.searchParams=null}else{if(void 0!==n&&(r=new Ie(n,!0)),o=this.parse(i,null,r))throw E(o);(s=T(new S)).bindURL(this),this.searchParams=s}};Ie.prototype={type:"URL",parse:function(e,t,n){var o,s,i,a,l,c=this,u=t||me,h=0,d="",p=!1,v=!1,_=!1;for(e=j(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=H(e,re,"")),e=H(e,oe,""),o=m(e);h<=o.length;){switch(s=o[h],u){case me:if(!s||!L(q,s)){if(t)return N;u=ve;continue}d+=z(s),u=ge;break;case ge:if(s&&(L(K,s)||"+"==s||"-"==s||"."==s))d+=z(s);else{if(":"!=s){if(t)return N;d="",u=ve,h=0;continue}if(t&&(c.isSpecial()!=f(he,d)||"file"==d&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=d,t)return void(c.isSpecial()&&he[c.scheme]==c.port&&(c.port=null));d="","file"==c.scheme?u=ke:c.isSpecial()&&n&&n.scheme==c.scheme?u=_e:c.isSpecial()?u=xe:"/"==o[h+1]?(u=je,h++):(c.cannotBeABaseURL=!0,R(c.path,""),u=De)}break;case ve:if(!n||n.cannotBeABaseURL&&"#"!=s)return N;if(n.cannotBeABaseURL&&"#"==s){c.scheme=n.scheme,c.path=g(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,u=Fe;break}u="file"==n.scheme?ke:ye;continue;case _e:if("/"!=s||"/"!=o[h+1]){u=ye;continue}u=we,h++;break;case je:if("/"==s){u=Ce;break}u=Me;continue;case ye:if(c.scheme=n.scheme,s==r)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.query=n.query;else if("/"==s||"\\"==s&&c.isSpecial())u=be;else if("?"==s)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.query="",u=Le;else{if("#"!=s){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.path.length--,u=Me;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.query=n.query,c.fragment="",u=Fe}break;case be:if(!c.isSpecial()||"/"!=s&&"\\"!=s){if("/"!=s){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,u=Me;continue}u=Ce}else u=we;break;case xe:if(u=we,"/"!=s||"/"!=D(d,h+1))continue;h++;break;case we:if("/"!=s&&"\\"!=s){u=Ce;continue}break;case Ce:if("@"==s){p&&(d="%40"+d),p=!0,i=m(d);for(var y=0;y<i.length;y++){var b=i[y];if(":"!=b||_){var x=ue(b,ce);_?c.password+=x:c.username+=x}else _=!0}d=""}else if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&c.isSpecial()){if(p&&""==d)return"Invalid authority";h-=m(d).length+1,d="",u=Ae}else d+=s;break;case Ae:case Se:if(t&&"file"==c.scheme){u=Oe;continue}if(":"!=s||v){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&c.isSpecial()){if(c.isSpecial()&&""==d)return Y;if(t&&""==d&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(d))return a;if(d="",u=Pe,t)return;continue}"["==s?v=!0:"]"==s&&(v=!1),d+=s}else{if(""==d)return Y;if(a=c.parseHost(d))return a;if(d="",u=Te,t==Se)return}break;case Te:if(!L(Z,s)){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&c.isSpecial()||t){if(""!=d){var w=O(d,10);if(w>65535)return G;c.port=c.isSpecial()&&w===he[c.scheme]?null:w,d=""}if(t)return;u=Pe;continue}return G}d+=s;break;case ke:if(c.scheme="file","/"==s||"\\"==s)u=Ee;else{if(!n||"file"!=n.scheme){u=Me;continue}if(s==r)c.host=n.host,c.path=g(n.path),c.query=n.query;else if("?"==s)c.host=n.host,c.path=g(n.path),c.query="",u=Le;else{if("#"!=s){fe(F(g(o,h),""))||(c.host=n.host,c.path=g(n.path),c.shortenPath()),u=Me;continue}c.host=n.host,c.path=g(n.path),c.query=n.query,c.fragment="",u=Fe}}break;case Ee:if("/"==s||"\\"==s){u=Oe;break}n&&"file"==n.scheme&&!fe(F(g(o,h),""))&&(de(n.path[0],!0)?R(c.path,n.path[0]):c.host=n.host),u=Me;continue;case Oe:if(s==r||"/"==s||"\\"==s||"?"==s||"#"==s){if(!t&&de(d))u=Me;else if(""==d){if(c.host="",t)return;u=Pe}else{if(a=c.parseHost(d))return a;if("localhost"==c.host&&(c.host=""),t)return;d="",u=Pe}continue}d+=s;break;case Pe:if(c.isSpecial()){if(u=Me,"/"!=s&&"\\"!=s)continue}else if(t||"?"!=s)if(t||"#"!=s){if(s!=r&&(u=Me,"/"!=s))continue}else c.fragment="",u=Fe;else c.query="",u=Le;break;case Me:if(s==r||"/"==s||"\\"==s&&c.isSpecial()||!t&&("?"==s||"#"==s)){if(".."===(l=z(l=d))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(c.shortenPath(),"/"==s||"\\"==s&&c.isSpecial()||R(c.path,"")):pe(d)?"/"==s||"\\"==s&&c.isSpecial()||R(c.path,""):("file"==c.scheme&&!c.path.length&&de(d)&&(c.host&&(c.host=""),d=D(d,0)+":"),R(c.path,d)),d="","file"==c.scheme&&(s==r||"?"==s||"#"==s))for(;c.path.length>1&&""===c.path[0];)U(c.path);"?"==s?(c.query="",u=Le):"#"==s&&(c.fragment="",u=Fe)}else d+=ue(s,le);break;case De:"?"==s?(c.query="",u=Le):"#"==s?(c.fragment="",u=Fe):s!=r&&(c.path[0]+=ue(s,ie));break;case Le:t||"#"!=s?s!=r&&("'"==s&&c.isSpecial()?c.query+="%27":c.query+="#"==s?"%23":ue(s,ie)):(c.fragment="",u=Fe);break;case Fe:s!=r&&(c.fragment+=ue(s,ae))}h++}},parseHost:function(e){var t,n,r;if("["==D(e,0)){if("]"!=D(e,e.length-1))return Y;if(t=function(e){var t,n,r,o,s,i,a,l=[0,0,0,0,0,0,0,0],c=0,u=null,h=0,d=function(){return D(e,h)};if(":"==d()){if(":"!=D(e,1))return;h+=2,u=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=n=0;n<4&&L(ee,d());)t=16*t+O(d(),16),h++,n++;if("."==d()){if(0==n)return;if(h-=n,c>6)return;for(r=0;d();){if(o=null,r>0){if(!("."==d()&&r<4))return;h++}if(!L(Z,d()))return;for(;L(Z,d());){if(s=O(d(),10),null===o)o=s;else{if(0==o)return;o=10*o+s}if(o>255)return;h++}l[c]=256*l[c]+o,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[c++]=t}else{if(null!==u)return;h++,u=++c}}if(null!==u)for(i=c-u,c=7;0!=c&&i>0;)a=l[c],l[c--]=l[u+i-1],l[u+--i]=a;else if(8!=c)return;return l}(W(e,1,-1)),!t)return Y;this.host=t}else if(this.isSpecial()){if(e=_(e),L(te,e))return Y;if(t=function(e){var t,n,r,o,s,i,a,l=V(e,".");if(l.length&&""==l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=l[r]))return e;if(s=10,o.length>1&&"0"==D(o,0)&&(s=L($,o)?16:8,o=W(o,8==s?1:2)),""===o)i=0;else{if(!L(10==s?Q:8==s?J:ee,o))return e;i=O(o,s)}R(n,i)}for(r=0;r<t;r++)if(i=n[r],r==t-1){if(i>=M(256,5-t))return null}else if(i>255)return null;for(a=B(n),r=0;r<n.length;r++)a+=n[r]*M(256,3-r);return a}(e),null===t)return Y;this.host=t}else{if(L(ne,e))return Y;for(t="",n=m(e),r=0;r<n.length;r++)t+=ue(n[r],ie);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return f(he,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&de(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,o=e.host,s=e.port,i=e.path,a=e.query,l=e.fragment,c=t+":";return null!==o?(c+="//",e.includesCredentials()&&(c+=n+(r?":"+r:"")+"@"),c+=se(o),null!==s&&(c+=":"+s)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?i[0]:i.length?"/"+F(i,"/"):"",null!==a&&(c+="?"+a),null!==l&&(c+="#"+l),c},setHref:function(e){var t=this.parse(e);if(t)throw E(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Be(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+se(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(j(e)+":",me)},getUsername:function(){return this.username},setUsername:function(e){var t=m(j(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=ue(t[n],ce)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(j(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=ue(t[n],ce)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?se(e):se(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ae)},getHostname:function(){var e=this.host;return null===e?"":se(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Se)},getPort:function(){var e=this.port;return null===e?"":j(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=j(e))?this.port=null:this.parse(e,Te))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+F(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Pe))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=j(e))?this.query=null:("?"==D(e,0)&&(e=W(e,1)),this.query="",this.parse(e,Le)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=j(e))?("#"==D(e,0)&&(e=W(e,1)),this.fragment="",this.parse(e,Fe)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Be=function(e){var t=d(this,Re),n=b(arguments.length,1)>1?arguments[1]:void 0,r=C(t,new Ie(e,!1,n));s||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Re=Be.prototype,He=function(e,t){return{get:function(){return A(this)[e]()},set:t&&function(e){return A(this)[t](e)},configurable:!0,enumerable:!0}};if(s&&u(Re,{href:He("serialize","setHref"),origin:He("getOrigin"),protocol:He("getProtocol","setProtocol"),username:He("getUsername","setUsername"),password:He("getPassword","setPassword"),host:He("getHost","setHost"),hostname:He("getHostname","setHostname"),port:He("getPort","setPort"),pathname:He("getPathname","setPathname"),search:He("getSearch","setSearch"),searchParams:He("getSearchParams"),hash:He("getHash","setHash")}),h(Re,"toJSON",(function(){return A(this).serialize()}),{enumerable:!0}),h(Re,"toString",(function(){return A(this).serialize()}),{enumerable:!0}),k){var Ue=k.createObjectURL,Ve=k.revokeObjectURL;Ue&&h(Be,"createObjectURL",l(Ue,k)),Ve&&h(Be,"revokeObjectURL",l(Ve,k))}y(Be,"URL"),o({global:!0,forced:!i,sham:!s},{URL:Be})},"./node_modules/css-loader/dist/runtime/api.js":function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,s){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&i[u[0]]||(void 0!==s&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=s),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},"./node_modules/css-loader/dist/runtime/getUrl.js":function(e){"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},"./node_modules/css-loader/dist/runtime/sourceMaps.js":function(e){"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),s="/*# ".concat(o," */"),i=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(i).concat([s]).join("\n")}return[t].join("\n")}},"./node_modules/dom-to-image/src/dom-to-image.js":function(e){!function(t){"use strict";var n=function(){return{escape:function(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:t,mimeType:function(e){var n=t(e).toLowerCase();return(r="application/font-woff",o="image/jpeg",{woff:r,woff2:r,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:o,jpeg:o,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[n]||"";var r,o},dataAsUrl:function(e,t){return"data:"+t+";base64,"+e},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(e){return e.toBlob?new Promise((function(t){e.toBlob(t)})):function(e){return new Promise((function(t){for(var n=window.atob(e.toDataURL().split(",")[1]),r=n.length,o=new Uint8Array(r),s=0;s<r;s++)o[s]=n.charCodeAt(s);t(new Blob([o],{type:"image/png"}))}))}(e)},resolveUrl:function(e,t){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var o=n.createElement("a");return n.body.appendChild(o),r.href=t,o.href=e,o.href},getAndEncode:function(e){var t=3e4;a.impl.options.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());return new Promise((function(n){var r,o=new XMLHttpRequest;if(o.onreadystatechange=i,o.ontimeout=l,o.responseType="blob",o.timeout=t,o.open("GET",e,!0),o.send(),a.impl.options.imagePlaceholder){var s=a.impl.options.imagePlaceholder.split(/,/);s&&s[1]&&(r=s[1])}function i(){if(4===o.readyState)if(200===o.status){var t=new FileReader;t.onloadend=function(){var e=t.result.split(/,/)[1];n(e)},t.readAsDataURL(o.response)}else r?n(r):c("cannot fetch resource: "+e+", status: "+o.status)}function l(){r?n(r):c("timeout of "+t+"ms occured while fetching resource: "+e)}function c(e){n("")}}))},uid:(e=0,function(){return"u"+t()+e++;function t(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}),delay:function(e){return function(t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))}},asArray:function(e){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t},escapeXhtml:function(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src=e}))},width:function(e){var t=n(e,"border-left-width"),r=n(e,"border-right-width");return e.scrollWidth+t+r},height:function(e){var t=n(e,"border-top-width"),r=n(e,"border-bottom-width");return e.scrollHeight+t+r}};var e;function t(e){var t=/\.([^\.\/]*?)$/g.exec(e);return t?t[1]:""}function n(e,t){var n=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(n.replace("px",""))}}(),r=function(){var e=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(e,n,s){return i()?Promise.resolve(e):Promise.resolve(e).then(r).then((function(t){var r=Promise.resolve(e);return t.forEach((function(e){r=r.then((function(t){return o(t,e,n,s)}))})),r}));function i(){return!t(e)}},shouldProcess:t,impl:{readUrls:r,inline:o}};function t(t){return-1!==t.search(e)}function r(t){for(var r,o=[];null!==(r=e.exec(t));)o.push(r[1]);return o.filter((function(e){return!n.isDataUrl(e)}))}function o(e,t,r,o){return Promise.resolve(t).then((function(e){return r?n.resolveUrl(e,r):e})).then(o||n.getAndEncode).then((function(e){return n.dataAsUrl(e,n.mimeType(t))})).then((function(r){return e.replace(function(e){return new RegExp("(url\\(['\"]?)("+n.escape(e)+")(['\"]?\\))","g")}(t),"$1"+r+"$3")}))}}(),o=function(){return{resolveAll:function(){return e(document).then((function(e){return Promise.all(e.map((function(e){return e.resolve()})))})).then((function(e){return e.join("\n")}))},impl:{readAll:e}};function e(){return Promise.resolve(n.asArray(document.styleSheets)).then((function(e){var t=[];return e.forEach((function(e){try{n.asArray(e.cssRules||[]).forEach(t.push.bind(t))}catch(e){}})),t})).then((function(e){return e.filter((function(e){return e.type===CSSRule.FONT_FACE_RULE})).filter((function(e){return r.shouldProcess(e.style.getPropertyValue("src"))}))})).then((function(t){return t.map(e)}));function e(e){return{resolve:function(){var t=(e.parentStyleSheet||{}).href;return r.inlineAll(e.cssText,t)},src:function(){return e.style.getPropertyValue("src")}}}}}(),s=function(){return{inlineAll:function t(o){return o instanceof Element?s(o).then((function(){return o instanceof HTMLImageElement?e(o).inline():Promise.all(n.asArray(o.childNodes).map((function(e){return t(e)})))})):Promise.resolve(o);function s(e){var t=e.style.getPropertyValue("background");return t?r.inlineAll(t).then((function(t){e.style.setProperty("background",t,e.style.getPropertyPriority("background"))})).then((function(){return e})):Promise.resolve(e)}},impl:{newImage:e}};function e(e){return{inline:function(t){return n.isDataUrl(e.src)?Promise.resolve():Promise.resolve(e.src).then(t||n.getAndEncode).then((function(t){return n.dataAsUrl(t,n.mimeType(e.src))})).then((function(t){return new Promise((function(n,r){e.onload=n,e.onerror=r,e.src=t}))}))}}}}(),i={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:l,toPng:function(e,t){return c(e,t||{}).then((function(e){return e.toDataURL()}))},toJpeg:function(e,t){return c(e,t=t||{}).then((function(e){return e.toDataURL("image/jpeg",t.quality||1)}))},toBlob:function(e,t){return c(e,t||{}).then(n.canvasToBlob)},toPixelData:function(e,t){return c(e,t||{}).then((function(t){return t.getContext("2d").getImageData(0,0,n.width(e),n.height(e)).data}))},impl:{fontFaces:o,images:s,util:n,inliner:r,options:{}}};function l(e,t){return function(e){void 0===e.imagePlaceholder?a.impl.options.imagePlaceholder=i.imagePlaceholder:a.impl.options.imagePlaceholder=e.imagePlaceholder;void 0===e.cacheBust?a.impl.options.cacheBust=i.cacheBust:a.impl.options.cacheBust=e.cacheBust}(t=t||{}),Promise.resolve(e).then((function(e){return u(e,t.filter,!0)})).then(h).then(d).then((function(e){t.bgcolor&&(e.style.backgroundColor=t.bgcolor);t.width&&(e.style.width=t.width+"px");t.height&&(e.style.height=t.height+"px");t.style&&Object.keys(t.style).forEach((function(n){e.style[n]=t.style[n]}));return e})).then((function(r){return function(e,t,r){return Promise.resolve(e).then((function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(e)})).then(n.escapeXhtml).then((function(e){return'<foreignObject x="0" y="0" width="100%" height="100%">'+e+"</foreignObject>"})).then((function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+r+'">'+e+"</svg>"})).then((function(e){return"data:image/svg+xml;charset=utf-8,"+e}))}(r,t.width||n.width(e),t.height||n.height(e))}))}function c(e,t){return l(e,t).then(n.makeImage).then(n.delay(100)).then((function(r){var o=function(e){var r=document.createElement("canvas");if(r.width=t.width||n.width(e),r.height=t.height||n.height(e),t.bgcolor){var o=r.getContext("2d");o.fillStyle=t.bgcolor,o.fillRect(0,0,r.width,r.height)}return r}(e);return o.getContext("2d").drawImage(r,0,0),o}))}function u(e,t,r){return r||!t||t(e)?Promise.resolve(e).then((function(e){return e instanceof HTMLCanvasElement?n.makeImage(e.toDataURL()):e.cloneNode(!1)})).then((function(r){return function(e,t,r){var o=e.childNodes;return 0===o.length?Promise.resolve(t):s(t,n.asArray(o),r).then((function(){return t}));function s(e,t,n){var r=Promise.resolve();return t.forEach((function(t){r=r.then((function(){return u(t,n)})).then((function(t){t&&e.appendChild(t)}))})),r}}(e,r,t)})).then((function(t){return function(e,t){return t instanceof Element?Promise.resolve().then(r).then(o).then(s).then(i).then((function(){return t})):t;function r(){function r(e,t){function r(e,t){n.asArray(e).forEach((function(n){t.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))}))}e.cssText?t.cssText=e.cssText:r(e,t)}r(window.getComputedStyle(e),t.style)}function o(){function r(r){var o=window.getComputedStyle(e,r),s=o.getPropertyValue("content");if(""!==s&&"none"!==s){var i=n.uid();t.className=t.className+" "+i;var a=document.createElement("style");a.appendChild(l(i,r,o)),t.appendChild(a)}function l(e,t,r){var o="."+e+":"+t,s=r.cssText?i(r):a(r);return document.createTextNode(o+"{"+s+"}");function i(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}function a(e){return n.asArray(e).map(t).join("; ")+";";function t(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}}}}[":before",":after"].forEach((function(e){r(e)}))}function s(){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}function i(){t instanceof SVGElement&&(t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t instanceof SVGRectElement&&["width","height"].forEach((function(e){var n=t.getAttribute(e);n&&t.style.setProperty(e,n)})))}}(e,t)})):Promise.resolve()}function h(e){return o.resolveAll().then((function(t){var n=document.createElement("style");return e.appendChild(n),n.appendChild(document.createTextNode(t)),e}))}function d(e){return s.inlineAll(e).then((function(){return e}))}e.exports=a}()},"./node_modules/fabric/dist/fabric.js":function(e,t,n){var r,o,s,i,a,l,c,u,h,d,f,p,m,g,v,_,j=j||{version:"5.2.1"};if(t.fabric=j,"undefined"!=typeof document&&"undefined"!=typeof window)document instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document)?j.document=document:j.document=document.implementation.createHTMLDocument(""),j.window=window;else{var y=new(n("?7b10").JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;j.document=y.document,j.jsdomImplForWrapper=n("?6799").implForWrapper,j.nodeCanvas=n("?9748").Canvas,j.window=y,DOMParser=j.window.DOMParser}function b(e,t){var n=e.canvas,r=t.targetCanvas,o=r.getContext("2d");o.translate(0,r.height),o.scale(1,-1);var s=n.height-r.height;o.drawImage(n,0,s,r.width,r.height,0,0,r.width,r.height)}function x(e,t){var n=t.targetCanvas.getContext("2d"),r=t.destinationWidth,o=t.destinationHeight,s=r*o*4,i=new Uint8Array(this.imageBuffer,0,s),a=new Uint8ClampedArray(this.imageBuffer,0,s);e.readPixels(0,0,r,o,e.RGBA,e.UNSIGNED_BYTE,i);var l=new ImageData(a,r,o);n.putImageData(l,0,0)}j.isTouchSupported="ontouchstart"in j.window||"ontouchstart"in j.document||j.window&&j.window.navigator&&j.window.navigator.maxTouchPoints>0,j.isLikelyNode="undefined"!=typeof Buffer&&"undefined"==typeof window,j.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],j.DPI=96,j.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",j.commaWsp="(?:\\s+,?\\s*|,\\s*)",j.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,j.reNonWord=/[ \n\.,;!\?\-]/,j.fontPaths={},j.iMatrix=[1,0,0,1,0,0],j.svgNS="http://www.w3.org/2000/svg",j.perfLimitSizeTotal=2097152,j.maxCacheSideLimit=4096,j.minCacheSideLimit=256,j.charWidthsCache={},j.textureSize=2048,j.disableStyleCopyPaste=!1,j.enableGLFiltering=!0,j.devicePixelRatio=j.window.devicePixelRatio||j.window.webkitDevicePixelRatio||j.window.mozDevicePixelRatio||1,j.browserShadowBlurConstant=1,j.arcToSegmentsCache={},j.boundsOfCurveCache={},j.cachesBoundsOfCurve=!0,j.forceGLPutImageData=!1,j.initFilterBackend=function(){return j.enableGLFiltering&&j.isWebglSupported&&j.isWebglSupported(j.textureSize)?new j.WebglFilterBackend({tileSize:j.textureSize}):j.Canvas2dFilterBackend?new j.Canvas2dFilterBackend:void 0},"undefined"!=typeof document&&"undefined"!=typeof window&&(window.fabric=j),function(){function e(e,t){if(this.__eventListeners[e]){var n=this.__eventListeners[e];t?n[n.indexOf(t)]=!1:j.util.array.fill(n,!1)}}function t(e,t){var n=function(){t.apply(this,arguments),this.off(e,n)}.bind(this);this.on(e,n)}j.Observable={fire:function(e,t){if(!this.__eventListeners)return this;var n=this.__eventListeners[e];if(!n)return this;for(var r=0,o=n.length;r<o;r++)n[r]&&n[r].call(this,t||{});return this.__eventListeners[e]=n.filter((function(e){return!1!==e})),this},on:function(e,t){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in e)this.on(n,e[n]);else this.__eventListeners[e]||(this.__eventListeners[e]=[]),this.__eventListeners[e].push(t);return this},once:function(e,n){if(1===arguments.length)for(var r in e)t.call(this,r,e[r]);else t.call(this,e,n);return this},off:function(t,n){if(!this.__eventListeners)return this;if(0===arguments.length)for(t in this.__eventListeners)e.call(this,t);else if(1===arguments.length&&"object"==typeof arguments[0])for(var r in t)e.call(this,r,t[r]);else e.call(this,t,n);return this}}}(),j.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var e=0,t=arguments.length;e<t;e++)this._onObjectAdded(arguments[e]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(e,t,n){var r=this._objects;return n?r[t]=e:r.splice(t,0,e),this._onObjectAdded&&this._onObjectAdded(e),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var e,t=this._objects,n=!1,r=0,o=arguments.length;r<o;r++)-1!==(e=t.indexOf(arguments[r]))&&(n=!0,t.splice(e,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[r]));return this.renderOnAddRemove&&n&&this.requestRenderAll(),this},forEachObject:function(e,t){for(var n=this.getObjects(),r=0,o=n.length;r<o;r++)e.call(t,n[r],r,n);return this},getObjects:function(e){return void 0===e?this._objects.concat():this._objects.filter((function(t){return t.type===e}))},item:function(e){return this._objects[e]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(e,t){return this._objects.indexOf(e)>-1||!!t&&this._objects.some((function(t){return"function"==typeof t.contains&&t.contains(e,!0)}))},complexity:function(){return this._objects.reduce((function(e,t){return e+=t.complexity?t.complexity():0}),0)}},j.CommonMethods={_setOptions:function(e){for(var t in e)this.set(t,e[t])},_initGradient:function(e,t){!e||!e.colorStops||e instanceof j.Gradient||this.set(t,new j.Gradient(e))},_initPattern:function(e,t,n){!e||!e.source||e instanceof j.Pattern?n&&n():this.set(t,new j.Pattern(e,n))},_setObject:function(e){for(var t in e)this._set(t,e[t])},set:function(e,t){return"object"==typeof e?this._setObject(e):this._set(e,t),this},_set:function(e,t){this[e]=t},toggle:function(e){var t=this.get(e);return"boolean"==typeof t&&this.set(e,!t),this},get:function(e){return this[e]}},function(e){var t=Math.sqrt,n=Math.atan2,r=Math.pow,o=Math.PI/180,s=Math.PI/2;j.util={cos:function(e){if(0===e)return 1;switch(e<0&&(e=-e),e/s){case 1:case 3:return 0;case 2:return-1}return Math.cos(e)},sin:function(e){if(0===e)return 0;var t=1;switch(e<0&&(t=-1),e/s){case 1:return t;case 2:return 0;case 3:return-t}return Math.sin(e)},removeFromArray:function(e,t){var n=e.indexOf(t);return-1!==n&&e.splice(n,1),e},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},degreesToRadians:function(e){return e*o},radiansToDegrees:function(e){return e/o},rotatePoint:function(e,t,n){var r=new j.Point(e.x-t.x,e.y-t.y),o=j.util.rotateVector(r,n);return new j.Point(o.x,o.y).addEquals(t)},rotateVector:function(e,t){var n=j.util.sin(t),r=j.util.cos(t);return{x:e.x*r-e.y*n,y:e.x*n+e.y*r}},createVector:function(e,t){return new j.Point(t.x-e.x,t.y-e.y)},calcAngleBetweenVectors:function(e,t){return Math.acos((e.x*t.x+e.y*t.y)/(Math.hypot(e.x,e.y)*Math.hypot(t.x,t.y)))},getHatVector:function(e){return new j.Point(e.x,e.y).multiply(1/Math.hypot(e.x,e.y))},getBisector:function(e,t,n){var r=j.util.createVector(e,t),o=j.util.createVector(e,n),s=j.util.calcAngleBetweenVectors(r,o),i=s*(0===j.util.calcAngleBetweenVectors(j.util.rotateVector(r,s),o)?1:-1)/2;return{vector:j.util.getHatVector(j.util.rotateVector(r,i)),angle:s}},projectStrokeOnPoints:function(e,t,n){var r=[],o=t.strokeWidth/2,s=t.strokeUniform?new j.Point(1/t.scaleX,1/t.scaleY):new j.Point(1,1),i=function(e){var t=o/Math.hypot(e.x,e.y);return new j.Point(e.x*t*s.x,e.y*t*s.y)};return e.length<=1||e.forEach((function(a,l){var c,u,h=new j.Point(a.x,a.y);0===l?(u=e[l+1],c=n?i(j.util.createVector(u,h)).addEquals(h):e[e.length-1]):l===e.length-1?(c=e[l-1],u=n?i(j.util.createVector(c,h)).addEquals(h):e[0]):(c=e[l-1],u=e[l+1]);var d,f,p=j.util.getBisector(h,c,u),m=p.vector,g=p.angle;if("miter"===t.strokeLineJoin&&(d=-o/Math.sin(g/2),f=new j.Point(m.x*d*s.x,m.y*d*s.y),Math.hypot(f.x,f.y)/o<=t.strokeMiterLimit))return r.push(h.add(f)),void r.push(h.subtract(f));d=-o*Math.SQRT2,f=new j.Point(m.x*d*s.x,m.y*d*s.y),r.push(h.add(f)),r.push(h.subtract(f))})),r},transformPoint:function(e,t,n){return n?new j.Point(t[0]*e.x+t[2]*e.y,t[1]*e.x+t[3]*e.y):new j.Point(t[0]*e.x+t[2]*e.y+t[4],t[1]*e.x+t[3]*e.y+t[5])},makeBoundingBoxFromPoints:function(e,t){if(t)for(var n=0;n<e.length;n++)e[n]=j.util.transformPoint(e[n],t);var r=[e[0].x,e[1].x,e[2].x,e[3].x],o=j.util.array.min(r),s=j.util.array.max(r)-o,i=[e[0].y,e[1].y,e[2].y,e[3].y],a=j.util.array.min(i);return{left:o,top:a,width:s,height:j.util.array.max(i)-a}},invertTransform:function(e){var t=1/(e[0]*e[3]-e[1]*e[2]),n=[t*e[3],-t*e[1],-t*e[2],t*e[0]],r=j.util.transformPoint({x:e[4],y:e[5]},n,!0);return n[4]=-r.x,n[5]=-r.y,n},toFixed:function(e,t){return parseFloat(Number(e).toFixed(t))},parseUnit:function(e,t){var n=/\D{0,2}$/.exec(e),r=parseFloat(e);switch(t||(t=j.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return r*j.DPI/25.4;case"cm":return r*j.DPI/2.54;case"in":return r*j.DPI;case"pt":return r*j.DPI/72;case"pc":return r*j.DPI/72*12;case"em":return r*t;default:return r}},falseFunction:function(){return!1},getKlass:function(e,t){return e=j.util.string.camelize(e.charAt(0).toUpperCase()+e.slice(1)),j.util.resolveNamespace(t)[e]},getSvgAttributes:function(e){var t=["instantiated_by_use","style","id","class"];switch(e){case"linearGradient":t=t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":t=t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":t=t.concat(["offset","stop-color","stop-opacity"])}return t},resolveNamespace:function(t){if(!t)return j;var n,r=t.split("."),o=r.length,s=e||j.window;for(n=0;n<o;++n)s=s[r[n]];return s},loadImage:function(e,t,n,r){if(e){var o=j.util.createImage(),s=function(){t&&t.call(n,o,!1),o=o.onload=o.onerror=null};o.onload=s,o.onerror=function(){j.log("Error loading "+o.src),t&&t.call(n,null,!0),o=o.onload=o.onerror=null},0!==e.indexOf("data")&&null!=r&&(o.crossOrigin=r),"data:image/svg"===e.substring(0,14)&&(o.onload=null,j.util.loadImageInDom(o,s)),o.src=e}else t&&t.call(n,e)},loadImageInDom:function(e,t){var n=j.document.createElement("div");n.style.width=n.style.height="1px",n.style.left=n.style.top="-100%",n.style.position="absolute",n.appendChild(e),j.document.querySelector("body").appendChild(n),e.onload=function(){t(),n.parentNode.removeChild(n),n=null}},enlivenObjects:function(e,t,n,r){var o=[],s=0,i=(e=e||[]).length;function a(){++s===i&&t&&t(o.filter((function(e){return e})))}i?e.forEach((function(e,t){e&&e.type?j.util.getKlass(e.type,n).fromObject(e,(function(n,s){s||(o[t]=n),r&&r(e,n,s),a()})):a()})):t&&t(o)},enlivenObjectEnlivables:function(e,t,n){var r=j.Object.ENLIVEN_PROPS.filter((function(t){return!!e[t]}));j.util.enlivenObjects(r.map((function(t){return e[t]})),(function(e){var o={};r.forEach((function(n,r){o[n]=e[r],t&&(t[n]=e[r])})),n&&n(o)}))},enlivenPatterns:function(e,t){function n(){++o===s&&t&&t(r)}var r=[],o=0,s=(e=e||[]).length;s?e.forEach((function(e,t){e&&e.source?new j.Pattern(e,(function(e){r[t]=e,n()})):(r[t]=e,n())})):t&&t(r)},groupSVGElements:function(e,t,n){var r;return e&&1===e.length?e[0]:(t&&(t.width&&t.height?t.centerPoint={x:t.width/2,y:t.height/2}:(delete t.width,delete t.height)),r=new j.Group(e,t),void 0!==n&&(r.sourcePath=n),r)},populateWithProperties:function(e,t,n){if(n&&Array.isArray(n))for(var r=0,o=n.length;r<o;r++)n[r]in e&&(t[n[r]]=e[n[r]])},createCanvasElement:function(){return j.document.createElement("canvas")},copyCanvasElement:function(e){var t=j.util.createCanvasElement();return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t},toDataURL:function(e,t,n){return e.toDataURL("image/"+t,n)},createImage:function(){return j.document.createElement("img")},multiplyTransformMatrices:function(e,t,n){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],n?0:e[0]*t[4]+e[2]*t[5]+e[4],n?0:e[1]*t[4]+e[3]*t[5]+e[5]]},qrDecompose:function(e){var s=n(e[1],e[0]),i=r(e[0],2)+r(e[1],2),a=t(i),l=(e[0]*e[3]-e[2]*e[1])/a,c=n(e[0]*e[2]+e[1]*e[3],i);return{angle:s/o,scaleX:a,scaleY:l,skewX:c/o,skewY:0,translateX:e[4],translateY:e[5]}},calcRotateMatrix:function(e){if(!e.angle)return j.iMatrix.concat();var t=j.util.degreesToRadians(e.angle),n=j.util.cos(t),r=j.util.sin(t);return[n,r,-r,n,0,0]},calcDimensionsMatrix:function(e){var t=void 0===e.scaleX?1:e.scaleX,n=void 0===e.scaleY?1:e.scaleY,r=[e.flipX?-t:t,0,0,e.flipY?-n:n,0,0],o=j.util.multiplyTransformMatrices,s=j.util.degreesToRadians;return e.skewX&&(r=o(r,[1,0,Math.tan(s(e.skewX)),1],!0)),e.skewY&&(r=o(r,[1,Math.tan(s(e.skewY)),0,1],!0)),r},composeMatrix:function(e){var t=[1,0,0,1,e.translateX||0,e.translateY||0],n=j.util.multiplyTransformMatrices;return e.angle&&(t=n(t,j.util.calcRotateMatrix(e))),(1!==e.scaleX||1!==e.scaleY||e.skewX||e.skewY||e.flipX||e.flipY)&&(t=n(t,j.util.calcDimensionsMatrix(e))),t},resetObjectTransform:function(e){e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.flipX=!1,e.flipY=!1,e.rotate(0)},saveObjectTransform:function(e){return{scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,angle:e.angle,left:e.left,flipX:e.flipX,flipY:e.flipY,top:e.top}},isTransparent:function(e,t,n,r){r>0&&(t>r?t-=r:t=0,n>r?n-=r:n=0);var o,s=!0,i=e.getImageData(t,n,2*r||1,2*r||1),a=i.data.length;for(o=3;o<a&&!1!==(s=i.data[o]<=0);o+=4);return i=null,s},parsePreserveAspectRatioAttribute:function(e){var t,n="meet",r=e.split(" ");return r&&r.length&&("meet"!==(n=r.pop())&&"slice"!==n?(t=n,n="meet"):r.length&&(t=r.pop())),{meetOrSlice:n,alignX:"none"!==t?t.slice(1,4):"none",alignY:"none"!==t?t.slice(5,8):"none"}},clearFabricFontCache:function(e){(e=(e||"").toLowerCase())?j.charWidthsCache[e]&&delete j.charWidthsCache[e]:j.charWidthsCache={}},limitDimsByArea:function(e,t){var n=Math.sqrt(t*e),r=Math.floor(t/n);return{x:Math.floor(n),y:r}},capValue:function(e,t,n){return Math.max(e,Math.min(t,n))},findScaleToFit:function(e,t){return Math.min(t.width/e.width,t.height/e.height)},findScaleToCover:function(e,t){return Math.max(t.width/e.width,t.height/e.height)},matrixToSVG:function(e){return"matrix("+e.map((function(e){return j.util.toFixed(e,j.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"},removeTransformFromObject:function(e,t){var n=j.util.invertTransform(t),r=j.util.multiplyTransformMatrices(n,e.calcOwnMatrix());j.util.applyTransformToObject(e,r)},addTransformToObject:function(e,t){j.util.applyTransformToObject(e,j.util.multiplyTransformMatrices(t,e.calcOwnMatrix()))},applyTransformToObject:function(e,t){var n=j.util.qrDecompose(t),r=new j.Point(n.translateX,n.translateY);e.flipX=!1,e.flipY=!1,e.set("scaleX",n.scaleX),e.set("scaleY",n.scaleY),e.skewX=n.skewX,e.skewY=n.skewY,e.angle=n.angle,e.setPositionByOrigin(r,"center","center")},sizeAfterTransform:function(e,t,n){var r=e/2,o=t/2,s=[{x:-r,y:-o},{x:r,y:-o},{x:-r,y:o},{x:r,y:o}],i=j.util.calcDimensionsMatrix(n),a=j.util.makeBoundingBoxFromPoints(s,i);return{x:a.width,y:a.height}},mergeClipPaths:function(e,t){var n=e,r=t;n.inverted&&!r.inverted&&(n=t,r=e),j.util.applyTransformToObject(r,j.util.multiplyTransformMatrices(j.util.invertTransform(n.calcTransformMatrix()),r.calcTransformMatrix()));var o=n.inverted&&r.inverted;return o&&(n.inverted=r.inverted=!1),new j.Group([n],{clipPath:r,inverted:o})}}}(t),function(){var e=Array.prototype.join,t={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},n={m:"l",M:"L"};function r(e,t,n,r,o,s,i,a,l,c,u){var h=j.util.cos(e),d=j.util.sin(e),f=j.util.cos(t),p=j.util.sin(t),m=n*o*f-r*s*p+i,g=r*o*f+n*s*p+a;return["C",c+l*(-n*o*d-r*s*h),u+l*(-r*o*d+n*s*h),m+l*(n*o*p+r*s*f),g+l*(r*o*p-n*s*f),m,g]}function o(e,t,n,r){var o=Math.atan2(t,e),s=Math.atan2(r,n);return s>=o?s-o:2*Math.PI-(o-s)}function s(e,t,n){for(var s=n[1],i=n[2],a=n[3],l=n[4],c=n[5],u=function(e,t,n,s,i,a,l){var c=Math.PI,u=l*c/180,h=j.util.sin(u),d=j.util.cos(u),f=0,p=0,m=-d*e*.5-h*t*.5,g=-d*t*.5+h*e*.5,v=(n=Math.abs(n))*n,_=(s=Math.abs(s))*s,y=g*g,b=m*m,x=v*_-v*y-_*b,w=0;if(x<0){var C=Math.sqrt(1-x/(v*_));n*=C,s*=C}else w=(i===a?-1:1)*Math.sqrt(x/(v*y+_*b));var A=w*n*g/s,S=-w*s*m/n,T=d*A-h*S+.5*e,k=h*A+d*S+.5*t,E=o(1,0,(m-A)/n,(g-S)/s),O=o((m-A)/n,(g-S)/s,(-m-A)/n,(-g-S)/s);0===a&&O>0?O-=2*c:1===a&&O<0&&(O+=2*c);for(var P=Math.ceil(Math.abs(O/c*2)),M=[],D=O/P,L=8/3*Math.sin(D/4)*Math.sin(D/4)/Math.sin(D/2),F=E+D,I=0;I<P;I++)M[I]=r(E,F,d,h,n,s,T,k,L,f,p),f=M[I][5],p=M[I][6],E=F,F+=D;return M}(n[6]-e,n[7]-t,s,i,l,c,a),h=0,d=u.length;h<d;h++)u[h][1]+=e,u[h][2]+=t,u[h][3]+=e,u[h][4]+=t,u[h][5]+=e,u[h][6]+=t;return u}function i(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}function a(e,t,n,r,o,s,i,a){return function(l){var c,u=(c=l)*c*c,h=function(e){return 3*e*e*(1-e)}(l),d=function(e){return 3*e*(1-e)*(1-e)}(l),f=function(e){return(1-e)*(1-e)*(1-e)}(l);return{x:i*u+o*h+n*d+e*f,y:a*u+s*h+r*d+t*f}}}function l(e,t,n,r,o,s,i,a){return function(l){var c=1-l,u=3*c*c*(n-e)+6*c*l*(o-n)+3*l*l*(i-o),h=3*c*c*(r-t)+6*c*l*(s-r)+3*l*l*(a-s);return Math.atan2(h,u)}}function c(e,t,n,r,o,s){return function(i){var a,l=(a=i)*a,c=function(e){return 2*e*(1-e)}(i),u=function(e){return(1-e)*(1-e)}(i);return{x:o*l+n*c+e*u,y:s*l+r*c+t*u}}}function u(e,t,n,r,o,s){return function(i){var a=1-i,l=2*a*(n-e)+2*i*(o-n),c=2*a*(r-t)+2*i*(s-r);return Math.atan2(c,l)}}function h(e,t,n){var r,o,s={x:t,y:n},a=0;for(o=1;o<=100;o+=1)r=e(o/100),a+=i(s.x,s.y,r.x,r.y),s=r;return a}function d(e,t){for(var n,r,o,s=0,a=0,l=e.iterator,c={x:e.x,y:e.y},u=.01,h=e.angleFinder;a<t&&u>1e-4;)n=l(s),o=s,(r=i(c.x,c.y,n.x,n.y))+a>t?(s-=u,u/=2):(c=n,s+=u,a+=r);return n.angle=h(o),n}function f(e){for(var t,n,r,o,s=0,d=e.length,f=0,p=0,m=0,g=0,v=[],_=0;_<d;_++){switch(r={x:f,y:p,command:(t=e[_])[0]},t[0]){case"M":r.length=0,m=f=t[1],g=p=t[2];break;case"L":r.length=i(f,p,t[1],t[2]),f=t[1],p=t[2];break;case"C":n=a(f,p,t[1],t[2],t[3],t[4],t[5],t[6]),o=l(f,p,t[1],t[2],t[3],t[4],t[5],t[6]),r.iterator=n,r.angleFinder=o,r.length=h(n,f,p),f=t[5],p=t[6];break;case"Q":n=c(f,p,t[1],t[2],t[3],t[4]),o=u(f,p,t[1],t[2],t[3],t[4]),r.iterator=n,r.angleFinder=o,r.length=h(n,f,p),f=t[3],p=t[4];break;case"Z":case"z":r.destX=m,r.destY=g,r.length=i(f,p,m,g),f=m,p=g}s+=r.length,v.push(r)}return v.push({length:s,x:f,y:p}),v}j.util.joinPath=function(e){return e.map((function(e){return e.join(" ")})).join(" ")},j.util.parsePath=function(e){var r,o,s,i,a,l=[],c=[],u=j.rePathCommand,h="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",d="("+h+")"+j.commaWsp,f="([01])"+j.commaWsp+"?",p=new RegExp(d+"?"+d+"?"+d+f+f+d+"?("+h+")","g");if(!e||!e.match)return l;for(var m,g=0,v=(a=e.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;g<v;g++){i=(r=a[g]).slice(1).trim(),c.length=0;var _=r.charAt(0);if(m=[_],"a"===_.toLowerCase())for(var y;y=p.exec(i);)for(var b=1;b<y.length;b++)c.push(y[b]);else for(;s=u.exec(i);)c.push(s[0]);b=0;for(var x=c.length;b<x;b++)o=parseFloat(c[b]),isNaN(o)||m.push(o);var w=t[_.toLowerCase()],C=n[_]||_;if(m.length-1>w)for(var A=1,S=m.length;A<S;A+=w)l.push([_].concat(m.slice(A,A+w))),_=C;else l.push(m)}return l},j.util.makePathSimpler=function(e){var t,n,r,o,i,a,l=0,c=0,u=e.length,h=0,d=0,f=[];for(n=0;n<u;++n){switch(r=!1,(t=e[n].slice(0))[0]){case"l":t[0]="L",t[1]+=l,t[2]+=c;case"L":l=t[1],c=t[2];break;case"h":t[1]+=l;case"H":t[0]="L",t[2]=c,l=t[1];break;case"v":t[1]+=c;case"V":t[0]="L",c=t[1],t[1]=l,t[2]=c;break;case"m":t[0]="M",t[1]+=l,t[2]+=c;case"M":l=t[1],c=t[2],h=t[1],d=t[2];break;case"c":t[0]="C",t[1]+=l,t[2]+=c,t[3]+=l,t[4]+=c,t[5]+=l,t[6]+=c;case"C":i=t[3],a=t[4],l=t[5],c=t[6];break;case"s":t[0]="S",t[1]+=l,t[2]+=c,t[3]+=l,t[4]+=c;case"S":"C"===o?(i=2*l-i,a=2*c-a):(i=l,a=c),l=t[3],c=t[4],t[0]="C",t[5]=t[3],t[6]=t[4],t[3]=t[1],t[4]=t[2],t[1]=i,t[2]=a,i=t[3],a=t[4];break;case"q":t[0]="Q",t[1]+=l,t[2]+=c,t[3]+=l,t[4]+=c;case"Q":i=t[1],a=t[2],l=t[3],c=t[4];break;case"t":t[0]="T",t[1]+=l,t[2]+=c;case"T":"Q"===o?(i=2*l-i,a=2*c-a):(i=l,a=c),t[0]="Q",l=t[1],c=t[2],t[1]=i,t[2]=a,t[3]=l,t[4]=c;break;case"a":t[0]="A",t[6]+=l,t[7]+=c;case"A":r=!0,f=f.concat(s(l,c,t)),l=t[6],c=t[7];break;case"z":case"Z":l=h,c=d}r||f.push(t),o=t[0]}return f},j.util.getSmoothPathFromPoints=function(e,t){var n,r=[],o=new j.Point(e[0].x,e[0].y),s=new j.Point(e[1].x,e[1].y),i=e.length,a=1,l=0,c=i>2;for(t=t||0,c&&(a=e[2].x<s.x?-1:e[2].x===s.x?0:1,l=e[2].y<s.y?-1:e[2].y===s.y?0:1),r.push(["M",o.x-a*t,o.y-l*t]),n=1;n<i;n++){if(!o.eq(s)){var u=o.midPointFrom(s);r.push(["Q",o.x,o.y,u.x,u.y])}o=e[n],n+1<e.length&&(s=e[n+1])}return c&&(a=o.x>e[n-2].x?1:o.x===e[n-2].x?0:-1,l=o.y>e[n-2].y?1:o.y===e[n-2].y?0:-1),r.push(["L",o.x+a*t,o.y+l*t]),r},j.util.getPathSegmentsInfo=f,j.util.getBoundsOfCurve=function(t,n,r,o,s,i,a,l){var c;if(j.cachesBoundsOfCurve&&(c=e.call(arguments),j.boundsOfCurveCache[c]))return j.boundsOfCurveCache[c];var u,h,d,f,p,m,g,v,_=Math.sqrt,y=Math.min,b=Math.max,x=Math.abs,w=[],C=[[],[]];h=6*t-12*r+6*s,u=-3*t+9*r-9*s+3*a,d=3*r-3*t;for(var A=0;A<2;++A)if(A>0&&(h=6*n-12*o+6*i,u=-3*n+9*o-9*i+3*l,d=3*o-3*n),x(u)<1e-12){if(x(h)<1e-12)continue;0<(f=-d/h)&&f<1&&w.push(f)}else(g=h*h-4*d*u)<0||(0<(p=(-h+(v=_(g)))/(2*u))&&p<1&&w.push(p),0<(m=(-h-v)/(2*u))&&m<1&&w.push(m));for(var S,T,k,E=w.length,O=E;E--;)S=(k=1-(f=w[E]))*k*k*t+3*k*k*f*r+3*k*f*f*s+f*f*f*a,C[0][E]=S,T=k*k*k*n+3*k*k*f*o+3*k*f*f*i+f*f*f*l,C[1][E]=T;C[0][O]=t,C[1][O]=n,C[0][O+1]=a,C[1][O+1]=l;var P=[{x:y.apply(null,C[0]),y:y.apply(null,C[1])},{x:b.apply(null,C[0]),y:b.apply(null,C[1])}];return j.cachesBoundsOfCurve&&(j.boundsOfCurveCache[c]=P),P},j.util.getPointOnPath=function(e,t,n){n||(n=f(e));for(var r=0;t-n[r].length>0&&r<n.length-2;)t-=n[r].length,r++;var o,s=n[r],i=t/s.length,a=s.command,l=e[r];switch(a){case"M":return{x:s.x,y:s.y,angle:0};case"Z":case"z":return(o=new j.Point(s.x,s.y).lerp(new j.Point(s.destX,s.destY),i)).angle=Math.atan2(s.destY-s.y,s.destX-s.x),o;case"L":return(o=new j.Point(s.x,s.y).lerp(new j.Point(l[1],l[2]),i)).angle=Math.atan2(l[2]-s.y,l[1]-s.x),o;case"C":case"Q":return d(s,t)}},j.util.transformPath=function(e,t,n){return n&&(t=j.util.multiplyTransformMatrices(t,[1,0,0,1,-n.x,-n.y])),e.map((function(e){for(var n=e.slice(0),r={},o=1;o<e.length-1;o+=2)r.x=e[o],r.y=e[o+1],r=j.util.transformPoint(r,t),n[o]=r.x,n[o+1]=r.y;return n}))}}(),function(){var e=Array.prototype.slice;function t(e,t,n){if(e&&0!==e.length){var r=e.length-1,o=t?e[r][t]:e[r];if(t)for(;r--;)n(e[r][t],o)&&(o=e[r][t]);else for(;r--;)n(e[r],o)&&(o=e[r]);return o}}j.util.array={fill:function(e,t){for(var n=e.length;n--;)e[n]=t;return e},invoke:function(t,n){for(var r=e.call(arguments,2),o=[],s=0,i=t.length;s<i;s++)o[s]=r.length?t[s][n].apply(t[s],r):t[s][n].call(t[s]);return o},min:function(e,n){return t(e,n,(function(e,t){return e<t}))},max:function(e,n){return t(e,n,(function(e,t){return e>=t}))}}}(),function(){function e(t,n,r){if(r)if(!j.isLikelyNode&&n instanceof Element)t=n;else if(n instanceof Array){t=[];for(var o=0,s=n.length;o<s;o++)t[o]=e({},n[o],r)}else if(n&&"object"==typeof n)for(var i in n)"canvas"===i||"group"===i?t[i]=null:n.hasOwnProperty(i)&&(t[i]=e({},n[i],r));else t=n;else for(var i in n)t[i]=n[i];return t}j.util.object={extend:e,clone:function(t,n){return e({},t,n)}},j.util.object.extend(j.util,j.Observable)}(),function(){function e(e,t){var n=e.charCodeAt(t);if(isNaN(n))return"";if(n<55296||n>57343)return e.charAt(t);if(55296<=n&&n<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";var r=e.charCodeAt(t+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}if(0===t)throw"Low surrogate without preceding high surrogate";var o=e.charCodeAt(t-1);if(55296>o||o>56319)throw"Low surrogate without preceding high surrogate";return!1}j.util.string={camelize:function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},capitalize:function(e,t){return e.charAt(0).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())},escapeXml:function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(t){var n,r=0,o=[];for(r=0;r<t.length;r++)!1!==(n=e(t,r))&&o.push(n);return o}}}(),function(){var e=Array.prototype.slice,t=function(){},n=function(){for(var e in{toString:1})if("toString"===e)return!1;return!0}(),r=function(e,t,r){for(var o in t)o in e.prototype&&"function"==typeof e.prototype[o]&&(t[o]+"").indexOf("callSuper")>-1?e.prototype[o]=function(e){return function(){var n=this.constructor.superclass;this.constructor.superclass=r;var o=t[e].apply(this,arguments);if(this.constructor.superclass=n,"initialize"!==e)return o}}(o):e.prototype[o]=t[o],n&&(t.toString!==Object.prototype.toString&&(e.prototype.toString=t.toString),t.valueOf!==Object.prototype.valueOf&&(e.prototype.valueOf=t.valueOf))};function o(){}function s(t){for(var n=null,r=this;r.constructor.superclass;){var o=r.constructor.superclass.prototype[t];if(r[t]!==o){n=o;break}r=r.constructor.superclass.prototype}if(n)return arguments.length>1?n.apply(this,e.call(arguments,1)):n.call(this)}j.util.createClass=function(){var n=null,i=e.call(arguments,0);function a(){this.initialize.apply(this,arguments)}"function"==typeof i[0]&&(n=i.shift()),a.superclass=n,a.subclasses=[],n&&(o.prototype=n.prototype,a.prototype=new o,n.subclasses.push(a));for(var l=0,c=i.length;l<c;l++)r(a,i[l],n);return a.prototype.initialize||(a.prototype.initialize=t),a.prototype.constructor=a,a.prototype.callSuper=s,a}}(),r=!!j.document.createElement("div").attachEvent,o=["touchstart","touchmove","touchend"],j.util.addListener=function(e,t,n,o){e&&e.addEventListener(t,n,!r&&o)},j.util.removeListener=function(e,t,n,o){e&&e.removeEventListener(t,n,!r&&o)},j.util.getPointer=function(e){var t=e.target,n=j.util.getScrollLeftTop(t),r=function(e){var t=e.changedTouches;return t&&t[0]?t[0]:e}(e);return{x:r.clientX+n.left,y:r.clientY+n.top}},j.util.isTouchEvent=function(e){return o.indexOf(e.type)>-1||"touch"===e.pointerType},s=j.document.createElement("div"),i="string"==typeof s.style.opacity,a="string"==typeof s.style.filter,l=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,c=function(e){return e},i?c=function(e,t){return e.style.opacity=t,e}:a&&(c=function(e,t){var n=e.style;return e.currentStyle&&!e.currentStyle.hasLayout&&(n.zoom=1),l.test(n.filter)?(t=t>=.9999?"":"alpha(opacity="+100*t+")",n.filter=n.filter.replace(l,t)):n.filter+=" alpha(opacity="+100*t+")",e}),j.util.setStyle=function(e,t){var n=e.style;if(!n)return e;if("string"==typeof t)return e.style.cssText+=";"+t,t.indexOf("opacity")>-1?c(e,t.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var r in t)"opacity"===r?c(e,t[r]):n["float"===r||"cssFloat"===r?void 0===n.styleFloat?"cssFloat":"styleFloat":r]=t[r];return e},function(){var e=Array.prototype.slice;var t,n,r,o,s=function(t){return e.call(t,0)};try{t=s(j.document.childNodes)instanceof Array}catch(e){}function i(e,t){var n=j.document.createElement(e);for(var r in t)"class"===r?n.className=t[r]:"for"===r?n.htmlFor=t[r]:n.setAttribute(r,t[r]);return n}function a(e){for(var t=0,n=0,r=j.document.documentElement,o=j.document.body||{scrollLeft:0,scrollTop:0};e&&(e.parentNode||e.host)&&((e=e.parentNode||e.host)===j.document?(t=o.scrollLeft||r.scrollLeft||0,n=o.scrollTop||r.scrollTop||0):(t+=e.scrollLeft||0,n+=e.scrollTop||0),1!==e.nodeType||"fixed"!==e.style.position););return{left:t,top:n}}t||(s=function(e){for(var t=new Array(e.length),n=e.length;n--;)t[n]=e[n];return t}),n=j.document.defaultView&&j.document.defaultView.getComputedStyle?function(e,t){var n=j.document.defaultView.getComputedStyle(e,null);return n?n[t]:void 0}:function(e,t){var n=e.style[t];return!n&&e.currentStyle&&(n=e.currentStyle[t]),n},r=j.document.documentElement.style,o="userSelect"in r?"userSelect":"MozUserSelect"in r?"MozUserSelect":"WebkitUserSelect"in r?"WebkitUserSelect":"KhtmlUserSelect"in r?"KhtmlUserSelect":"",j.util.makeElementUnselectable=function(e){return void 0!==e.onselectstart&&(e.onselectstart=j.util.falseFunction),o?e.style[o]="none":"string"==typeof e.unselectable&&(e.unselectable="on"),e},j.util.makeElementSelectable=function(e){return void 0!==e.onselectstart&&(e.onselectstart=null),o?e.style[o]="":"string"==typeof e.unselectable&&(e.unselectable=""),e},j.util.setImageSmoothing=function(e,t){e.imageSmoothingEnabled=e.imageSmoothingEnabled||e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled||e.oImageSmoothingEnabled,e.imageSmoothingEnabled=t},j.util.getById=function(e){return"string"==typeof e?j.document.getElementById(e):e},j.util.toArray=s,j.util.addClass=function(e,t){e&&-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=(e.className?" ":"")+t)},j.util.makeElement=i,j.util.wrapElement=function(e,t,n){return"string"==typeof t&&(t=i(t,n)),e.parentNode&&e.parentNode.replaceChild(t,e),t.appendChild(e),t},j.util.getScrollLeftTop=a,j.util.getElementOffset=function(e){var t,r,o=e&&e.ownerDocument,s={left:0,top:0},i={left:0,top:0},l={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!o)return i;for(var c in l)i[l[c]]+=parseInt(n(e,c),10)||0;return t=o.documentElement,void 0!==e.getBoundingClientRect&&(s=e.getBoundingClientRect()),r=a(e),{left:s.left+r.left-(t.clientLeft||0)+i.left,top:s.top+r.top-(t.clientTop||0)+i.top}},j.util.getNodeCanvas=function(e){var t=j.jsdomImplForWrapper(e);return t._canvas||t._image},j.util.cleanUpJsdomNode=function(e){if(j.isLikelyNode){var t=j.jsdomImplForWrapper(e);t&&(t._image=null,t._canvas=null,t._currentSrc=null,t._attributes=null,t._classList=null)}}}(),function(){function e(){}j.util.request=function(t,n){n||(n={});var r=n.method?n.method.toUpperCase():"GET",o=n.onComplete||function(){},s=new j.window.XMLHttpRequest,i=n.body||n.parameters;return s.onreadystatechange=function(){4===s.readyState&&(o(s),s.onreadystatechange=e)},"GET"===r&&(i=null,"string"==typeof n.parameters&&(t=function(e,t){return e+(/\?/.test(e)?"&":"?")+t}(t,n.parameters))),s.open(r,t,!0),"POST"!==r&&"PUT"!==r||s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(i),s}}(),j.log=console.log,j.warn=console.warn,function(){var e=j.util.object.extend,t=j.util.object.clone,n=[];function r(){return!1}function o(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t}j.util.object.extend(n,{cancelAll:function(){var e=this.splice(0);return e.forEach((function(e){e.cancel()})),e},cancelByCanvas:function(e){if(!e)return[];var t=this.filter((function(t){return"object"==typeof t.target&&t.target.canvas===e}));return t.forEach((function(e){e.cancel()})),t},cancelByTarget:function(e){var t=this.findAnimationsByTarget(e);return t.forEach((function(e){e.cancel()})),t},findAnimationIndex:function(e){return this.indexOf(this.findAnimation(e))},findAnimation:function(e){return this.find((function(t){return t.cancel===e}))},findAnimationsByTarget:function(e){return e?this.filter((function(t){return t.target===e})):[]}});var s=j.window.requestAnimationFrame||j.window.webkitRequestAnimationFrame||j.window.mozRequestAnimationFrame||j.window.oRequestAnimationFrame||j.window.msRequestAnimationFrame||function(e){return j.window.setTimeout(e,1e3/60)},i=j.window.cancelAnimationFrame||j.window.clearTimeout;function a(){return s.apply(j.window,arguments)}j.util.animate=function(n){n||(n={});var s,i=!1,l=function(){var e=j.runningAnimations.indexOf(s);return e>-1&&j.runningAnimations.splice(e,1)[0]};return s=e(t(n),{cancel:function(){return i=!0,l()},currentValue:"startValue"in n?n.startValue:0,completionRate:0,durationRate:0}),j.runningAnimations.push(s),a((function(e){var t,c=e||+new Date,u=n.duration||500,h=c+u,d=n.onChange||r,f=n.abort||r,p=n.onComplete||r,m=n.easing||o,g="startValue"in n&&n.startValue.length>0,v="startValue"in n?n.startValue:0,_="endValue"in n?n.endValue:100,j=n.byValue||(g?v.map((function(e,t){return _[t]-v[t]})):_-v);n.onStart&&n.onStart(),function e(n){var r=(t=n||+new Date)>h?u:t-c,o=r/u,y=g?v.map((function(e,t){return m(r,v[t],j[t],u)})):m(r,v,j,u),b=g?Math.abs((y[0]-v[0])/j[0]):Math.abs((y-v)/j);if(s.currentValue=g?y.slice():y,s.completionRate=b,s.durationRate=o,!i){if(!f(y,b,o))return t>h?(s.currentValue=g?_.slice():_,s.completionRate=1,s.durationRate=1,d(g?_.slice():_,1,1),p(_,1,1),void l()):(d(y,b,o),void a(e));l()}}(c)})),s.cancel},j.util.requestAnimFrame=a,j.util.cancelAnimFrame=function(){return i.apply(j.window,arguments)},j.runningAnimations=n}(),function(){function e(e,t,n){var r="rgba("+parseInt(e[0]+n*(t[0]-e[0]),10)+","+parseInt(e[1]+n*(t[1]-e[1]),10)+","+parseInt(e[2]+n*(t[2]-e[2]),10);return r+=","+(e&&t?parseFloat(e[3]+n*(t[3]-e[3])):1),r+=")"}j.util.animateColor=function(t,n,r,o){var s=new j.Color(t).getSource(),i=new j.Color(n).getSource(),a=o.onComplete,l=o.onChange;return o=o||{},j.util.animate(j.util.object.extend(o,{duration:r||500,startValue:s,endValue:i,byValue:i,easing:function(t,n,r,s){return e(n,r,o.colorEasing?o.colorEasing(t,s):1-Math.cos(t/s*(Math.PI/2)))},onComplete:function(t,n,r){if(a)return a(e(i,i,0),n,r)},onChange:function(t,n,r){if(l){if(Array.isArray(t))return l(e(t,t,0),n,r);l(t,n,r)}}}))}}(),function(){function e(e,t,n,r){return e<Math.abs(t)?(e=t,r=n/4):r=0===t&&0===e?n/(2*Math.PI)*Math.asin(1):n/(2*Math.PI)*Math.asin(t/e),{a:e,c:t,p:n,s:r}}function t(e,t,n){return e.a*Math.pow(2,10*(t-=1))*Math.sin((t*n-e.s)*(2*Math.PI)/e.p)}function n(e,t,n,o){return n-r(o-e,0,n,o)+t}function r(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}j.util.ease={easeInQuad:function(e,t,n,r){return n*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0===e?t:n*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){return e===r?t+n:n*(1-Math.pow(2,-10*e/r))+t},easeInOutExpo:function(e,t,n,r){return 0===e?t:e===r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(n,r,o,s){var i=0;return 0===n?r:1===(n/=s)?r+o:(i||(i=.3*s),-t(e(o,o,i,1.70158),n,s)+r)},easeOutElastic:function(t,n,r,o){var s=0;if(0===t)return n;if(1===(t/=o))return n+r;s||(s=.3*o);var i=e(r,r,s,1.70158);return i.a*Math.pow(2,-10*t)*Math.sin((t*o-i.s)*(2*Math.PI)/i.p)+i.c+n},easeInOutElastic:function(n,r,o,s){var i=0;if(0===n)return r;if(2===(n/=s/2))return r+o;i||(i=s*(.3*1.5));var a=e(o,o,i,1.70158);return n<1?-.5*t(a,n,s)+r:a.a*Math.pow(2,-10*(n-=1))*Math.sin((n*s-a.s)*(2*Math.PI)/a.p)*.5+a.c+r},easeInBack:function(e,t,n,r,o){return void 0===o&&(o=1.70158),n*(e/=r)*e*((o+1)*e-o)+t},easeOutBack:function(e,t,n,r,o){return void 0===o&&(o=1.70158),n*((e=e/r-1)*e*((o+1)*e+o)+1)+t},easeInOutBack:function(e,t,n,r,o){return void 0===o&&(o=1.70158),(e/=r/2)<1?n/2*(e*e*((1+(o*=1.525))*e-o))+t:n/2*((e-=2)*e*((1+(o*=1.525))*e+o)+2)+t},easeInBounce:n,easeOutBounce:r,easeInOutBounce:function(e,t,o,s){return e<s/2?.5*n(2*e,0,o,s)+t:.5*r(2*e-s,0,o,s)+.5*o+t}}}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.object.clone,o=t.util.toFixed,s=t.util.parseUnit,i=t.util.multiplyTransformMatrices,a={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},l={stroke:"strokeOpacity",fill:"fillOpacity"},c="font-size",u="clip-path";function h(e){return e in a?a[e]:e}function d(e,n,r,o){var a,l=Array.isArray(n);if("fill"!==e&&"stroke"!==e||"none"!==n){if("strokeUniform"===e)return"non-scaling-stroke"===n;if("strokeDashArray"===e)n="none"===n?null:n.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===e)n=r&&r.transformMatrix?i(r.transformMatrix,t.parseTransformAttribute(n)):t.parseTransformAttribute(n);else if("visible"===e)n="none"!==n&&"hidden"!==n,r&&!1===r.visible&&(n=!1);else if("opacity"===e)n=parseFloat(n),r&&void 0!==r.opacity&&(n*=r.opacity);else if("textAnchor"===e)n="start"===n?"left":"end"===n?"right":"center";else if("charSpacing"===e)a=s(n,o)/o*1e3;else if("paintFirst"===e){var c=n.indexOf("fill"),u=n.indexOf("stroke");n="fill";(c>-1&&u>-1&&u<c||-1===c&&u>-1)&&(n="stroke")}else{if("href"===e||"xlink:href"===e||"font"===e)return n;if("imageSmoothing"===e)return"optimizeQuality"===n;a=l?n.map(s):s(n,o)}}else n="";return!l&&isNaN(a)?n:a}function f(e){return new RegExp("^("+e.join("|")+")\\b","i")}function p(e,t){var n,r,o,s,i=[];for(o=0,s=t.length;o<s;o++)n=t[o],r=e.getElementsByTagName(n),i=i.concat(Array.prototype.slice.call(r));return i}function m(e,t){var n,r=!0;return(n=g(e,t.pop()))&&t.length&&(r=function(e,t){var n,r=!0;for(;e.parentNode&&1===e.parentNode.nodeType&&t.length;)r&&(n=t.pop()),r=g(e=e.parentNode,n);return 0===t.length}(e,t)),n&&r&&0===t.length}function g(e,t){var n,r,o=e.nodeName,s=e.getAttribute("class"),i=e.getAttribute("id");if(n=new RegExp("^"+o,"i"),t=t.replace(n,""),i&&t.length&&(n=new RegExp("#"+i+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"")),s&&t.length)for(r=(s=s.split(" ")).length;r--;)n=new RegExp("\\."+s[r]+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"");return 0===t.length}function v(e,t){var n;if(e.getElementById&&(n=e.getElementById(t)),n)return n;var r,o,s,i=e.getElementsByTagName("*");for(o=0,s=i.length;o<s;o++)if(t===(r=i[o]).getAttribute("id"))return r}t.svgValidTagNamesRegEx=f(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),t.svgViewBoxElementsRegEx=f(["symbol","image","marker","pattern","view","svg"]),t.svgInvalidAncestorsRegEx=f(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),t.svgValidParentsRegEx=f(["symbol","g","a","svg","clipPath","defs"]),t.cssRules={},t.gradientDefs={},t.clipPaths={},t.parseTransformAttribute=function(){function e(e,n,r){e[r]=Math.tan(t.util.degreesToRadians(n[0]))}var n=t.iMatrix,r=t.reNum,o=t.commaWsp,s="(?:"+("(?:(matrix)\\s*\\(\\s*("+r+")"+o+"("+r+")"+o+"("+r+")"+o+"("+r+")"+o+"("+r+")"+o+"("+r+")\\s*\\))")+"|"+("(?:(translate)\\s*\\(\\s*("+r+")(?:"+o+"("+r+"))?\\s*\\))")+"|"+("(?:(scale)\\s*\\(\\s*("+r+")(?:"+o+"("+r+"))?\\s*\\))")+"|"+("(?:(rotate)\\s*\\(\\s*("+r+")(?:"+o+"("+r+")"+o+"("+r+"))?\\s*\\))")+"|"+("(?:(skewX)\\s*\\(\\s*("+r+")\\s*\\))")+"|"+("(?:(skewY)\\s*\\(\\s*("+r+")\\s*\\))")+")",i=new RegExp("^\\s*(?:"+("(?:"+s+"(?:"+o+"*"+s+")*)")+"?)\\s*$"),a=new RegExp(s,"g");return function(r){var o=n.concat(),l=[];if(!r||r&&!i.test(r))return o;r.replace(a,(function(r){var i=new RegExp(s).exec(r).filter((function(e){return!!e})),a=i[1],c=i.slice(2).map(parseFloat);switch(a){case"translate":!function(e,t){e[4]=t[0],2===t.length&&(e[5]=t[1])}(o,c);break;case"rotate":c[0]=t.util.degreesToRadians(c[0]),function(e,n){var r=t.util.cos(n[0]),o=t.util.sin(n[0]),s=0,i=0;3===n.length&&(s=n[1],i=n[2]),e[0]=r,e[1]=o,e[2]=-o,e[3]=r,e[4]=s-(r*s-o*i),e[5]=i-(o*s+r*i)}(o,c);break;case"scale":!function(e,t){var n=t[0],r=2===t.length?t[1]:t[0];e[0]=n,e[3]=r}(o,c);break;case"skewX":e(o,c,2);break;case"skewY":e(o,c,1);break;case"matrix":o=c}l.push(o.concat()),o=n.concat()}));for(var c=l[0];l.length>1;)l.shift(),c=t.util.multiplyTransformMatrices(c,l[0]);return c}}();var _=new RegExp("^\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*$");function j(e){if(!t.svgViewBoxElementsRegEx.test(e.nodeName))return{};var n,r,o,i,a,l,c=e.getAttribute("viewBox"),u=1,h=1,d=e.getAttribute("width"),f=e.getAttribute("height"),p=e.getAttribute("x")||0,m=e.getAttribute("y")||0,g=e.getAttribute("preserveAspectRatio")||"",v=!c||!(c=c.match(_)),j=!d||!f||"100%"===d||"100%"===f,y=v&&j,b={},x="",w=0,C=0;if(b.width=0,b.height=0,b.toBeParsed=y,v&&(p||m)&&e.parentNode&&"#document"!==e.parentNode.nodeName&&(x=" translate("+s(p)+" "+s(m)+") ",a=(e.getAttribute("transform")||"")+x,e.setAttribute("transform",a),e.removeAttribute("x"),e.removeAttribute("y")),y)return b;if(v)return b.width=s(d),b.height=s(f),b;if(n=-parseFloat(c[1]),r=-parseFloat(c[2]),o=parseFloat(c[3]),i=parseFloat(c[4]),b.minX=n,b.minY=r,b.viewBoxWidth=o,b.viewBoxHeight=i,j?(b.width=o,b.height=i):(b.width=s(d),b.height=s(f),u=b.width/o,h=b.height/i),"none"!==(g=t.util.parsePreserveAspectRatioAttribute(g)).alignX&&("meet"===g.meetOrSlice&&(h=u=u>h?h:u),"slice"===g.meetOrSlice&&(h=u=u>h?u:h),w=b.width-o*u,C=b.height-i*u,"Mid"===g.alignX&&(w/=2),"Mid"===g.alignY&&(C/=2),"Min"===g.alignX&&(w=0),"Min"===g.alignY&&(C=0)),1===u&&1===h&&0===n&&0===r&&0===p&&0===m)return b;if((p||m)&&"#document"!==e.parentNode.nodeName&&(x=" translate("+s(p)+" "+s(m)+") "),a=x+" matrix("+u+" 0 0 "+h+" "+(n*u+w)+" "+(r*h+C)+") ","svg"===e.nodeName){for(l=e.ownerDocument.createElementNS(t.svgNS,"g");e.firstChild;)l.appendChild(e.firstChild);e.appendChild(l)}else(l=e).removeAttribute("x"),l.removeAttribute("y"),a=l.getAttribute("transform")+a;return l.setAttribute("transform",a),b}function y(e,t){var n="xlink:href",r=v(e,t.getAttribute(n).slice(1));if(r&&r.getAttribute(n)&&y(e,r),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach((function(e){r&&!t.hasAttribute(e)&&r.hasAttribute(e)&&t.setAttribute(e,r.getAttribute(e))})),!t.children.length)for(var o=r.cloneNode(!0);o.firstChild;)t.appendChild(o.firstChild);t.removeAttribute(n)}t.parseSVGDocument=function(e,n,o,s){if(e){!function(e){for(var n=p(e,["use","svg:use"]),r=0;n.length&&r<n.length;){var o=n[r],s=o.getAttribute("xlink:href")||o.getAttribute("href");if(null===s)return;var i,a,l,c,u=s.slice(1),h=o.getAttribute("x")||0,d=o.getAttribute("y")||0,f=v(e,u).cloneNode(!0),m=(f.getAttribute("transform")||"")+" translate("+h+", "+d+")",g=n.length,_=t.svgNS;if(j(f),/^svg$/i.test(f.nodeName)){var y=f.ownerDocument.createElementNS(_,"g");for(a=0,c=(l=f.attributes).length;a<c;a++)i=l.item(a),y.setAttributeNS(_,i.nodeName,i.nodeValue);for(;f.firstChild;)y.appendChild(f.firstChild);f=y}for(a=0,c=(l=o.attributes).length;a<c;a++)"x"!==(i=l.item(a)).nodeName&&"y"!==i.nodeName&&"xlink:href"!==i.nodeName&&"href"!==i.nodeName&&("transform"===i.nodeName?m=i.nodeValue+" "+m:f.setAttribute(i.nodeName,i.nodeValue));f.setAttribute("transform",m),f.setAttribute("instantiated_by_use","1"),f.removeAttribute("id"),o.parentNode.replaceChild(f,o),n.length===g&&r++}}(e);var i,a,l=t.Object.__uid++,c=j(e),u=t.util.toArray(e.getElementsByTagName("*"));if(c.crossOrigin=s&&s.crossOrigin,c.svgUid=l,0===u.length&&t.isLikelyNode){var h=[];for(i=0,a=(u=e.selectNodes('//*[name(.)!="svg"]')).length;i<a;i++)h[i]=u[i];u=h}var d=u.filter((function(e){return j(e),t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))&&!function(e,t){for(;e&&(e=e.parentNode);)if(e.nodeName&&t.test(e.nodeName.replace("svg:",""))&&!e.getAttribute("instantiated_by_use"))return!0;return!1}(e,t.svgInvalidAncestorsRegEx)}));if(!d||d&&!d.length)n&&n([],{});else{var f={};u.filter((function(e){return"clipPath"===e.nodeName.replace("svg:","")})).forEach((function(e){var n=e.getAttribute("id");f[n]=t.util.toArray(e.getElementsByTagName("*")).filter((function(e){return t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))}))})),t.gradientDefs[l]=t.getGradientDefs(e),t.cssRules[l]=t.getCSSRules(e),t.clipPaths[l]=f,t.parseElements(d,(function(e,r){n&&(n(e,c,r,u),delete t.gradientDefs[l],delete t.cssRules[l],delete t.clipPaths[l])}),r(c),o,s)}}};var b=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+t.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+t.reNum+"))?\\s+(.*)");n(t,{parseFontDeclaration:function(e,t){var n=e.match(b);if(n){var r=n[1],o=n[3],i=n[4],a=n[5],l=n[6];r&&(t.fontStyle=r),o&&(t.fontWeight=isNaN(parseFloat(o))?o:parseFloat(o)),i&&(t.fontSize=s(i)),l&&(t.fontFamily=l),a&&(t.lineHeight="normal"===a?1:a)}},getGradientDefs:function(e){var t,n=p(e,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),r=0,o={};for(r=n.length;r--;)(t=n[r]).getAttribute("xlink:href")&&y(e,t),o[t.getAttribute("id")]=t;return o},parseAttributes:function(e,r,i){if(e){var a,f,p,g={};void 0===i&&(i=e.getAttribute("svgUid")),e.parentNode&&t.svgValidParentsRegEx.test(e.parentNode.nodeName)&&(g=t.parseAttributes(e.parentNode,r,i));var v=r.reduce((function(t,n){return(a=e.getAttribute(n))&&(t[n]=a),t}),{}),_=n(function(e,n){var r={};for(var o in t.cssRules[n])if(m(e,o.split(" ")))for(var s in t.cssRules[n][o])r[s]=t.cssRules[n][o][s];return r}(e,i),t.parseStyleAttribute(e));v=n(v,_),_[u]&&e.setAttribute(u,_[u]),f=p=g.fontSize||t.Text.DEFAULT_SVG_FONT_SIZE,v[c]&&(v[c]=f=s(v[c],p));var j,y,b={};for(var x in v)y=d(j=h(x),v[x],g,f),b[j]=y;b&&b.font&&t.parseFontDeclaration(b.font,b);var w=n(g,b);return t.svgValidParentsRegEx.test(e.nodeName)?w:function(e){for(var n in l)if(void 0!==e[l[n]]&&""!==e[n]){if(void 0===e[n]){if(!t.Object.prototype[n])continue;e[n]=t.Object.prototype[n]}if(0!==e[n].indexOf("url(")){var r=new t.Color(e[n]);e[n]=r.setAlpha(o(r.getAlpha()*e[l[n]],2)).toRgba()}}return e}(w)}},parseElements:function(e,n,r,o,s){new t.ElementsParser(e,n,r,o,s).parse()},parseStyleAttribute:function(e){var t={},n=e.getAttribute("style");return n?("string"==typeof n?function(e,t){var n,r;e.replace(/;\s*$/,"").split(";").forEach((function(e){var o=e.split(":");n=o[0].trim().toLowerCase(),r=o[1].trim(),t[n]=r}))}(n,t):function(e,t){var n,r;for(var o in e)void 0!==e[o]&&(n=o.toLowerCase(),r=e[o],t[n]=r)}(n,t),t):t},parsePointsAttribute:function(e){if(!e)return null;var t,n,r=[];for(t=0,n=(e=(e=e.replace(/,/g," ").trim()).split(/\s+/)).length;t<n;t+=2)r.push({x:parseFloat(e[t]),y:parseFloat(e[t+1])});return r},getCSSRules:function(e){var n,r,o=e.getElementsByTagName("style"),s={};for(n=0,r=o.length;n<r;n++){var i=o[n].textContent;""!==(i=i.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&i.split("}").filter((function(e){return e.trim()})).forEach((function(e){var o=e.split("{"),i={},a=o[1].trim().split(";").filter((function(e){return e.trim()}));for(n=0,r=a.length;n<r;n++){var l=a[n].split(":"),c=l[0].trim(),u=l[1].trim();i[c]=u}(e=o[0].trim()).split(",").forEach((function(e){""!==(e=e.replace(/^svg/i,"").trim())&&(s[e]?t.util.object.extend(s[e],i):s[e]=t.util.object.clone(i))}))}))}return s},loadSVGFromURL:function(e,n,r,o){e=e.replace(/^\n\s*/,"").trim(),new t.util.request(e,{method:"get",onComplete:function(e){var s=e.responseXML;if(!s||!s.documentElement)return n&&n(null),!1;t.parseSVGDocument(s.documentElement,(function(e,t,r,o){n&&n(e,t,r,o)}),r,o)}})},loadSVGFromString:function(e,n,r,o){var s=(new t.window.DOMParser).parseFromString(e.trim(),"text/xml");t.parseSVGDocument(s.documentElement,(function(e,t,r,o){n(e,t,r,o)}),r,o)}})}(t),j.ElementsParser=function(e,t,n,r,o,s){this.elements=e,this.callback=t,this.options=n,this.reviver=r,this.svgUid=n&&n.svgUid||0,this.parsingOptions=o,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=s},(u=j.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},u.createObjects=function(){var e=this;this.elements.forEach((function(t,n){t.setAttribute("svgUid",e.svgUid),e.createObject(t,n)}))},u.findTag=function(e){return j[j.util.string.capitalize(e.tagName.replace("svg:",""))]},u.createObject=function(e,t){var n=this.findTag(e);if(n&&n.fromElement)try{n.fromElement(e,this.createCallback(t,e),this.options)}catch(e){j.log(e)}else this.checkIfDone()},u.createCallback=function(e,t){var n=this;return function(r){var o;n.resolveGradient(r,t,"fill"),n.resolveGradient(r,t,"stroke"),r instanceof j.Image&&r._originalElement&&(o=r.parsePreserveAspectRatioAttribute(t)),r._removeTransformMatrix(o),n.resolveClipPath(r,t),n.reviver&&n.reviver(t,r),n.instances[e]=r,n.checkIfDone()}},u.extractPropertyDefinition=function(e,t,n){var r=e[t],o=this.regexUrl;if(o.test(r)){o.lastIndex=0;var s=o.exec(r)[1];return o.lastIndex=0,j[n][this.svgUid][s]}},u.resolveGradient=function(e,t,n){var r=this.extractPropertyDefinition(e,n,"gradientDefs");if(r){var o=t.getAttribute(n+"-opacity"),s=j.Gradient.fromElement(r,e,o,this.options);e.set(n,s)}},u.createClipPathCallback=function(e,t){return function(e){e._removeTransformMatrix(),e.fillRule=e.clipRule,t.push(e)}},u.resolveClipPath=function(e,t){var n,r,o,s,i=this.extractPropertyDefinition(e,"clipPath","clipPaths");if(i){o=[],r=j.util.invertTransform(e.calcTransformMatrix());for(var a=i[0].parentNode,l=t;l.parentNode&&l.getAttribute("clip-path")!==e.clipPath;)l=l.parentNode;l.parentNode.appendChild(a);for(var c=0;c<i.length;c++)n=i[c],this.findTag(n).fromElement(n,this.createClipPathCallback(e,o),this.options);i=1===o.length?o[0]:new j.Group(o),s=j.util.multiplyTransformMatrices(r,i.calcTransformMatrix()),i.clipPath&&this.resolveClipPath(i,l);var u=j.util.qrDecompose(s);i.flipX=!1,i.flipY=!1,i.set("scaleX",u.scaleX),i.set("scaleY",u.scaleY),i.angle=u.angle,i.skewX=u.skewX,i.skewY=0,i.setPositionByOrigin({x:u.translateX,y:u.translateY},"center","center"),e.clipPath=i}else delete e.clipPath},u.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter((function(e){return null!=e})),this.callback(this.instances,this.elements))},function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e,t){this.x=e,this.y=t}t.Point?t.warn("fabric.Point is already defined"):(t.Point=n,n.prototype={type:"point",constructor:n,add:function(e){return new n(this.x+e.x,this.y+e.y)},addEquals:function(e){return this.x+=e.x,this.y+=e.y,this},scalarAdd:function(e){return new n(this.x+e,this.y+e)},scalarAddEquals:function(e){return this.x+=e,this.y+=e,this},subtract:function(e){return new n(this.x-e.x,this.y-e.y)},subtractEquals:function(e){return this.x-=e.x,this.y-=e.y,this},scalarSubtract:function(e){return new n(this.x-e,this.y-e)},scalarSubtractEquals:function(e){return this.x-=e,this.y-=e,this},multiply:function(e){return new n(this.x*e,this.y*e)},multiplyEquals:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return new n(this.x/e,this.y/e)},divideEquals:function(e){return this.x/=e,this.y/=e,this},eq:function(e){return this.x===e.x&&this.y===e.y},lt:function(e){return this.x<e.x&&this.y<e.y},lte:function(e){return this.x<=e.x&&this.y<=e.y},gt:function(e){return this.x>e.x&&this.y>e.y},gte:function(e){return this.x>=e.x&&this.y>=e.y},lerp:function(e,t){return void 0===t&&(t=.5),t=Math.max(Math.min(1,t),0),new n(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)},distanceFrom:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},midPointFrom:function(e){return this.lerp(e)},min:function(e){return new n(Math.min(this.x,e.x),Math.min(this.y,e.y))},max:function(e){return new n(Math.max(this.x,e.x),Math.max(this.y,e.y))},toString:function(){return this.x+","+this.y},setXY:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setFromPoint:function(e){return this.x=e.x,this.y=e.y,this},swap:function(e){var t=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=n},clone:function(){return new n(this.x,this.y)}})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){this.status=e,this.points=[]}t.Intersection?t.warn("fabric.Intersection is already defined"):(t.Intersection=n,t.Intersection.prototype={constructor:n,appendPoint:function(e){return this.points.push(e),this},appendPoints:function(e){return this.points=this.points.concat(e),this}},t.Intersection.intersectLineLine=function(e,r,o,s){var i,a=(s.x-o.x)*(e.y-o.y)-(s.y-o.y)*(e.x-o.x),l=(r.x-e.x)*(e.y-o.y)-(r.y-e.y)*(e.x-o.x),c=(s.y-o.y)*(r.x-e.x)-(s.x-o.x)*(r.y-e.y);if(0!==c){var u=a/c,h=l/c;0<=u&&u<=1&&0<=h&&h<=1?(i=new n("Intersection")).appendPoint(new t.Point(e.x+u*(r.x-e.x),e.y+u*(r.y-e.y))):i=new n}else i=new n(0===a||0===l?"Coincident":"Parallel");return i},t.Intersection.intersectLinePolygon=function(e,t,r){var o,s,i,a,l=new n,c=r.length;for(a=0;a<c;a++)o=r[a],s=r[(a+1)%c],i=n.intersectLineLine(e,t,o,s),l.appendPoints(i.points);return l.points.length>0&&(l.status="Intersection"),l},t.Intersection.intersectPolygonPolygon=function(e,t){var r,o=new n,s=e.length;for(r=0;r<s;r++){var i=e[r],a=e[(r+1)%s],l=n.intersectLinePolygon(i,a,t);o.appendPoints(l.points)}return o.points.length>0&&(o.status="Intersection"),o},t.Intersection.intersectPolygonRectangle=function(e,r,o){var s=r.min(o),i=r.max(o),a=new t.Point(i.x,s.y),l=new t.Point(s.x,i.y),c=n.intersectLinePolygon(s,a,e),u=n.intersectLinePolygon(a,i,e),h=n.intersectLinePolygon(i,l,e),d=n.intersectLinePolygon(l,s,e),f=new n;return f.appendPoints(c.points),f.appendPoints(u.points),f.appendPoints(h.points),f.appendPoints(d.points),f.points.length>0&&(f.status="Intersection"),f})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){e?this._tryParsingColor(e):this.setSource([0,0,0,1])}function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}t.Color?t.warn("fabric.Color is already defined."):(t.Color=n,t.Color.prototype={_tryParsingColor:function(e){var t;e in n.colorNameMap&&(e=n.colorNameMap[e]),"transparent"===e&&(t=[255,255,255,0]),t||(t=n.sourceFromHex(e)),t||(t=n.sourceFromRgb(e)),t||(t=n.sourceFromHsl(e)),t||(t=[0,0,0,1]),t&&this.setSource(t)},_rgbToHsl:function(e,n,r){e/=255,n/=255,r/=255;var o,s,i,a=t.util.array.max([e,n,r]),l=t.util.array.min([e,n,r]);if(i=(a+l)/2,a===l)o=s=0;else{var c=a-l;switch(s=i>.5?c/(2-a-l):c/(a+l),a){case e:o=(n-r)/c+(n<r?6:0);break;case n:o=(r-e)/c+2;break;case r:o=(e-n)/c+4}o/=6}return[Math.round(360*o),Math.round(100*s),Math.round(100*i)]},getSource:function(){return this._source},setSource:function(e){this._source=e},toRgb:function(){var e=this.getSource();return"rgb("+e[0]+","+e[1]+","+e[2]+")"},toRgba:function(){var e=this.getSource();return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")"},toHsl:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsl("+t[0]+","+t[1]+"%,"+t[2]+"%)"},toHsla:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsla("+t[0]+","+t[1]+"%,"+t[2]+"%,"+e[3]+")"},toHex:function(){var e,t,n,r=this.getSource();return e=1===(e=r[0].toString(16)).length?"0"+e:e,t=1===(t=r[1].toString(16)).length?"0"+t:t,n=1===(n=r[2].toString(16)).length?"0"+n:n,e.toUpperCase()+t.toUpperCase()+n.toUpperCase()},toHexa:function(){var e,t=this.getSource();return e=1===(e=(e=Math.round(255*t[3])).toString(16)).length?"0"+e:e,this.toHex()+e.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(e){var t=this.getSource();return t[3]=e,this.setSource(t),this},toGrayscale:function(){var e=this.getSource(),t=parseInt((.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),10),n=e[3];return this.setSource([t,t,t,n]),this},toBlackWhite:function(e){var t=this.getSource(),n=(.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),r=t[3];return e=e||127,n=Number(n)<Number(e)?0:255,this.setSource([n,n,n,r]),this},overlayWith:function(e){e instanceof n||(e=new n(e));var t,r=[],o=this.getAlpha(),s=this.getSource(),i=e.getSource();for(t=0;t<3;t++)r.push(Math.round(.5*s[t]+.5*i[t]));return r[3]=o,this.setSource(r),this}},t.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,t.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,t.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,t.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},t.Color.fromRgb=function(e){return n.fromSource(n.sourceFromRgb(e))},t.Color.sourceFromRgb=function(e){var t=e.match(n.reRGBa);if(t){var r=parseInt(t[1],10)/(/%$/.test(t[1])?100:1)*(/%$/.test(t[1])?255:1),o=parseInt(t[2],10)/(/%$/.test(t[2])?100:1)*(/%$/.test(t[2])?255:1),s=parseInt(t[3],10)/(/%$/.test(t[3])?100:1)*(/%$/.test(t[3])?255:1);return[parseInt(r,10),parseInt(o,10),parseInt(s,10),t[4]?parseFloat(t[4]):1]}},t.Color.fromRgba=n.fromRgb,t.Color.fromHsl=function(e){return n.fromSource(n.sourceFromHsl(e))},t.Color.sourceFromHsl=function(e){var t=e.match(n.reHSLa);if(t){var o,s,i,a=(parseFloat(t[1])%360+360)%360/360,l=parseFloat(t[2])/(/%$/.test(t[2])?100:1),c=parseFloat(t[3])/(/%$/.test(t[3])?100:1);if(0===l)o=s=i=c;else{var u=c<=.5?c*(l+1):c+l-c*l,h=2*c-u;o=r(h,u,a+1/3),s=r(h,u,a),i=r(h,u,a-1/3)}return[Math.round(255*o),Math.round(255*s),Math.round(255*i),t[4]?parseFloat(t[4]):1]}},t.Color.fromHsla=n.fromHsl,t.Color.fromHex=function(e){return n.fromSource(n.sourceFromHex(e))},t.Color.sourceFromHex=function(e){if(e.match(n.reHex)){var t=e.slice(e.indexOf("#")+1),r=3===t.length||4===t.length,o=8===t.length||4===t.length,s=r?t.charAt(0)+t.charAt(0):t.substring(0,2),i=r?t.charAt(1)+t.charAt(1):t.substring(2,4),a=r?t.charAt(2)+t.charAt(2):t.substring(4,6),l=o?r?t.charAt(3)+t.charAt(3):t.substring(6,8):"FF";return[parseInt(s,16),parseInt(i,16),parseInt(a,16),parseFloat((parseInt(l,16)/255).toFixed(2))]}},t.Color.fromSource=function(e){var t=new n;return t.setSource(e),t})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=["e","se","s","sw","w","nw","n","ne","e"],r=["ns","nesw","ew","nwse"],o={},s="left",i="top",a="right",l="bottom",c="center",u={top:l,bottom:i,left:a,right:s,center:c},h=t.util.radiansToDegrees,d=Math.sign||function(e){return(e>0)-(e<0)||+e};function f(e,t){var n=e.angle+h(Math.atan2(t.y,t.x))+360;return Math.round(n%360/45)}function p(e,n){var r=n.transform.target,o=r.canvas,s=t.util.object.clone(n);s.target=r,o&&o.fire("object:"+e,s),r.fire(e,n)}function m(e,t){var n=t.canvas,r=e[n.uniScaleKey];return n.uniformScaling&&!r||!n.uniformScaling&&r}function g(e){return e.originX===c&&e.originY===c}function v(e,t,n){var r=e.lockScalingX,o=e.lockScalingY;return!(!r||!o)||(!(t||!r&&!o||!n)||(!(!r||"x"!==t)||!(!o||"y"!==t)))}function _(e,t,n,r){return{e:e,transform:t,pointer:{x:n,y:r}}}function j(e){return function(t,n,r,o){var s=n.target,i=s.getCenterPoint(),a=s.translateToOriginPoint(i,n.originX,n.originY),l=e(t,n,r,o);return s.setPositionByOrigin(a,n.originX,n.originY),l}}function y(e,t){return function(n,r,o,s){var i=t(n,r,o,s);return i&&p(e,_(n,r,o,s)),i}}function b(e,n,r,o,s){var i=e.target,a=i.controls[e.corner],l=i.canvas.getZoom(),c=i.padding/l,u=i.toLocalPoint(new t.Point(o,s),n,r);return u.x>=c&&(u.x-=c),u.x<=-c&&(u.x+=c),u.y>=c&&(u.y-=c),u.y<=c&&(u.y+=c),u.x-=a.offsetX,u.y-=a.offsetY,u}function x(e){return e.flipX!==e.flipY}function w(e,t,n,r,o){if(0!==e[t]){var s=o/e._getTransformedDimensions()[r]*e[n];e.set(n,s)}}function C(e,t,n,r){var o,c=t.target,u=c._getTransformedDimensions(0,c.skewY),d=b(t,t.originX,t.originY,n,r),f=Math.abs(2*d.x)-u.x,p=c.skewX;f<2?o=0:(o=h(Math.atan2(f/c.scaleX,u.y/c.scaleY)),t.originX===s&&t.originY===l&&(o=-o),t.originX===a&&t.originY===i&&(o=-o),x(c)&&(o=-o));var m=p!==o;if(m){var g=c._getTransformedDimensions().y;c.set("skewX",o),w(c,"skewY","scaleY","y",g)}return m}function A(e,t,n,r){var o,c=t.target,u=c._getTransformedDimensions(c.skewX,0),d=b(t,t.originX,t.originY,n,r),f=Math.abs(2*d.y)-u.y,p=c.skewY;f<2?o=0:(o=h(Math.atan2(f/c.scaleY,u.x/c.scaleX)),t.originX===s&&t.originY===l&&(o=-o),t.originX===a&&t.originY===i&&(o=-o),x(c)&&(o=-o));var m=p!==o;if(m){var g=c._getTransformedDimensions().x;c.set("skewY",o),w(c,"skewX","scaleX","x",g)}return m}function S(e,t,n,r,o){o=o||{};var s,i,a,l,c,h,f=t.target,p=f.lockScalingX,_=f.lockScalingY,j=o.by,y=m(e,f),x=v(f,j,y),w=t.gestureScale;if(x)return!1;if(w)i=t.scaleX*w,a=t.scaleY*w;else{if(s=b(t,t.originX,t.originY,n,r),c="y"!==j?d(s.x):1,h="x"!==j?d(s.y):1,t.signX||(t.signX=c),t.signY||(t.signY=h),f.lockScalingFlip&&(t.signX!==c||t.signY!==h))return!1;if(l=f._getTransformedDimensions(),y&&!j){var C=Math.abs(s.x)+Math.abs(s.y),A=t.original,S=C/(Math.abs(l.x*A.scaleX/f.scaleX)+Math.abs(l.y*A.scaleY/f.scaleY));i=A.scaleX*S,a=A.scaleY*S}else i=Math.abs(s.x*f.scaleX/l.x),a=Math.abs(s.y*f.scaleY/l.y);g(t)&&(i*=2,a*=2),t.signX!==c&&"y"!==j&&(t.originX=u[t.originX],i*=-1,t.signX=c),t.signY!==h&&"x"!==j&&(t.originY=u[t.originY],a*=-1,t.signY=h)}var T=f.scaleX,k=f.scaleY;return j?("x"===j&&f.set("scaleX",i),"y"===j&&f.set("scaleY",a)):(!p&&f.set("scaleX",i),!_&&f.set("scaleY",a)),T!==f.scaleX||k!==f.scaleY}o.scaleCursorStyleHandler=function(e,t,r){var o=m(e,r),s="";if(0!==t.x&&0===t.y?s="x":0===t.x&&0!==t.y&&(s="y"),v(r,s,o))return"not-allowed";var i=f(r,t);return n[i]+"-resize"},o.skewCursorStyleHandler=function(e,t,n){var o="not-allowed";if(0!==t.x&&n.lockSkewingY)return o;if(0!==t.y&&n.lockSkewingX)return o;var s=f(n,t)%4;return r[s]+"-resize"},o.scaleSkewCursorStyleHandler=function(e,t,n){return e[n.canvas.altActionKey]?o.skewCursorStyleHandler(e,t,n):o.scaleCursorStyleHandler(e,t,n)},o.rotationWithSnapping=y("rotating",j((function(e,t,n,r){var o=t,s=o.target,i=s.translateToOriginPoint(s.getCenterPoint(),o.originX,o.originY);if(s.lockRotation)return!1;var a,l=Math.atan2(o.ey-i.y,o.ex-i.x),c=Math.atan2(r-i.y,n-i.x),u=h(c-l+o.theta);if(s.snapAngle>0){var d=s.snapAngle,f=s.snapThreshold||d,p=Math.ceil(u/d)*d,m=Math.floor(u/d)*d;Math.abs(u-m)<f?u=m:Math.abs(u-p)<f&&(u=p)}return u<0&&(u=360+u),u%=360,a=s.angle!==u,s.angle=u,a}))),o.scalingEqually=y("scaling",j((function(e,t,n,r){return S(e,t,n,r)}))),o.scalingX=y("scaling",j((function(e,t,n,r){return S(e,t,n,r,{by:"x"})}))),o.scalingY=y("scaling",j((function(e,t,n,r){return S(e,t,n,r,{by:"y"})}))),o.scalingYOrSkewingX=function(e,t,n,r){return e[t.target.canvas.altActionKey]?o.skewHandlerX(e,t,n,r):o.scalingY(e,t,n,r)},o.scalingXOrSkewingY=function(e,t,n,r){return e[t.target.canvas.altActionKey]?o.skewHandlerY(e,t,n,r):o.scalingX(e,t,n,r)},o.changeWidth=y("resizing",j((function(e,t,n,r){var o=t.target,s=b(t,t.originX,t.originY,n,r),i=o.strokeWidth/(o.strokeUniform?o.scaleX:1),a=g(t)?2:1,l=o.width,c=Math.abs(s.x*a/o.scaleX)-i;return o.set("width",Math.max(c,0)),l!==c}))),o.skewHandlerX=function(e,t,n,r){var o,l=t.target,u=l.skewX,h=t.originY;return!l.lockSkewingX&&(0===u?o=b(t,c,c,n,r).x>0?s:a:(u>0&&(o=h===i?s:a),u<0&&(o=h===i?a:s),x(l)&&(o=o===s?a:s)),t.originX=o,y("skewing",j(C))(e,t,n,r))},o.skewHandlerY=function(e,t,n,r){var o,a=t.target,u=a.skewY,h=t.originX;return!a.lockSkewingY&&(0===u?o=b(t,c,c,n,r).y>0?i:l:(u>0&&(o=h===s?i:l),u<0&&(o=h===s?l:i),x(a)&&(o=o===i?l:i)),t.originY=o,y("skewing",j(A))(e,t,n,r))},o.dragHandler=function(e,t,n,r){var o=t.target,s=n-t.offsetX,i=r-t.offsetY,a=!o.get("lockMovementX")&&o.left!==s,l=!o.get("lockMovementY")&&o.top!==i;return a&&o.set("left",s),l&&o.set("top",i),(a||l)&&p("moving",_(e,t,n,r)),a||l},o.scaleOrSkewActionName=function(e,t,n){var r=e[n.canvas.altActionKey];return 0===t.x?r?"skewX":"scaleY":0===t.y?r?"skewY":"scaleX":void 0},o.rotationStyleHandler=function(e,t,n){return n.lockRotation?"not-allowed":t.cursorStyle},o.fireEvent=p,o.wrapWithFixedAnchor=j,o.wrapWithFireEvent=y,o.getLocalPoint=b,t.controlsUtils=o}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.degreesToRadians,r=t.controlsUtils;r.renderCircleControl=function(e,t,n,r,o){r=r||{};var s,i=this.sizeX||r.cornerSize||o.cornerSize,a=this.sizeY||r.cornerSize||o.cornerSize,l=void 0!==r.transparentCorners?r.transparentCorners:o.transparentCorners,c=l?"stroke":"fill",u=!l&&(r.cornerStrokeColor||o.cornerStrokeColor),h=t,d=n;e.save(),e.fillStyle=r.cornerColor||o.cornerColor,e.strokeStyle=r.cornerStrokeColor||o.cornerStrokeColor,i>a?(s=i,e.scale(1,a/i),d=n*i/a):a>i?(s=a,e.scale(i/a,1),h=t*a/i):s=i,e.lineWidth=1,e.beginPath(),e.arc(h,d,s/2,0,2*Math.PI,!1),e[c](),u&&e.stroke(),e.restore()},r.renderSquareControl=function(e,t,r,o,s){o=o||{};var i=this.sizeX||o.cornerSize||s.cornerSize,a=this.sizeY||o.cornerSize||s.cornerSize,l=void 0!==o.transparentCorners?o.transparentCorners:s.transparentCorners,c=l?"stroke":"fill",u=!l&&(o.cornerStrokeColor||s.cornerStrokeColor),h=i/2,d=a/2;e.save(),e.fillStyle=o.cornerColor||s.cornerColor,e.strokeStyle=o.cornerStrokeColor||s.cornerStrokeColor,e.lineWidth=1,e.translate(t,r),e.rotate(n(s.angle)),e[c+"Rect"](-h,-d,i,a),u&&e.strokeRect(-h,-d,i,a),e.restore()}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Control=function(e){for(var t in e)this[t]=e[t]},t.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(e,t){return t.cursorStyle},getActionName:function(e,t){return t.actionName},getVisibility:function(e,t){var n=e._controlsVisibility;return n&&void 0!==n[t]?n[t]:this.visible},setVisibility:function(e){this.visible=e},positionHandler:function(e,n){return t.util.transformPoint({x:this.x*e.x+this.offsetX,y:this.y*e.y+this.offsetY},n)},calcCornerCoords:function(e,n,r,o,s){var i,a,l,c,u=s?this.touchSizeX:this.sizeX,h=s?this.touchSizeY:this.sizeY;if(u&&h&&u!==h){var d=Math.atan2(h,u),f=Math.sqrt(u*u+h*h)/2,p=d-t.util.degreesToRadians(e),m=Math.PI/2-d-t.util.degreesToRadians(e);i=f*t.util.cos(p),a=f*t.util.sin(p),l=f*t.util.cos(m),c=f*t.util.sin(m)}else{f=.7071067812*(u&&h?u:n);p=t.util.degreesToRadians(45-e);i=l=f*t.util.cos(p),a=c=f*t.util.sin(p)}return{tl:{x:r-c,y:o-l},tr:{x:r+i,y:o-a},bl:{x:r-i,y:o+a},br:{x:r+c,y:o+l}}},render:function(e,n,r,o,s){if("circle"===((o=o||{}).cornerStyle||s.cornerStyle))t.controlsUtils.renderCircleControl.call(this,e,n,r,o,s);else t.controlsUtils.renderSquareControl.call(this,e,n,r,o,s)}}}(t),function(){function e(e,t){var n,r,o,s,i=e.getAttribute("style"),a=e.getAttribute("offset")||0;if(a=(a=parseFloat(a)/(/%$/.test(a)?100:1))<0?0:a>1?1:a,i){var l=i.split(/\s*;\s*/);for(""===l[l.length-1]&&l.pop(),s=l.length;s--;){var c=l[s].split(/\s*:\s*/),u=c[0].trim(),h=c[1].trim();"stop-color"===u?n=h:"stop-opacity"===u&&(o=h)}}return n||(n=e.getAttribute("stop-color")||"rgb(0,0,0)"),o||(o=e.getAttribute("stop-opacity")),r=(n=new j.Color(n)).getAlpha(),o=isNaN(parseFloat(o))?1:parseFloat(o),o*=r*t,{offset:a,color:n.toRgb(),opacity:o}}var t=j.util.object.clone;j.Gradient=j.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(e){e||(e={}),e.coords||(e.coords={});var t,n=this;Object.keys(e).forEach((function(t){n[t]=e[t]})),this.id?this.id+="_"+j.Object.__uid++:this.id=j.Object.__uid++,t={x1:e.coords.x1||0,y1:e.coords.y1||0,x2:e.coords.x2||0,y2:e.coords.y2||0},"radial"===this.type&&(t.r1=e.coords.r1||0,t.r2=e.coords.r2||0),this.coords=t,this.colorStops=e.colorStops.slice()},addColorStop:function(e){for(var t in e){var n=new j.Color(e[t]);this.colorStops.push({offset:parseFloat(t),color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(e){var t={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return j.util.populateWithProperties(this,t,e),t},toSVG:function(e,n){var r,o,s,i,a=t(this.coords,!0),l=(n=n||{},t(this.colorStops,!0)),c=a.r1>a.r2,u=this.gradientTransform?this.gradientTransform.concat():j.iMatrix.concat(),h=-this.offsetX,d=-this.offsetY,f=!!n.additionalTransform,p="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(l.sort((function(e,t){return e.offset-t.offset})),"objectBoundingBox"===p?(h/=e.width,d/=e.height):(h+=e.width/2,d+=e.height/2),"path"===e.type&&"percentage"!==this.gradientUnits&&(h-=e.pathOffset.x,d-=e.pathOffset.y),u[4]-=h,u[5]-=d,i='id="SVGID_'+this.id+'" gradientUnits="'+p+'"',i+=' gradientTransform="'+(f?n.additionalTransform+" ":"")+j.util.matrixToSVG(u)+'" ',"linear"===this.type?s=["<linearGradient ",i,' x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,'">\n']:"radial"===this.type&&(s=["<radialGradient ",i,' cx="',c?a.x1:a.x2,'" cy="',c?a.y1:a.y2,'" r="',c?a.r1:a.r2,'" fx="',c?a.x2:a.x1,'" fy="',c?a.y2:a.y1,'">\n']),"radial"===this.type){if(c)for((l=l.concat()).reverse(),r=0,o=l.length;r<o;r++)l[r].offset=1-l[r].offset;var m=Math.min(a.r1,a.r2);if(m>0){var g=m/Math.max(a.r1,a.r2);for(r=0,o=l.length;r<o;r++)l[r].offset+=g*(1-l[r].offset)}}for(r=0,o=l.length;r<o;r++){var v=l[r];s.push("<stop ",'offset="',100*v.offset+"%",'" style="stop-color:',v.color,void 0!==v.opacity?";stop-opacity: "+v.opacity:";",'"/>\n')}return s.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),s.join("")},toLive:function(e){var t,n,r,o=j.util.object.clone(this.coords);if(this.type){for("linear"===this.type?t=e.createLinearGradient(o.x1,o.y1,o.x2,o.y2):"radial"===this.type&&(t=e.createRadialGradient(o.x1,o.y1,o.r1,o.x2,o.y2,o.r2)),n=0,r=this.colorStops.length;n<r;n++){var s=this.colorStops[n].color,i=this.colorStops[n].opacity,a=this.colorStops[n].offset;void 0!==i&&(s=new j.Color(s).setAlpha(i).toRgba()),t.addColorStop(a,s)}return t}}}),j.util.object.extend(j.Gradient,{fromElement:function(t,n,r,o){var s=parseFloat(r)/(/%$/.test(r)?100:1);s=s<0?0:s>1?1:s,isNaN(s)&&(s=1);var i,a,l,c,u=t.getElementsByTagName("stop"),h="userSpaceOnUse"===t.getAttribute("gradientUnits")?"pixels":"percentage",d=t.getAttribute("gradientTransform")||"",f=[],p=0,m=0;for("linearGradient"===t.nodeName||"LINEARGRADIENT"===t.nodeName?(i="linear",a=function(e){return{x1:e.getAttribute("x1")||0,y1:e.getAttribute("y1")||0,x2:e.getAttribute("x2")||"100%",y2:e.getAttribute("y2")||0}}(t)):(i="radial",a=function(e){return{x1:e.getAttribute("fx")||e.getAttribute("cx")||"50%",y1:e.getAttribute("fy")||e.getAttribute("cy")||"50%",r1:0,x2:e.getAttribute("cx")||"50%",y2:e.getAttribute("cy")||"50%",r2:e.getAttribute("r")||"50%"}}(t)),l=u.length;l--;)f.push(e(u[l],s));return c=j.parseTransformAttribute(d),function(e,t,n,r){var o,s;Object.keys(t).forEach((function(e){"Infinity"===(o=t[e])?s=1:"-Infinity"===o?s=0:(s=parseFloat(t[e],10),"string"==typeof o&&/^(\d+\.\d+)%|(\d+)%$/.test(o)&&(s*=.01,"pixels"===r&&("x1"!==e&&"x2"!==e&&"r2"!==e||(s*=n.viewBoxWidth||n.width),"y1"!==e&&"y2"!==e||(s*=n.viewBoxHeight||n.height)))),t[e]=s}))}(0,a,o,h),"pixels"===h&&(p=-n.left,m=-n.top),new j.Gradient({id:t.getAttribute("id"),type:i,coords:a,colorStops:f,gradientUnits:h,gradientTransform:c,offsetX:p,offsetY:m})}})}(),function(){"use strict";var e=j.util.toFixed;j.Pattern=j.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(e,t){if(e||(e={}),this.id=j.Object.__uid++,this.setOptions(e),!e.source||e.source&&"string"!=typeof e.source)t&&t(this);else{var n=this;this.source=j.util.createImage(),j.util.loadImage(e.source,(function(e,r){n.source=e,t&&t(n,r)}),null,this.crossOrigin)}},toObject:function(t){var n,r,o=j.Object.NUM_FRACTION_DIGITS;return"string"==typeof this.source.src?n=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(n=this.source.toDataURL()),r={type:"pattern",source:n,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:e(this.offsetX,o),offsetY:e(this.offsetY,o),patternTransform:this.patternTransform?this.patternTransform.concat():null},j.util.populateWithProperties(this,r,t),r},toSVG:function(e){var t="function"==typeof this.source?this.source():this.source,n=t.width/e.width,r=t.height/e.height,o=this.offsetX/e.width,s=this.offsetY/e.height,i="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(r=1,s&&(r+=Math.abs(s))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,o&&(n+=Math.abs(o))),t.src?i=t.src:t.toDataURL&&(i=t.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+o+'" y="'+s+'" width="'+n+'" height="'+r+'">\n<image x="0" y="0" width="'+t.width+'" height="'+t.height+'" xlink:href="'+i+'"></image>\n</pattern>\n'},setOptions:function(e){for(var t in e)this[t]=e[t]},toLive:function(e){var t=this.source;if(!t)return"";if(void 0!==t.src){if(!t.complete)return"";if(0===t.naturalWidth||0===t.naturalHeight)return""}return e.createPattern(t,this.repeat)}})}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.toFixed;t.Shadow?t.warn("fabric.Shadow is already defined."):(t.Shadow=t.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(e){for(var n in"string"==typeof e&&(e=this._parseShadow(e)),e)this[n]=e[n];this.id=t.Object.__uid++},_parseShadow:function(e){var n=e.trim(),r=t.Shadow.reOffsetsAndBlur.exec(n)||[];return{color:(n.replace(t.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(r[1],10)||0,offsetY:parseFloat(r[2],10)||0,blur:parseFloat(r[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(e){var r=40,o=40,s=t.Object.NUM_FRACTION_DIGITS,i=t.util.rotateVector({x:this.offsetX,y:this.offsetY},t.util.degreesToRadians(-e.angle)),a=new t.Color(this.color);return e.width&&e.height&&(r=100*n((Math.abs(i.x)+this.blur)/e.width,s)+20,o=100*n((Math.abs(i.y)+this.blur)/e.height,s)+20),e.flipX&&(i.x*=-1),e.flipY&&(i.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+o+'%" height="'+(100+2*o)+'%" x="-'+r+'%" width="'+(100+2*r)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+n(this.blur?this.blur/2:0,s)+'"></feGaussianBlur>\n\t<feOffset dx="'+n(i.x,s)+'" dy="'+n(i.y,s)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+a.toRgb()+'" flood-opacity="'+a.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var e={},n=t.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(t){this[t]!==n[t]&&(e[t]=this[t])}),this),e}}),t.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(t),function(){"use strict";if(j.StaticCanvas)j.warn("fabric.StaticCanvas is already defined.");else{var e=j.util.object.extend,t=j.util.getElementOffset,n=j.util.removeFromArray,r=j.util.toFixed,o=j.util.transformPoint,s=j.util.invertTransform,i=j.util.getNodeCanvas,a=j.util.createCanvasElement,l=new Error("Could not initialize `canvas` element");j.StaticCanvas=j.util.createClass(j.CommonMethods,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:j.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(e,t){var n=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(e),this._initOptions(t),this.interactive||this._initRetinaScaling(),t.overlayImage&&this.setOverlayImage(t.overlayImage,n),t.backgroundImage&&this.setBackgroundImage(t.backgroundImage,n),t.backgroundColor&&this.setBackgroundColor(t.backgroundColor,n),t.overlayColor&&this.setOverlayColor(t.overlayColor,n),this.calcOffset()},_isRetinaScaling:function(){return j.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,j.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var e=j.devicePixelRatio;this.__initRetinaScaling(e,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(e,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(e,t,n){t.setAttribute("width",this.width*e),t.setAttribute("height",this.height*e),n.scale(e,e)},calcOffset:function(){return this._offset=t(this.lowerCanvasEl),this},setOverlayImage:function(e,t,n){return this.__setBgOverlayImage("overlayImage",e,t,n)},setBackgroundImage:function(e,t,n){return this.__setBgOverlayImage("backgroundImage",e,t,n)},setOverlayColor:function(e,t){return this.__setBgOverlayColor("overlayColor",e,t)},setBackgroundColor:function(e,t){return this.__setBgOverlayColor("backgroundColor",e,t)},__setBgOverlayImage:function(e,t,n,r){return"string"==typeof t?j.util.loadImage(t,(function(t,o){if(t){var s=new j.Image(t,r);this[e]=s,s.canvas=this}n&&n(t,o)}),this,r&&r.crossOrigin):(r&&t.setOptions(r),this[e]=t,t&&(t.canvas=this),n&&n(t,!1)),this},__setBgOverlayColor:function(e,t,n){return this[e]=t,this._initGradient(t,e),this._initPattern(t,e,n),this},_createCanvasElement:function(){var e=a();if(!e)throw l;if(e.style||(e.style={}),void 0===e.getContext)throw l;return e},_initOptions:function(e){var t=this.lowerCanvasEl;this._setOptions(e),this.width=this.width||parseInt(t.width,10)||0,this.height=this.height||parseInt(t.height,10)||0,this.lowerCanvasEl.style&&(t.width=this.width,t.height=this.height,t.style.width=this.width+"px",t.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(e){e&&e.getContext?this.lowerCanvasEl=e:this.lowerCanvasEl=j.util.getById(e)||this._createCanvasElement(),j.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(e,t){return this.setDimensions({width:e},t)},setHeight:function(e,t){return this.setDimensions({height:e},t)},setDimensions:function(e,t){var n;for(var r in t=t||{},e)n=e[r],t.cssOnly||(this._setBackstoreDimension(r,e[r]),n+="px",this.hasLostContext=!0),t.backstoreOnly||this._setCssDimension(r,n);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),t.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(e,t){return this.lowerCanvasEl[e]=t,this.upperCanvasEl&&(this.upperCanvasEl[e]=t),this.cacheCanvasEl&&(this.cacheCanvasEl[e]=t),this[e]=t,this},_setCssDimension:function(e,t){return this.lowerCanvasEl.style[e]=t,this.upperCanvasEl&&(this.upperCanvasEl.style[e]=t),this.wrapperEl&&(this.wrapperEl.style[e]=t),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(e){var t,n,r,o=this._activeObject,s=this.backgroundImage,i=this.overlayImage;for(this.viewportTransform=e,n=0,r=this._objects.length;n<r;n++)(t=this._objects[n]).group||t.setCoords(!0);return o&&o.setCoords(),s&&s.setCoords(!0),i&&i.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(e,t){var n=e,r=this.viewportTransform.slice(0);e=o(e,s(this.viewportTransform)),r[0]=t,r[3]=t;var i=o(e,r);return r[4]+=n.x-i.x,r[5]+=n.y-i.y,this.setViewportTransform(r)},setZoom:function(e){return this.zoomToPoint(new j.Point(0,0),e),this},absolutePan:function(e){var t=this.viewportTransform.slice(0);return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)},relativePan:function(e){return this.absolutePan(new j.Point(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(e){this.stateful&&e.setupState(),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added")},_onObjectRemoved:function(e){this.fire("object:removed",{target:e}),e.fire("removed"),delete e.canvas},clearContext:function(e){return e.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var e=this.contextContainer;return this.renderCanvas(e,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=j.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var e={},t=this.width,n=this.height,r=s(this.viewportTransform);return e.tl=o({x:0,y:0},r),e.br=o({x:t,y:n},r),e.tr=new j.Point(e.br.x,e.tl.y),e.bl=new j.Point(e.tl.x,e.br.y),this.vptCoords=e,e},cancelRequestedRender:function(){this.isRendering&&(j.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(e,t){var n=this.viewportTransform,r=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(e),j.util.setImageSmoothing(e,this.imageSmoothingEnabled),this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,t),e.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),r&&(r.canvas=this,r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e)),this._renderOverlay(e),this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),this.fire("after:render",{ctx:e})},drawClipPathOnCanvas:function(e){var t=this.viewportTransform,n=this.clipPath;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e.globalCompositeOperation="destination-in",n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},_renderObjects:function(e,t){var n,r;for(n=0,r=t.length;n<r;++n)t[n]&&t[n].render(e)},_renderBackgroundOrOverlay:function(e,t){var n=this[t+"Color"],r=this[t+"Image"],o=this.viewportTransform,s=this[t+"Vpt"];if(n||r){if(n){e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=n.toLive?n.toLive(e,this):n,s&&e.transform(o[0],o[1],o[2],o[3],o[4],o[5]),e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);var i=n.gradientTransform||n.patternTransform;i&&e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),e.fill(),e.restore()}r&&(e.save(),s&&e.transform(o[0],o[1],o[2],o[3],o[4],o[5]),r.render(e),e.restore())}},_renderBackground:function(e){this._renderBackgroundOrOverlay(e,"background")},_renderOverlay:function(e){this._renderBackgroundOrOverlay(e,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new j.Point(this.width/2,this.height/2)},centerObjectH:function(e){return this._centerObject(e,new j.Point(this.getCenterPoint().x,e.getCenterPoint().y))},centerObjectV:function(e){return this._centerObject(e,new j.Point(e.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(e){var t=this.getCenterPoint();return this._centerObject(e,t)},viewportCenterObject:function(e){var t=this.getVpCenter();return this._centerObject(e,t)},viewportCenterObjectH:function(e){var t=this.getVpCenter();return this._centerObject(e,new j.Point(t.x,e.getCenterPoint().y)),this},viewportCenterObjectV:function(e){var t=this.getVpCenter();return this._centerObject(e,new j.Point(e.getCenterPoint().x,t.y))},getVpCenter:function(){var e=this.getCenterPoint(),t=s(this.viewportTransform);return o(e,t)},_centerObject:function(e,t){return e.setPositionByOrigin(t,"center","center"),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(e){return this.toDatalessObject(e)},toObject:function(e){return this._toObjectMethod("toObject",e)},toDatalessObject:function(e){return this._toObjectMethod("toDatalessObject",e)},_toObjectMethod:function(t,n){var r=this.clipPath,o={version:j.version,objects:this._toObjects(t,n)};return r&&!r.excludeFromExport&&(o.clipPath=this._toObject(this.clipPath,t,n)),e(o,this.__serializeBgOverlay(t,n)),j.util.populateWithProperties(this,o,n),o},_toObjects:function(e,t){return this._objects.filter((function(e){return!e.excludeFromExport})).map((function(n){return this._toObject(n,e,t)}),this)},_toObject:function(e,t,n){var r;this.includeDefaultValues||(r=e.includeDefaultValues,e.includeDefaultValues=!1);var o=e[t](n);return this.includeDefaultValues||(e.includeDefaultValues=r),o},__serializeBgOverlay:function(e,t){var n={},r=this.backgroundImage,o=this.overlayImage,s=this.backgroundColor,i=this.overlayColor;return s&&s.toObject?s.excludeFromExport||(n.background=s.toObject(t)):s&&(n.background=s),i&&i.toObject?i.excludeFromExport||(n.overlay=i.toObject(t)):i&&(n.overlay=i),r&&!r.excludeFromExport&&(n.backgroundImage=this._toObject(r,e,t)),o&&!o.excludeFromExport&&(n.overlayImage=this._toObject(o,e,t)),n},svgViewportTransformation:!0,toSVG:function(e,t){e||(e={}),e.reviver=t;var n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",t),this._setSVGObjects(n,t),this.clipPath&&n.push("</g>\n"),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",t),n.push("</svg>"),n.join("")},_setSVGPreamble:function(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(e,t){var n,o=t.width||this.width,s=t.height||this.height,i='viewBox="0 0 '+this.width+" "+this.height+'" ',a=j.Object.NUM_FRACTION_DIGITS;t.viewBox?i='viewBox="'+t.viewBox.x+" "+t.viewBox.y+" "+t.viewBox.width+" "+t.viewBox.height+'" ':this.svgViewportTransformation&&(n=this.viewportTransform,i='viewBox="'+r(-n[4]/n[0],a)+" "+r(-n[5]/n[3],a)+" "+r(this.width/n[0],a)+" "+r(this.height/n[3],a)+'" '),e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',o,'" ','height="',s,'" ',i,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",j.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),"</defs>\n")},createSVGClipPathMarkup:function(e){var t=this.clipPath;return t?(t.clipPathId="CLIPPATH_"+j.Object.__uid++,'<clipPath id="'+t.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(e.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var e=this;return["background","overlay"].map((function(t){var n=e[t+"Color"];if(n&&n.toLive){var r=e[t+"Vpt"],o=e.viewportTransform,s={width:e.width/(r?o[0]:1),height:e.height/(r?o[3]:1)};return n.toSVG(s,{additionalTransform:r?j.util.matrixToSVG(o):""})}})).join("")},createSVGFontFacesMarkup:function(){var e,t,n,r,o,s,i,a,l="",c={},u=j.fontPaths,h=[];for(this._objects.forEach((function e(t){h.push(t),t._objects&&t._objects.forEach(e)})),i=0,a=h.length;i<a;i++)if(t=(e=h[i]).fontFamily,-1!==e.type.indexOf("text")&&!c[t]&&u[t]&&(c[t]=!0,e.styles))for(o in n=e.styles)for(s in r=n[o])!c[t=r[s].fontFamily]&&u[t]&&(c[t]=!0);for(var d in c)l+=["\t\t@font-face {\n","\t\t\tfont-family: '",d,"';\n","\t\t\tsrc: url('",u[d],"');\n","\t\t}\n"].join("");return l&&(l=['\t<style type="text/css">',"<![CDATA[\n",l,"]]>","</style>\n"].join("")),l},_setSVGObjects:function(e,t){var n,r,o,s=this._objects;for(r=0,o=s.length;r<o;r++)(n=s[r]).excludeFromExport||this._setSVGObject(e,n,t)},_setSVGObject:function(e,t,n){e.push(t.toSVG(n))},_setSVGBgOverlayImage:function(e,t,n){this[t]&&!this[t].excludeFromExport&&this[t].toSVG&&e.push(this[t].toSVG(n))},_setSVGBgOverlayColor:function(e,t){var n=this[t+"Color"],r=this.viewportTransform,o=this.width,s=this.height;if(n)if(n.toLive){var i=n.repeat,a=j.util.invertTransform(r),l=this[t+"Vpt"]?j.util.matrixToSVG(a):"";e.push('<rect transform="'+l+" translate(",o/2,",",s/2,')"',' x="',n.offsetX-o/2,'" y="',n.offsetY-s/2,'" ','width="',"repeat-y"===i||"no-repeat"===i?n.source.width:o,'" height="',"repeat-x"===i||"no-repeat"===i?n.source.height:s,'" fill="url(#SVGID_'+n.id+')"',"></rect>\n")}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',"></rect>\n")},sendToBack:function(e){if(!e)return this;var t,r,o,s=this._activeObject;if(e===s&&"activeSelection"===e.type)for(t=(o=s._objects).length;t--;)r=o[t],n(this._objects,r),this._objects.unshift(r);else n(this._objects,e),this._objects.unshift(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(e){if(!e)return this;var t,r,o,s=this._activeObject;if(e===s&&"activeSelection"===e.type)for(o=s._objects,t=0;t<o.length;t++)r=o[t],n(this._objects,r),this._objects.push(r);else n(this._objects,e),this._objects.push(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(e,t){if(!e)return this;var r,o,s,i,a,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(a=l._objects,r=0;r<a.length;r++)o=a[r],(s=this._objects.indexOf(o))>0+c&&(i=s-1,n(this._objects,o),this._objects.splice(i,0,o)),c++;else 0!==(s=this._objects.indexOf(e))&&(i=this._findNewLowerIndex(e,s,t),n(this._objects,e),this._objects.splice(i,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(e,t,n){var r,o;if(n)for(r=t,o=t-1;o>=0;--o){if(e.intersectsWithObject(this._objects[o])||e.isContainedWithinObject(this._objects[o])||this._objects[o].isContainedWithinObject(e)){r=o;break}}else r=t-1;return r},bringForward:function(e,t){if(!e)return this;var r,o,s,i,a,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(r=(a=l._objects).length;r--;)o=a[r],(s=this._objects.indexOf(o))<this._objects.length-1-c&&(i=s+1,n(this._objects,o),this._objects.splice(i,0,o)),c++;else(s=this._objects.indexOf(e))!==this._objects.length-1&&(i=this._findNewUpperIndex(e,s,t),n(this._objects,e),this._objects.splice(i,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(e,t,n){var r,o,s;if(n)for(r=t,o=t+1,s=this._objects.length;o<s;++o){if(e.intersectsWithObject(this._objects[o])||e.isContainedWithinObject(this._objects[o])||this._objects[o].isContainedWithinObject(e)){r=o;break}}else r=t+1;return r},moveTo:function(e,t){return n(this._objects,e),this._objects.splice(t,0,e),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(j.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(e){e.dispose&&e.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),j.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),j.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),e(j.StaticCanvas.prototype,j.Observable),e(j.StaticCanvas.prototype,j.Collection),e(j.StaticCanvas.prototype,j.DataURLExporter),e(j.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(e){var t=a();if(!t||!t.getContext)return null;var n=t.getContext("2d");return n&&"setLineDash"===e?void 0!==n.setLineDash:null}}),j.StaticCanvas.prototype.toJSON=j.StaticCanvas.prototype.toObject,j.isLikelyNode&&(j.StaticCanvas.prototype.createPNGStream=function(){var e=i(this.lowerCanvasEl);return e&&e.createPNGStream()},j.StaticCanvas.prototype.createJPEGStream=function(e){var t=i(this.lowerCanvasEl);return t&&t.createJPEGStream(e)})}}(),j.BaseBrush=j.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(e){e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,e.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(e){var t=this.canvas.viewportTransform;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5])},_setShadow:function(){if(this.shadow){var e=this.canvas,t=this.shadow,n=e.contextTop,r=e.getZoom();e&&e._isRetinaScaling()&&(r*=j.devicePixelRatio),n.shadowColor=t.color,n.shadowBlur=t.blur*r,n.shadowOffsetX=t.offsetX*r,n.shadowOffsetY=t.offsetY*r}},needsFullRender:function(){return new j.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0},_isOutSideCanvas:function(e){return e.x<0||e.x>this.canvas.getWidth()||e.y<0||e.y>this.canvas.getHeight()}}),j.PencilBrush=j.util.createClass(j.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(e){this.canvas=e,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(e,t,n){var r=t.midPointFrom(n);return e.quadraticCurveTo(t.x,t.y,r.x,r.y),r},onMouseDown:function(e,t){this.canvas._isMainEvent(t.e)&&(this.drawStraightLine=t.e[this.straightLineKey],this._prepareForDrawing(e),this._captureDrawingPath(e),this._render())},onMouseMove:function(e,t){if(this.canvas._isMainEvent(t.e)&&(this.drawStraightLine=t.e[this.straightLineKey],(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(e))&&this._captureDrawingPath(e)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var n=this._points,r=n.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(o,n[r-2],n[r-1],!0),o.stroke(),o.restore()}},onMouseUp:function(e){return!this.canvas._isMainEvent(e.e)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(e){var t=new j.Point(e.x,e.y);this._reset(),this._addPoint(t),this.canvas.contextTop.moveTo(t.x,t.y)},_addPoint:function(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1])||(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(e),0))},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(e){var t=new j.Point(e.x,e.y);return this._addPoint(t)},_render:function(e){var t,n,r=this._points[0],o=this._points[1];if(e=e||this.canvas.contextTop,this._saveAndTransform(e),e.beginPath(),2===this._points.length&&r.x===o.x&&r.y===o.y){var s=this.width/1e3;r=new j.Point(r.x,r.y),o=new j.Point(o.x,o.y),r.x-=s,o.x+=s}for(e.moveTo(r.x,r.y),t=1,n=this._points.length;t<n;t++)this._drawSegment(e,r,o),r=this._points[t],o=this._points[t+1];e.lineTo(r.x,r.y),e.stroke(),e.restore()},convertPointsToSVGPath:function(e){var t=this.width/1e3;return j.util.getSmoothPathFromPoints(e,t)},_isEmptySVGPath:function(e){return"M 0 0 Q 0 0 0 0 L 0 0"===j.util.joinPath(e)},createPath:function(e){var t=new j.Path(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,t.shadow=new j.Shadow(this.shadow)),t},decimatePoints:function(e,t){if(e.length<=2)return e;var n,r=this.canvas.getZoom(),o=Math.pow(t/r,2),s=e.length-1,i=e[0],a=[i];for(n=1;n<s-1;n++)Math.pow(i.x-e[n].x,2)+Math.pow(i.y-e[n].y,2)>=o&&(i=e[n],a.push(i));return a.push(e[s]),a},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var e=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(e))this.canvas.requestRenderAll();else{var t=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:t}),this.canvas.add(t),this.canvas.requestRenderAll(),t.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:t})}}}),j.CircleBrush=j.util.createClass(j.BaseBrush,{width:10,initialize:function(e){this.canvas=e,this.points=[]},drawDot:function(e){var t=this.addPoint(e),n=this.canvas.contextTop;this._saveAndTransform(n),this.dot(n,t),n.restore()},dot:function(e,t){e.fillStyle=t.fill,e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),e.closePath(),e.fill()},onMouseDown:function(e){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(e)},_render:function(){var e,t,n=this.canvas.contextTop,r=this.points;for(this._saveAndTransform(n),e=0,t=r.length;e<t;e++)this.dot(n,r[e]);n.restore()},onMouseMove:function(e){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(e)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(e),this._render()):this.drawDot(e))},onMouseUp:function(){var e,t,n=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var r=[];for(e=0,t=this.points.length;e<t;e++){var o=this.points[e],s=new j.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&(s.shadow=new j.Shadow(this.shadow)),r.push(s)}var i=new j.Group(r);i.canvas=this.canvas,this.canvas.fire("before:path:created",{path:i}),this.canvas.add(i),this.canvas.fire("path:created",{path:i}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=n,this.canvas.requestRenderAll()},addPoint:function(e){var t=new j.Point(e.x,e.y),n=j.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,r=new j.Color(this.color).setAlpha(j.util.getRandomInt(0,100)/100).toRgba();return t.radius=n,t.fill=r,this.points.push(t),t}}),j.SprayBrush=j.util.createClass(j.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(e){this.canvas=e,this.sprayChunks=[]},onMouseDown:function(e){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(e),this.render(this.sprayChunkPoints)},onMouseMove:function(e){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(e)||(this.addSprayChunk(e),this.render(this.sprayChunkPoints))},onMouseUp:function(){var e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var t=[],n=0,r=this.sprayChunks.length;n<r;n++)for(var o=this.sprayChunks[n],s=0,i=o.length;s<i;s++){var a=new j.Rect({width:o[s].width,height:o[s].width,left:o[s].x+1,top:o[s].y+1,originX:"center",originY:"center",fill:this.color});t.push(a)}this.optimizeOverlapping&&(t=this._getOptimizedRects(t));var l=new j.Group(t);this.shadow&&l.set("shadow",new j.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:l}),this.canvas.add(l),this.canvas.fire("path:created",{path:l}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=e,this.canvas.requestRenderAll()},_getOptimizedRects:function(e){var t,n,r,o={};for(n=0,r=e.length;n<r;n++)o[t=e[n].left+""+e[n].top]||(o[t]=e[n]);var s=[];for(t in o)s.push(o[t]);return s},render:function(e){var t,n,r=this.canvas.contextTop;for(r.fillStyle=this.color,this._saveAndTransform(r),t=0,n=e.length;t<n;t++){var o=e[t];void 0!==o.opacity&&(r.globalAlpha=o.opacity),r.fillRect(o.x,o.y,o.width,o.width)}r.restore()},_render:function(){var e,t,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),e=0,t=this.sprayChunks.length;e<t;e++)this.render(this.sprayChunks[e]);n.restore()},addSprayChunk:function(e){this.sprayChunkPoints=[];var t,n,r,o,s=this.width/2;for(o=0;o<this.density;o++){t=j.util.getRandomInt(e.x-s,e.x+s),n=j.util.getRandomInt(e.y-s,e.y+s),r=this.dotWidthVariance?j.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var i=new j.Point(t,n);i.width=r,this.randomOpacity&&(i.opacity=j.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(i)}this.sprayChunks.push(this.sprayChunkPoints)}}),j.PatternBrush=j.util.createClass(j.PencilBrush,{getPatternSrc:function(){var e=j.util.createCanvasElement(),t=e.getContext("2d");return e.width=e.height=25,t.fillStyle=this.color,t.beginPath(),t.arc(10,10,10,0,2*Math.PI,!1),t.closePath(),t.fill(),e},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(e){return e.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(e){this.callSuper("_setBrushStyles",e),e.strokeStyle=this.getPattern(e)},createPath:function(e){var t=this.callSuper("createPath",e),n=t._getLeftTopCoords().scalarAdd(t.strokeWidth/2);return t.stroke=new j.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-n.x,offsetY:-n.y}),t}}),function(){var e=j.util.getPointer,t=j.util.degreesToRadians,n=j.util.isTouchEvent;for(var r in j.Canvas=j.util.createClass(j.StaticCanvas,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=j.PencilBrush&&new j.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var e,t,n,r=this.getActiveObjects();if(r.length>0&&!this.preserveObjectStacking){t=[],n=[];for(var o=0,s=this._objects.length;o<s;o++)e=this._objects[o],-1===r.indexOf(e)?t.push(e):n.push(e);r.length>1&&(this._activeObject._objects=n),t.push.apply(t,n)}else t=this._objects;return t},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var e=this.contextContainer;return this.renderCanvas(e,this._chooseObjectsToRender()),this},renderTopLayer:function(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()},renderTop:function(){var e=this.contextTop;return this.clearContext(e),this.renderTopLayer(e),this.fire("after:render"),this},_normalizePointer:function(e,t){var n=e.calcTransformMatrix(),r=j.util.invertTransform(n),o=this.restorePointerVpt(t);return j.util.transformPoint(o,r)},isTargetTransparent:function(e,t,n){if(e.shouldCache()&&e._cacheCanvas&&e!==this._activeObject){var r=this._normalizePointer(e,{x:t,y:n}),o=Math.max(e.cacheTranslationX+r.x*e.zoomX,0),s=Math.max(e.cacheTranslationY+r.y*e.zoomY,0);return j.util.isTransparent(e._cacheContext,Math.round(o),Math.round(s),this.targetFindTolerance)}var i=this.contextCache,a=e.selectionBackgroundColor,l=this.viewportTransform;return e.selectionBackgroundColor="",this.clearContext(i),i.save(),i.transform(l[0],l[1],l[2],l[3],l[4],l[5]),e.render(i),i.restore(),e.selectionBackgroundColor=a,j.util.isTransparent(i,t,n,this.targetFindTolerance)},_isSelectionKeyPressed:function(e){return Array.isArray(this.selectionKey)?!!this.selectionKey.find((function(t){return!0===e[t]})):e[this.selectionKey]},_shouldClearSelection:function(e,t){var n=this.getActiveObjects(),r=this._activeObject;return!t||t&&r&&n.length>1&&-1===n.indexOf(t)&&r!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&r&&r!==t},_shouldCenterTransform:function(e,t,n){var r;if(e)return"scale"===t||"scaleX"===t||"scaleY"===t||"resizing"===t?r=this.centeredScaling||e.centeredScaling:"rotate"===t&&(r=this.centeredRotation||e.centeredRotation),r?!n:n},_getOriginFromCorner:function(e,t){var n={x:e.originX,y:e.originY};return"ml"===t||"tl"===t||"bl"===t?n.x="right":"mr"!==t&&"tr"!==t&&"br"!==t||(n.x="left"),"tl"===t||"mt"===t||"tr"===t?n.y="bottom":"bl"!==t&&"mb"!==t&&"br"!==t||(n.y="top"),n},_getActionFromCorner:function(e,t,n,r){if(!t||!e)return"drag";var o=r.controls[t];return o.getActionName(n,o,r)},_setupCurrentTransform:function(e,n,r){if(n){var o=this.getPointer(e),s=n.__corner,i=n.controls[s],a=r&&s?i.getActionHandler(e,n,i):j.controlsUtils.dragHandler,l=this._getActionFromCorner(r,s,e,n),c=this._getOriginFromCorner(n,s),u=e[this.centeredKey],h={target:n,action:l,actionHandler:a,corner:s,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:o.x-n.left,offsetY:o.y-n.top,originX:c.x,originY:c.y,ex:o.x,ey:o.y,lastX:o.x,lastY:o.y,theta:t(n.angle),width:n.width*n.scaleX,shiftKey:e.shiftKey,altKey:u,original:j.util.saveObjectTransform(n)};this._shouldCenterTransform(n,l,u)&&(h.originX="center",h.originY="center"),h.original.originX=c.x,h.original.originY=c.y,this._currentTransform=h,this._beforeTransform(e)}},setCursor:function(e){this.upperCanvasEl.style.cursor=e},_drawSelection:function(e){var t=this._groupSelector,n=new j.Point(t.ex,t.ey),r=j.util.transformPoint(n,this.viewportTransform),o=new j.Point(t.ex+t.left,t.ey+t.top),s=j.util.transformPoint(o,this.viewportTransform),i=Math.min(r.x,s.x),a=Math.min(r.y,s.y),l=Math.max(r.x,s.x),c=Math.max(r.y,s.y),u=this.selectionLineWidth/2;this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(i,a,l-i,c-a)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,i+=u,a+=u,l-=u,c-=u,j.Object.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(i,a,l-i,c-a))},findTarget:function(e,t){if(!this.skipTargetFind){var r,o,s=this.getPointer(e,!0),i=this._activeObject,a=this.getActiveObjects(),l=n(e),c=a.length>1&&!t||1===a.length;if(this.targets=[],c&&i._findTargetCorner(s,l))return i;if(a.length>1&&!t&&i===this._searchPossibleTargets([i],s))return i;if(1===a.length&&i===this._searchPossibleTargets([i],s)){if(!this.preserveObjectStacking)return i;r=i,o=this.targets,this.targets=[]}var u=this._searchPossibleTargets(this._objects,s);return e[this.altSelectionKey]&&u&&r&&u!==r&&(u=r,this.targets=o),u}},_checkTarget:function(e,t,n){if(t&&t.visible&&t.evented&&t.containsPoint(e)){if(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing)return!0;if(!this.isTargetTransparent(t,n.x,n.y))return!0}},_searchPossibleTargets:function(e,t){for(var n,r,o=e.length;o--;){var s=e[o],i=s.group?this._normalizePointer(s.group,t):t;if(this._checkTarget(i,s,t)){(n=e[o]).subTargetCheck&&n instanceof j.Group&&(r=this._searchPossibleTargets(n._objects,t))&&this.targets.push(r);break}}return n},restorePointerVpt:function(e){return j.util.transformPoint(e,j.util.invertTransform(this.viewportTransform))},getPointer:function(t,n){if(this._absolutePointer&&!n)return this._absolutePointer;if(this._pointer&&n)return this._pointer;var r,o=e(t),s=this.upperCanvasEl,i=s.getBoundingClientRect(),a=i.width||0,l=i.height||0;a&&l||("top"in i&&"bottom"in i&&(l=Math.abs(i.top-i.bottom)),"right"in i&&"left"in i&&(a=Math.abs(i.right-i.left))),this.calcOffset(),o.x=o.x-this._offset.left,o.y=o.y-this._offset.top,n||(o=this.restorePointerVpt(o));var c=this.getRetinaScaling();return 1!==c&&(o.x/=c,o.y/=c),r=0===a||0===l?{width:1,height:1}:{width:s.width/a,height:s.height/l},{x:o.x*r.width,y:o.y*r.height}},_createUpperCanvas:function(){var e=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),t=this.lowerCanvasEl,n=this.upperCanvasEl;n?n.className="":(n=this._createCanvasElement(),this.upperCanvasEl=n),j.util.addClass(n,"upper-canvas "+e),this.wrapperEl.appendChild(n),this._copyCanvasStyle(t,n),this._applyCanvasStyle(n),this.contextTop=n.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=j.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),j.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),j.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(e){var t=this.width||e.width,n=this.height||e.height;j.util.setStyle(e,{position:"absolute",width:t+"px",height:n+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),e.width=t,e.height=n,j.util.makeElementUnselectable(e)},_copyCanvasStyle:function(e,t){t.style.cssText=e.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var e=this._activeObject;return e?"activeSelection"===e.type&&e._objects?e._objects.slice(0):[e]:[]},_onObjectRemoved:function(e){e===this._activeObject&&(this.fire("before:selection:cleared",{target:e}),this._discardActiveObject(),this.fire("selection:cleared",{target:e}),e.fire("deselected")),e===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",e)},_fireSelectionEvents:function(e,t){var n=!1,r=this.getActiveObjects(),o=[],s=[];e.forEach((function(e){-1===r.indexOf(e)&&(n=!0,e.fire("deselected",{e:t,target:e}),s.push(e))})),r.forEach((function(r){-1===e.indexOf(r)&&(n=!0,r.fire("selected",{e:t,target:r}),o.push(r))})),e.length>0&&r.length>0?n&&this.fire("selection:updated",{e:t,selected:o,deselected:s}):r.length>0?this.fire("selection:created",{e:t,selected:o}):e.length>0&&this.fire("selection:cleared",{e:t,deselected:s})},setActiveObject:function(e,t){var n=this.getActiveObjects();return this._setActiveObject(e,t),this._fireSelectionEvents(n,t),this},_setActiveObject:function(e,t){return this._activeObject!==e&&(!!this._discardActiveObject(t,e)&&(!e.onSelect({e:t})&&(this._activeObject=e,!0)))},_discardActiveObject:function(e,t){var n=this._activeObject;if(n){if(n.onDeselect({e:e,object:t}))return!1;this._activeObject=null}return!0},discardActiveObject:function(e){var t=this.getActiveObjects(),n=this.getActiveObject();return t.length&&this.fire("before:selection:cleared",{target:n,e:e}),this._discardActiveObject(e),this._fireSelectionEvents(t,e),this},dispose:function(){var e=this.wrapperEl;return this.removeListeners(),e.removeChild(this.upperCanvasEl),e.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(e){j.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this)),e.parentNode&&e.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,j.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(e){var t=this._activeObject;t&&t._renderControls(e)},_toObject:function(e,t,n){var r=this._realizeGroupTransformOnObject(e),o=this.callSuper("_toObject",e,t,n);return this._unwindGroupTransformOnObject(e,r),o},_realizeGroupTransformOnObject:function(e){if(e.group&&"activeSelection"===e.group.type&&this._activeObject===e.group){var t={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach((function(n){t[n]=e[n]})),j.util.addTransformToObject(e,this._activeObject.calcOwnMatrix()),t}return null},_unwindGroupTransformOnObject:function(e,t){t&&e.set(t)},_setSVGObject:function(e,t,n){var r=this._realizeGroupTransformOnObject(t);this.callSuper("_setSVGObject",e,t,n),this._unwindGroupTransformOnObject(t,r)},setViewportTransform:function(e){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),j.StaticCanvas.prototype.setViewportTransform.call(this,e)}}),j.StaticCanvas)"prototype"!==r&&(j.Canvas[r]=j.StaticCanvas[r])}(),function(){var e=j.util.addListener,t=j.util.removeListener,n={passive:!1};function r(e,t){return e.button&&e.button===t-1}j.util.object.extend(j.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(e,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(e,t){var r=this.upperCanvasEl,o=this._getEventPrefix();e(j.window,"resize",this._onResize),e(r,o+"down",this._onMouseDown),e(r,o+"move",this._onMouseMove,n),e(r,o+"out",this._onMouseOut),e(r,o+"enter",this._onMouseEnter),e(r,"wheel",this._onMouseWheel),e(r,"contextmenu",this._onContextMenu),e(r,"dblclick",this._onDoubleClick),e(r,"dragover",this._onDragOver),e(r,"dragenter",this._onDragEnter),e(r,"dragleave",this._onDragLeave),e(r,"drop",this._onDrop),this.enablePointerEvents||e(r,"touchstart",this._onTouchStart,n),"undefined"!=typeof eventjs&&t in eventjs&&(eventjs[t](r,"gesture",this._onGesture),eventjs[t](r,"drag",this._onDrag),eventjs[t](r,"orientation",this._onOrientationChange),eventjs[t](r,"shake",this._onShake),eventjs[t](r,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(t,"remove");var e=this._getEventPrefix();t(j.document,e+"up",this._onMouseUp),t(j.document,"touchend",this._onTouchEnd,n),t(j.document,e+"move",this._onMouseMove,n),t(j.document,"touchmove",this._onMouseMove,n)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(e,t){this.__onTransformGesture&&this.__onTransformGesture(e,t)},_onDrag:function(e,t){this.__onDrag&&this.__onDrag(e,t)},_onMouseWheel:function(e){this.__onMouseWheel(e)},_onMouseOut:function(e){var t=this._hoveredTarget;this.fire("mouse:out",{target:t,e:e}),this._hoveredTarget=null,t&&t.fire("mouseout",{e:e});var n=this;this._hoveredTargets.forEach((function(r){n.fire("mouse:out",{target:t,e:e}),r&&t.fire("mouseout",{e:e})})),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach((function(e){e.isEditing&&e.hiddenTextarea.focus()}))},_onMouseEnter:function(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",{target:null,e:e}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(e,t){this.__onOrientationChange&&this.__onOrientationChange(e,t)},_onShake:function(e,t){this.__onShake&&this.__onShake(e,t)},_onLongPress:function(e,t){this.__onLongPress&&this.__onLongPress(e,t)},_onDragOver:function(e){e.preventDefault();var t=this._simpleEventHandler("dragover",e);this._fireEnterLeaveEvents(t,e)},_onDrop:function(e){return this._simpleEventHandler("drop:before",e),this._simpleEventHandler("drop",e)},_onContextMenu:function(e){return this.stopContextMenu&&(e.stopPropagation(),e.preventDefault()),!1},_onDoubleClick:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"dblclick"),this._resetTransformEventData(e)},getPointerId:function(e){var t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1},_isMainEvent:function(e){return!0===e.isPrimary||!1!==e.isPrimary&&("touchend"===e.type&&0===e.touches.length||(!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId))},_onTouchStart:function(r){r.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(r)),this.__onMouseDown(r),this._resetTransformEventData();var o=this.upperCanvasEl,s=this._getEventPrefix();e(j.document,"touchend",this._onTouchEnd,n),e(j.document,"touchmove",this._onMouseMove,n),t(o,s+"down",this._onMouseDown)},_onMouseDown:function(r){this.__onMouseDown(r),this._resetTransformEventData();var o=this.upperCanvasEl,s=this._getEventPrefix();t(o,s+"move",this._onMouseMove,n),e(j.document,s+"up",this._onMouseUp),e(j.document,s+"move",this._onMouseMove,n)},_onTouchEnd:function(r){if(!(r.touches.length>0)){this.__onMouseUp(r),this._resetTransformEventData(),this.mainTouchId=null;var o=this._getEventPrefix();t(j.document,"touchend",this._onTouchEnd,n),t(j.document,"touchmove",this._onMouseMove,n);var s=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){e(s.upperCanvasEl,o+"down",s._onMouseDown),s._willAddMouseDown=0}),400)}},_onMouseUp:function(r){this.__onMouseUp(r),this._resetTransformEventData();var o=this.upperCanvasEl,s=this._getEventPrefix();this._isMainEvent(r)&&(t(j.document,s+"up",this._onMouseUp),t(j.document,s+"move",this._onMouseMove,n),e(o,s+"move",this._onMouseMove,n))},_onMouseMove:function(e){!this.allowTouchScrolling&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)},_onResize:function(){this.calcOffset()},_shouldRender:function(e){var t=this._activeObject;return!!(!!t!=!!e||t&&e&&t!==e)||(t&&t.isEditing,!1)},__onMouseUp:function(e){var t,n=this._currentTransform,o=this._groupSelector,s=!1,i=!o||0===o.left&&0===o.top;if(this._cacheTransformEventData(e),t=this._target,this._handleEvent(e,"up:before"),r(e,3))this.fireRightClick&&this._handleEvent(e,"up",3,i);else{if(r(e,2))return this.fireMiddleClick&&this._handleEvent(e,"up",2,i),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(e);else if(this._isMainEvent(e)){if(n&&(this._finalizeCurrentTransform(e),s=n.actionPerformed),!i){var a=t===this._activeObject;this._maybeGroupObjects(e),s||(s=this._shouldRender(t)||!a&&t===this._activeObject)}var l,c;if(t){if(l=t._findTargetCorner(this.getPointer(e,!0),j.util.isTouchEvent(e)),t.selectable&&t!==this._activeObject&&"up"===t.activeOn)this.setActiveObject(t,e),s=!0;else{var u=t.controls[l],h=u&&u.getMouseUpHandler(e,t,u);h&&h(e,n,(c=this.getPointer(e)).x,c.y)}t.isMoving=!1}if(n&&(n.target!==t||n.corner!==l)){var d=n.target&&n.target.controls[n.corner],f=d&&d.getMouseUpHandler(e,t,u);c=c||this.getPointer(e),f&&f(e,n,c.x,c.y)}this._setCursorFromEvent(e,t),this._handleEvent(e,"up",1,i),this._groupSelector=null,this._currentTransform=null,t&&(t.__corner=0),s?this.requestRenderAll():i||this.renderTop()}}},_simpleEventHandler:function(e,t){var n=this.findTarget(t),r=this.targets,o={e:t,target:n,subTargets:r};if(this.fire(e,o),n&&n.fire(e,o),!r)return n;for(var s=0;s<r.length;s++)r[s].fire(e,o);return n},_handleEvent:function(e,t,n,r){var o=this._target,s=this.targets||[],i={e:e,target:o,subTargets:s,button:n||1,isClick:r||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===t&&(i.currentTarget=this.findTarget(e),i.currentSubTargets=this.targets),this.fire("mouse:"+t,i),o&&o.fire("mouse"+t,i);for(var a=0;a<s.length;a++)s[a].fire("mouse"+t,i)},_finalizeCurrentTransform:function(e){var t=this._currentTransform,n=t.target,r={e:e,target:n,transform:t,action:t.action};n._scaling&&(n._scaling=!1),n.setCoords(),(t.actionPerformed||this.stateful&&n.hasStateChanged())&&this._fire("modified",r)},_onMouseDownInDrawingMode:function(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(e).requestRenderAll();var t=this.getPointer(e);this.freeDrawingBrush.onMouseDown(t,{e:e,pointer:t}),this._handleEvent(e,"down")},_onMouseMoveInDrawingMode:function(e){if(this._isCurrentlyDrawing){var t=this.getPointer(e);this.freeDrawingBrush.onMouseMove(t,{e:e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")},_onMouseUpInDrawingMode:function(e){var t=this.getPointer(e);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:e,pointer:t}),this._handleEvent(e,"up")},__onMouseDown:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"down:before");var t=this._target;if(r(e,3))this.fireRightClick&&this._handleEvent(e,"down",3);else if(r(e,2))this.fireMiddleClick&&this._handleEvent(e,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(e);else if(this._isMainEvent(e)&&!this._currentTransform){var n=this._pointer;this._previousPointer=n;var o=this._shouldRender(t),s=this._shouldGroup(e,t);if(this._shouldClearSelection(e,t)?this.discardActiveObject(e):s&&(this._handleGrouping(e,t),t=this._activeObject),!this.selection||t&&(t.selectable||t.isEditing||t===this._activeObject)||(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),t){var i=t===this._activeObject;t.selectable&&"down"===t.activeOn&&this.setActiveObject(t,e);var a=t._findTargetCorner(this.getPointer(e,!0),j.util.isTouchEvent(e));if(t.__corner=a,t===this._activeObject&&(a||!s)){this._setupCurrentTransform(e,t,i);var l=t.controls[a],c=(n=this.getPointer(e),l&&l.getMouseDownHandler(e,t,l));c&&c(e,this._currentTransform,n.x,n.y)}}this._handleEvent(e,"down"),(o||s)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(e){this._resetTransformEventData(),this._pointer=this.getPointer(e,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)||null},_beforeTransform:function(e){var t=this._currentTransform;this.stateful&&t.target.saveState(),this.fire("before:transform",{e:e,transform:t})},__onMouseMove:function(e){var t,n;if(this._handleEvent(e,"move:before"),this._cacheTransformEventData(e),this.isDrawingMode)this._onMouseMoveInDrawingMode(e);else if(this._isMainEvent(e)){var r=this._groupSelector;r?(n=this._absolutePointer,r.left=n.x-r.ex,r.top=n.y-r.ey,this.renderTop()):this._currentTransform?this._transformObject(e):(t=this.findTarget(e)||null,this._setCursorFromEvent(e,t),this._fireOverOutEvents(t,e)),this._handleEvent(e,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(e,t){var n=this._hoveredTarget,r=this._hoveredTargets,o=this.targets,s=Math.max(r.length,o.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var i=0;i<s;i++)this.fireSyntheticInOutEvents(o[i],t,{oldTarget:r[i],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(e,t){var n=this._draggedoverTarget,r=this._hoveredTargets,o=this.targets,s=Math.max(r.length,o.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"dragleave",evtIn:"dragenter"});for(var i=0;i<s;i++)this.fireSyntheticInOutEvents(o[i],t,{oldTarget:r[i],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=e},fireSyntheticInOutEvents:function(e,t,n){var r,o,s,i=n.oldTarget,a=i!==e,l=n.canvasEvtIn,c=n.canvasEvtOut;a&&(r={e:t,target:e,previousTarget:i},o={e:t,target:i,nextTarget:e}),s=e&&a,i&&a&&(c&&this.fire(c,o),i.fire(n.evtOut,o)),s&&(l&&this.fire(l,r),e.fire(n.evtIn,r))},__onMouseWheel:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()},_transformObject:function(e){var t=this.getPointer(e),n=this._currentTransform;n.reset=!1,n.shiftKey=e.shiftKey,n.altKey=e[this.centeredKey],this._performTransformAction(e,n,t),n.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(e,t,n){var r=n.x,o=n.y,s=t.action,i=!1,a=t.actionHandler;a&&(i=a(e,t,r,o)),"drag"===s&&i&&(t.target.isMoving=!0,this.setCursor(t.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||i},_fire:j.controlsUtils.fireEvent,_setCursorFromEvent:function(e,t){if(!t)return this.setCursor(this.defaultCursor),!1;var n=t.hoverCursor||this.hoverCursor,r=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,o=(!r||!r.contains(t))&&t._findTargetCorner(this.getPointer(e,!0));o?this.setCursor(this.getCornerCursor(o,t,e)):(t.subTargetCheck&&this.targets.concat().reverse().map((function(e){n=e.hoverCursor||n})),this.setCursor(n))},getCornerCursor:function(e,t,n){var r=t.controls[e];return r.cursorStyleHandler(n,r,t)}})}(),h=Math.min,d=Math.max,j.util.object.extend(j.Canvas.prototype,{_shouldGroup:function(e,t){var n=this._activeObject;return n&&this._isSelectionKeyPressed(e)&&t&&t.selectable&&this.selection&&(n!==t||"activeSelection"===n.type)&&!t.onSelect({e:e})},_handleGrouping:function(e,t){var n=this._activeObject;n.__corner||(t!==n||(t=this.findTarget(e,!0))&&t.selectable)&&(n&&"activeSelection"===n.type?this._updateActiveSelection(t,e):this._createActiveSelection(t,e))},_updateActiveSelection:function(e,t){var n=this._activeObject,r=n._objects.slice(0);n.contains(e)?(n.removeWithUpdate(e),this._hoveredTarget=e,this._hoveredTargets=this.targets.concat(),1===n.size()&&this._setActiveObject(n.item(0),t)):(n.addWithUpdate(e),this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(r,t)},_createActiveSelection:function(e,t){var n=this.getActiveObjects(),r=this._createGroup(e);this._hoveredTarget=r,this._setActiveObject(r,t),this._fireSelectionEvents(n,t)},_createGroup:function(e){var t=this._objects,n=t.indexOf(this._activeObject)<t.indexOf(e)?[this._activeObject,e]:[e,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new j.ActiveSelection(n,{canvas:this})},_groupSelectedObjects:function(e){var t,n=this._collectObjects(e);1===n.length?this.setActiveObject(n[0],e):n.length>1&&(t=new j.ActiveSelection(n.reverse(),{canvas:this}),this.setActiveObject(t,e))},_collectObjects:function(e){for(var t,n=[],r=this._groupSelector.ex,o=this._groupSelector.ey,s=r+this._groupSelector.left,i=o+this._groupSelector.top,a=new j.Point(h(r,s),h(o,i)),l=new j.Point(d(r,s),d(o,i)),c=!this.selectionFullyContained,u=r===s&&o===i,f=this._objects.length;f--&&!((t=this._objects[f])&&t.selectable&&t.visible&&(c&&t.intersectsWithRect(a,l,!0)||t.isContainedWithinRect(a,l,!0)||c&&t.containsPoint(a,null,!0)||c&&t.containsPoint(l,null,!0))&&(n.push(t),u)););return n.length>1&&(n=n.filter((function(t){return!t.onSelect({e:e})}))),n},_maybeGroupObjects:function(e){this.selection&&this._groupSelector&&this._groupSelectedObjects(e),this.setCursor(this.defaultCursor),this._groupSelector=null}}),j.util.object.extend(j.StaticCanvas.prototype,{toDataURL:function(e){e||(e={});var t=e.format||"png",n=e.quality||1,r=(e.multiplier||1)*(e.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(r,e);return j.util.toDataURL(o,t,n)},toCanvasElement:function(e,t){e=e||1;var n=((t=t||{}).width||this.width)*e,r=(t.height||this.height)*e,o=this.getZoom(),s=this.width,i=this.height,a=o*e,l=this.viewportTransform,c=(l[4]-(t.left||0))*e,u=(l[5]-(t.top||0))*e,h=this.interactive,d=[a,0,0,a,c,u],f=this.enableRetinaScaling,p=j.util.createCanvasElement(),m=this.contextTop;return p.width=n,p.height=r,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=d,this.width=n,this.height=r,this.calcViewportBoundaries(),this.renderCanvas(p.getContext("2d"),this._objects),this.viewportTransform=l,this.width=s,this.height=i,this.calcViewportBoundaries(),this.interactive=h,this.enableRetinaScaling=f,this.contextTop=m,p}}),j.util.object.extend(j.StaticCanvas.prototype,{loadFromJSON:function(e,t,n){if(e){var r="string"==typeof e?JSON.parse(e):j.util.object.clone(e),o=this,s=r.clipPath,i=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete r.clipPath,this._enlivenObjects(r.objects,(function(e){o.clear(),o._setBgOverlay(r,(function(){s?o._enlivenObjects([s],(function(n){o.clipPath=n[0],o.__setupCanvas.call(o,r,e,i,t)})):o.__setupCanvas.call(o,r,e,i,t)}))}),n),this}},__setupCanvas:function(e,t,n,r){var o=this;t.forEach((function(e,t){o.insertAt(e,t)})),this.renderOnAddRemove=n,delete e.objects,delete e.backgroundImage,delete e.overlayImage,delete e.background,delete e.overlay,this._setOptions(e),this.renderAll(),r&&r()},_setBgOverlay:function(e,t){var n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(e.backgroundImage||e.overlayImage||e.background||e.overlay){var r=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&t&&t()};this.__setBgOverlay("backgroundImage",e.backgroundImage,n,r),this.__setBgOverlay("overlayImage",e.overlayImage,n,r),this.__setBgOverlay("backgroundColor",e.background,n,r),this.__setBgOverlay("overlayColor",e.overlay,n,r)}else t&&t()},__setBgOverlay:function(e,t,n,r){var o=this;if(!t)return n[e]=!0,void(r&&r());"backgroundImage"===e||"overlayImage"===e?j.util.enlivenObjects([t],(function(t){o[e]=t[0],n[e]=!0,r&&r()})):this["set"+j.util.string.capitalize(e,!0)](t,(function(){n[e]=!0,r&&r()}))},_enlivenObjects:function(e,t,n){e&&0!==e.length?j.util.enlivenObjects(e,(function(e){t&&t(e)}),null,n):t&&t([])},_toDataURL:function(e,t){this.clone((function(n){t(n.toDataURL(e))}))},_toDataURLWithMultiplier:function(e,t,n){this.clone((function(r){n(r.toDataURLWithMultiplier(e,t))}))},clone:function(e,t){var n=JSON.stringify(this.toJSON(t));this.cloneWithoutData((function(t){t.loadFromJSON(n,(function(){e&&e(t)}))}))},cloneWithoutData:function(e){var t=j.util.createCanvasElement();t.width=this.width,t.height=this.height;var n=new j.Canvas(t);this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,(function(){n.renderAll(),e&&e(n)})),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):e&&e(n)}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.object.clone,o=t.util.toFixed,s=t.util.string.capitalize,i=t.util.degreesToRadians,a=!t.isLikelyNode;t.Object||(t.Object=t.util.createClass(t.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:a,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(e){e&&this.setOptions(e)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=t.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(e){var n=t.perfLimitSizeTotal,r=e.width,o=e.height,s=t.maxCacheSideLimit,i=t.minCacheSideLimit;if(r<=s&&o<=s&&r*o<=n)return r<i&&(e.width=i),o<i&&(e.height=i),e;var a=r/o,l=t.util.limitDimsByArea(a,n),c=t.util.capValue,u=c(i,l.x,s),h=c(i,l.y,s);return r>u&&(e.zoomX/=r/u,e.width=u,e.capped=!0),o>h&&(e.zoomY/=o/h,e.height=h,e.capped=!0),e},_getCacheCanvasDimensions:function(){var e=this.getTotalObjectScaling(),t=this._getTransformedDimensions(0,0),n=t.x*e.scaleX/this.scaleX,r=t.y*e.scaleY/this.scaleY;return{width:n+2,height:r+2,zoomX:e.scaleX,zoomY:e.scaleY,x:n,y:r}},_updateCacheCanvas:function(){var e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){var n=e._currentTransform.target,r=e._currentTransform.action;if(this===n&&r.slice&&"scale"===r.slice(0,5))return!1}var o,s,i=this._cacheCanvas,a=this._limitCacheSize(this._getCacheCanvasDimensions()),l=t.minCacheSideLimit,c=a.width,u=a.height,h=a.zoomX,d=a.zoomY,f=c!==this.cacheWidth||u!==this.cacheHeight,p=this.zoomX!==h||this.zoomY!==d,m=f||p,g=0,v=0,_=!1;if(f){var j=this._cacheCanvas.width,y=this._cacheCanvas.height,b=c>j||u>y;_=b||(c<.9*j||u<.9*y)&&j>l&&y>l,b&&!a.capped&&(c>l||u>l)&&(g=.1*c,v=.1*u)}return this instanceof t.Text&&this.path&&(m=!0,_=!0,g+=this.getHeightOfLine(0)*this.zoomX,v+=this.getHeightOfLine(0)*this.zoomY),!!m&&(_?(i.width=Math.ceil(c+g),i.height=Math.ceil(u+v)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,i.width,i.height)),o=a.x/2,s=a.y/2,this.cacheTranslationX=Math.round(i.width/2-o)+o,this.cacheTranslationY=Math.round(i.height/2-s)+s,this.cacheWidth=c,this.cacheHeight=u,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(h,d),this.zoomX=h,this.zoomY=d,!0)},setOptions:function(e){this._setOptions(e),this._initGradient(e.fill,"fill"),this._initGradient(e.stroke,"stroke"),this._initPattern(e.fill,"fill"),this._initPattern(e.stroke,"stroke")},transform:function(e){var t=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,n=this.calcTransformMatrix(!t);e.transform(n[0],n[1],n[2],n[3],n[4],n[5])},toObject:function(e){var n=t.Object.NUM_FRACTION_DIGITS,r={type:this.type,version:t.version,originX:this.originX,originY:this.originY,left:o(this.left,n),top:o(this.top,n),width:o(this.width,n),height:o(this.height,n),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:o(this.strokeWidth,n),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:o(this.strokeMiterLimit,n),scaleX:o(this.scaleX,n),scaleY:o(this.scaleY,n),angle:o(this.angle,n),flipX:this.flipX,flipY:this.flipY,opacity:o(this.opacity,n),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:o(this.skewX,n),skewY:o(this.skewY,n)};return this.clipPath&&!this.clipPath.excludeFromExport&&(r.clipPath=this.clipPath.toObject(e),r.clipPath.inverted=this.clipPath.inverted,r.clipPath.absolutePositioned=this.clipPath.absolutePositioned),t.util.populateWithProperties(this,r,e),this.includeDefaultValues||(r=this._removeDefaultValues(r)),r},toDatalessObject:function(e){return this.toObject(e)},_removeDefaultValues:function(e){var n=t.util.getKlass(e.type).prototype;return n.stateProperties.forEach((function(t){"left"!==t&&"top"!==t&&(e[t]===n[t]&&delete e[t],Array.isArray(e[t])&&Array.isArray(n[t])&&0===e[t].length&&0===n[t].length&&delete e[t])})),e},toString:function(){return"#<fabric."+s(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var e=t.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(e.scaleX),scaleY:Math.abs(e.scaleY)}},getTotalObjectScaling:function(){var e=this.getObjectScaling(),t=e.scaleX,n=e.scaleY;if(this.canvas){var r=this.canvas.getZoom(),o=this.canvas.getRetinaScaling();t*=r*o,n*=r*o}return{scaleX:t,scaleY:n}},getObjectOpacity:function(){var e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e},_set:function(e,n){var r="scaleX"===e||"scaleY"===e,o=this[e]!==n,s=!1;return r&&(n=this._constrainScale(n)),"scaleX"===e&&n<0?(this.flipX=!this.flipX,n*=-1):"scaleY"===e&&n<0?(this.flipY=!this.flipY,n*=-1):"shadow"!==e||!n||n instanceof t.Shadow?"dirty"===e&&this.group&&this.group.set("dirty",n):n=new t.Shadow(n),this[e]=n,o&&(s=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(e)>-1?(this.dirty=!0,s&&this.group.set("dirty",!0)):s&&this.stateProperties.indexOf(e)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:t.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(e),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),e.restore())},renderCache:function(e){e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,e.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!=typeof this.shadow)||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(e,n){if(e.save(),n.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",n.absolutePositioned){var r=t.util.invertTransform(this.calcTransformMatrix());e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},drawObject:function(e,t){var n=this.fill,r=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath),this.fill=n,this.stroke=r},_drawClipPath:function(e,t){t&&(t.canvas=this.canvas,t.shouldCache(),t._transformDone=!0,t.renderCache({forClipping:!0}),this.drawClipPathOnCache(e,t))},drawCacheOnCanvas:function(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(e){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!e&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!e){var t=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-t/2,-n/2,t,n)}return!0}return!1},_renderBackground:function(e){if(this.backgroundColor){var t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}},_setOpacity:function(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity},_setStrokeStyles:function(e,t){var n=t.stroke;n&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,n.toLive?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(e,n):(e.strokeStyle=n.toLive(e,this),this._applyPatternGradientTransform(e,n)):e.strokeStyle=t.stroke)},_setFillStyles:function(e,t){var n=t.fill;n&&(n.toLive?(e.fillStyle=n.toLive(e,this),this._applyPatternGradientTransform(e,t.fill)):e.fillStyle=n)},_setClippingProperties:function(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"},_setLineDash:function(e,t){t&&0!==t.length&&(1&t.length&&t.push.apply(t,t),e.setLineDash(t))},_renderControls:function(e,n){var r,o,s,a=this.getViewportTransform(),l=this.calcTransformMatrix();o=void 0!==(n=n||{}).hasBorders?n.hasBorders:this.hasBorders,s=void 0!==n.hasControls?n.hasControls:this.hasControls,l=t.util.multiplyTransformMatrices(a,l),r=t.util.qrDecompose(l),e.save(),e.translate(r.translateX,r.translateY),e.lineWidth=1*this.borderScaleFactor,this.group||(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(r.angle-=180),e.rotate(i(this.group?r.angle:this.angle)),n.forActiveSelection||this.group?o&&this.drawBordersInGroup(e,r,n):o&&this.drawBorders(e,n),s&&this.drawControls(e,n),e.restore()},_setShadow:function(e){if(this.shadow){var n,r=this.shadow,o=this.canvas,s=o&&o.viewportTransform[0]||1,i=o&&o.viewportTransform[3]||1;n=r.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),o&&o._isRetinaScaling()&&(s*=t.devicePixelRatio,i*=t.devicePixelRatio),e.shadowColor=r.color,e.shadowBlur=r.blur*t.browserShadowBlurConstant*(s+i)*(n.scaleX+n.scaleY)/4,e.shadowOffsetX=r.offsetX*s*n.scaleX,e.shadowOffsetY=r.offsetY*i*n.scaleY}},_removeShadow:function(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)},_applyPatternGradientTransform:function(e,t){if(!t||!t.toLive)return{offsetX:0,offsetY:0};var n=t.gradientTransform||t.patternTransform,r=-this.width/2+t.offsetX||0,o=-this.height/2+t.offsetY||0;return"percentage"===t.gradientUnits?e.transform(this.width,0,0,this.height,r,o):e.transform(1,0,0,1,r,o),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:r,offsetY:o}},_renderPaintInOrder:function(e){"stroke"===this.paintFirst?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))},_render:function(){},_renderFill:function(e){this.fill&&(e.save(),this._setFillStyles(e,this),"evenodd"===this.fillRule?e.fill("evenodd"):e.fill(),e.restore())},_renderStroke:function(e){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform&&this.group){var t=this.getObjectScaling();e.scale(1/t.scaleX,1/t.scaleY)}else this.strokeUniform&&e.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}},_applyPatternForTransformedGradient:function(e,n){var r,o=this._limitCacheSize(this._getCacheCanvasDimensions()),s=t.util.createCanvasElement(),i=this.canvas.getRetinaScaling(),a=o.x/this.scaleX/i,l=o.y/this.scaleY/i;s.width=a,s.height=l,(r=s.getContext("2d")).beginPath(),r.moveTo(0,0),r.lineTo(a,0),r.lineTo(a,l),r.lineTo(0,l),r.closePath(),r.translate(a/2,l/2),r.scale(o.zoomX/this.scaleX/i,o.zoomY/this.scaleY/i),this._applyPatternGradientTransform(r,n),r.fillStyle=n.toLive(e),r.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(i*this.scaleX/o.zoomX,i*this.scaleY/o.zoomY),e.strokeStyle=r.createPattern(s,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var e=t.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",e.scaleX),this.set("scaleY",e.scaleY),this.angle=e.angle,this.skewX=e.skewX,this.skewY=0}},_removeTransformMatrix:function(e){var n=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),n=t.util.transformPoint(n,this.transformMatrix)),this.transformMatrix=null,e&&(this.scaleX*=e.scaleX,this.scaleY*=e.scaleY,this.cropX=e.cropX,this.cropY=e.cropY,n.x+=e.offsetLeft,n.y+=e.offsetTop,this.width=e.width,this.height=e.height),this.setPositionByOrigin(n,"center","center")},clone:function(e,n){var r=this.toObject(n);this.constructor.fromObject?this.constructor.fromObject(r,e):t.Object._fromObject("Object",r,e)},cloneAsImage:function(e,n){var r=this.toCanvasElement(n);return e&&e(new t.Image(r)),this},toCanvasElement:function(e){e||(e={});var n=t.util,r=n.saveObjectTransform(this),o=this.group,s=this.shadow,i=Math.abs,a=(e.multiplier||1)*(e.enableRetinaScaling?t.devicePixelRatio:1);delete this.group,e.withoutTransform&&n.resetObjectTransform(this),e.withoutShadow&&(this.shadow=null);var l,c,u,h,d=t.util.createCanvasElement(),f=this.getBoundingRect(!0,!0),p=this.shadow,m={x:0,y:0};p&&(c=p.blur,l=p.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),m.x=2*Math.round(i(p.offsetX)+c)*i(l.scaleX),m.y=2*Math.round(i(p.offsetY)+c)*i(l.scaleY)),u=f.width+m.x,h=f.height+m.y,d.width=Math.ceil(u),d.height=Math.ceil(h);var g=new t.StaticCanvas(d,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===e.format&&(g.backgroundColor="#fff"),this.setPositionByOrigin(new t.Point(g.width/2,g.height/2),"center","center");var v=this.canvas;g.add(this);var _=g.toCanvasElement(a||1,e);return this.shadow=s,this.set("canvas",v),o&&(this.group=o),this.set(r).setCoords(),g._objects=[],g.dispose(),g=null,_},toDataURL:function(e){return e||(e={}),t.util.toDataURL(this.toCanvasElement(e),e.format||"png",e.quality||1)},isType:function(e){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===e},complexity:function(){return 1},toJSON:function(e){return this.toObject(e)},rotate:function(e){var t=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return t&&this._setOriginToCenter(),this.set("angle",e),t&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(e,n){n=n||this.canvas.getPointer(e);var r=new t.Point(n.x,n.y),o=this._getLeftTopCoords();return this.angle&&(r=t.util.rotatePoint(r,o,i(-this.angle))),{x:r.x-o.x,y:r.y-o.y}},_setupCompositeOperation:function(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){t.runningAnimations&&t.runningAnimations.cancelByTarget(this)}}),t.util.createAccessors&&t.util.createAccessors(t.Object),n(t.Object.prototype,t.Observable),t.Object.NUM_FRACTION_DIGITS=2,t.Object.ENLIVEN_PROPS=["clipPath"],t.Object._fromObject=function(e,n,o,s){var i=t[e];n=r(n,!0),t.util.enlivenPatterns([n.fill,n.stroke],(function(e){void 0!==e[0]&&(n.fill=e[0]),void 0!==e[1]&&(n.stroke=e[1]),t.util.enlivenObjectEnlivables(n,n,(function(){var e=s?new i(n[s],n):new i(n);o&&o(e)}))}))},t.Object.__uid=0)}(t),f=j.util.degreesToRadians,p={left:-.5,center:0,right:.5},m={top:-.5,center:0,bottom:.5},j.util.object.extend(j.Object.prototype,{translateToGivenOrigin:function(e,t,n,r,o){var s,i,a,l=e.x,c=e.y;return"string"==typeof t?t=p[t]:t-=.5,"string"==typeof r?r=p[r]:r-=.5,"string"==typeof n?n=m[n]:n-=.5,"string"==typeof o?o=m[o]:o-=.5,i=o-n,((s=r-t)||i)&&(a=this._getTransformedDimensions(),l=e.x+s*a.x,c=e.y+i*a.y),new j.Point(l,c)},translateToCenterPoint:function(e,t,n){var r=this.translateToGivenOrigin(e,t,n,"center","center");return this.angle?j.util.rotatePoint(r,e,f(this.angle)):r},translateToOriginPoint:function(e,t,n){var r=this.translateToGivenOrigin(e,"center","center",t,n);return this.angle?j.util.rotatePoint(r,e,f(this.angle)):r},getCenterPoint:function(){var e=new j.Point(this.left,this.top);return this.translateToCenterPoint(e,this.originX,this.originY)},getPointByOrigin:function(e,t){var n=this.getCenterPoint();return this.translateToOriginPoint(n,e,t)},toLocalPoint:function(e,t,n){var r,o,s=this.getCenterPoint();return r=void 0!==t&&void 0!==n?this.translateToGivenOrigin(s,"center","center",t,n):new j.Point(this.left,this.top),o=new j.Point(e.x,e.y),this.angle&&(o=j.util.rotatePoint(o,s,-f(this.angle))),o.subtractEquals(r)},setPositionByOrigin:function(e,t,n){var r=this.translateToCenterPoint(e,t,n),o=this.translateToOriginPoint(r,this.originX,this.originY);this.set("left",o.x),this.set("top",o.y)},adjustPosition:function(e){var t,n,r=f(this.angle),o=this.getScaledWidth(),s=j.util.cos(r)*o,i=j.util.sin(r)*o;t="string"==typeof this.originX?p[this.originX]:this.originX-.5,n="string"==typeof e?p[e]:e-.5,this.left+=s*(n-t),this.top+=i*(n-t),this.setCoords(),this.originX=e},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var e=this.getCenterPoint();this.originX="center",this.originY="center",this.left=e.x,this.top=e.y},_resetOrigin:function(){var e=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=e.x,this.top=e.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}}),function(){var e=j.util,t=e.degreesToRadians,n=e.multiplyTransformMatrices,r=e.transformPoint;e.object.extend(j.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(e,t){return t?e?this.calcACoords():this.calcLineCoords():(this.aCoords&&this.lineCoords||this.setCoords(!0),e?this.aCoords:this.lineCoords)},getCoords:function(e,t){return n=this._getCoords(e,t),[new j.Point(n.tl.x,n.tl.y),new j.Point(n.tr.x,n.tr.y),new j.Point(n.br.x,n.br.y),new j.Point(n.bl.x,n.bl.y)];var n},intersectsWithRect:function(e,t,n,r){var o=this.getCoords(n,r);return"Intersection"===j.Intersection.intersectPolygonRectangle(o,e,t).status},intersectsWithObject:function(e,t,n){return"Intersection"===j.Intersection.intersectPolygonPolygon(this.getCoords(t,n),e.getCoords(t,n)).status||e.isContainedWithinObject(this,t,n)||this.isContainedWithinObject(e,t,n)},isContainedWithinObject:function(e,t,n){for(var r=this.getCoords(t,n),o=t?e.aCoords:e.lineCoords,s=0,i=e._getImageLines(o);s<4;s++)if(!e.containsPoint(r[s],i))return!1;return!0},isContainedWithinRect:function(e,t,n,r){var o=this.getBoundingRect(n,r);return o.left>=e.x&&o.left+o.width<=t.x&&o.top>=e.y&&o.top+o.height<=t.y},containsPoint:function(e,t,n,r){var o=this._getCoords(n,r),s=(t=t||this._getImageLines(o),this._findCrossPoints(e,t));return 0!==s&&s%2==1},isOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.getCoords(!0,e).some((function(e){return e.x<=n.x&&e.x>=t.x&&e.y<=n.y&&e.y>=t.y}))||(!!this.intersectsWithRect(t,n,!0,e)||this._containsCenterOfCanvas(t,n,e))},_containsCenterOfCanvas:function(e,t,n){var r={x:(e.x+t.x)/2,y:(e.y+t.y)/2};return!!this.containsPoint(r,null,!0,n)},isPartiallyOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.intersectsWithRect(t,n,!0,e)||this.getCoords(!0,e).every((function(e){return(e.x>=n.x||e.x<=t.x)&&(e.y>=n.y||e.y<=t.y)}))&&this._containsCenterOfCanvas(t,n,e)},_getImageLines:function(e){return{topline:{o:e.tl,d:e.tr},rightline:{o:e.tr,d:e.br},bottomline:{o:e.br,d:e.bl},leftline:{o:e.bl,d:e.tl}}},_findCrossPoints:function(e,t){var n,r,o,s=0;for(var i in t)if(!((o=t[i]).o.y<e.y&&o.d.y<e.y||o.o.y>=e.y&&o.d.y>=e.y||(o.o.x===o.d.x&&o.o.x>=e.x?r=o.o.x:(0,n=(o.d.y-o.o.y)/(o.d.x-o.o.x),r=-(e.y-0*e.x-(o.o.y-n*o.o.x))/(0-n)),r>=e.x&&(s+=1),2!==s)))break;return s},getBoundingRect:function(t,n){var r=this.getCoords(t,n);return e.makeBoundingBoxFromPoints(r)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:0===e?1e-4:e},scale:function(e){return this._set("scaleX",e),this._set("scaleY",e),this.setCoords()},scaleToWidth:function(e,t){var n=this.getBoundingRect(t).width/this.getScaledWidth();return this.scale(e/this.width/n)},scaleToHeight:function(e,t){var n=this.getBoundingRect(t).height/this.getScaledHeight();return this.scale(e/this.height/n)},calcLineCoords:function(){var n=this.getViewportTransform(),o=this.padding,s=t(this.angle),i=e.cos(s)*o,a=e.sin(s)*o,l=i+a,c=i-a,u=this.calcACoords(),h={tl:r(u.tl,n),tr:r(u.tr,n),bl:r(u.bl,n),br:r(u.br,n)};return o&&(h.tl.x-=c,h.tl.y-=l,h.tr.x+=l,h.tr.y-=c,h.bl.x-=l,h.bl.y+=c,h.br.x+=c,h.br.y+=l),h},calcOCoords:function(){var e=this._calcRotateMatrix(),t=this._calcTranslateMatrix(),r=this.getViewportTransform(),o=n(r,t),s=n(o,e),i=(s=n(s,[1/r[0],0,0,1/r[3],0,0]),this._calculateCurrentDimensions()),a={};return this.forEachControl((function(e,t,n){a[t]=e.positionHandler(i,s,n)})),a},calcACoords:function(){var e=this._calcRotateMatrix(),t=this._calcTranslateMatrix(),o=n(t,e),s=this._getTransformedDimensions(),i=s.x/2,a=s.y/2;return{tl:r({x:-i,y:-a},o),tr:r({x:i,y:-a},o),bl:r({x:-i,y:a},o),br:r({x:i,y:a},o)}},setCoords:function(e){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),e||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return e.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var e=this.getCenterPoint();return[1,0,0,1,e.x,e.y]},transformMatrixKey:function(e){var t="_",n="";return!e&&this.group&&(n=this.group.transformMatrixKey(e)+t),n+this.top+t+this.left+t+this.scaleX+t+this.scaleY+t+this.skewX+t+this.skewY+t+this.angle+t+this.originX+t+this.originY+t+this.width+t+this.height+t+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(e){var t=this.calcOwnMatrix();if(e||!this.group)return t;var r=this.transformMatrixKey(e),o=this.matrixCache||(this.matrixCache={});return o.key===r?o.value:(this.group&&(t=n(this.group.calcTransformMatrix(!1),t)),o.key=r,o.value=t,t)},calcOwnMatrix:function(){var t=this.transformMatrixKey(!0),n=this.ownMatrixCache||(this.ownMatrixCache={});if(n.key===t)return n.value;var r=this._calcTranslateMatrix(),o={angle:this.angle,translateX:r[4],translateY:r[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return n.key=t,n.value=e.composeMatrix(o),n.value},_getNonTransformedDimensions:function(){var e=this.strokeWidth;return{x:this.width+e,y:this.height+e}},_getTransformedDimensions:function(t,n){void 0===t&&(t=this.skewX),void 0===n&&(n=this.skewY);var r,o,s,i=0===t&&0===n;if(this.strokeUniform?(o=this.width,s=this.height):(o=(r=this._getNonTransformedDimensions()).x,s=r.y),i)return this._finalizeDimensions(o*this.scaleX,s*this.scaleY);var a=e.sizeAfterTransform(o,s,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:t,skewY:n});return this._finalizeDimensions(a.x,a.y)},_finalizeDimensions:function(e,t){return this.strokeUniform?{x:e+this.strokeWidth,y:t+this.strokeWidth}:{x:e,y:t}},_calculateCurrentDimensions:function(){var e=this.getViewportTransform(),t=this._getTransformedDimensions();return r(t,e,!0).scalarAdd(2*this.padding)}})}(),j.util.object.extend(j.Object.prototype,{sendToBack:function(){return this.group?j.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?j.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(e){return this.group?j.StaticCanvas.prototype.sendBackwards.call(this.group,this,e):this.canvas&&this.canvas.sendBackwards(this,e),this},bringForward:function(e){return this.group?j.StaticCanvas.prototype.bringForward.call(this.group,this,e):this.canvas&&this.canvas.bringForward(this,e),this},moveTo:function(e){return this.group&&"activeSelection"!==this.group.type?j.StaticCanvas.prototype.moveTo.call(this.group,this,e):this.canvas&&this.canvas.moveTo(this,e),this}}),function(){function e(e,t){if(t){if(t.toLive)return e+": url(#SVGID_"+t.id+"); ";var n=new j.Color(t),r=e+": "+n.toRgb()+"; ",o=n.getAlpha();return 1!==o&&(r+=e+"-opacity: "+o.toString()+"; "),r}return e+": none; "}var t=j.util.toFixed;j.util.object.extend(j.Object.prototype,{getSvgStyles:function(t){var n=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",o=this.strokeDashArray?this.strokeDashArray.join(" "):"none",s=this.strokeDashOffset?this.strokeDashOffset:"0",i=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=void 0!==this.opacity?this.opacity:"1",u=this.visible?"":" visibility: hidden;",h=t?"":this.getSvgFilter(),d=e("fill",this.fill);return[e("stroke",this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",o,"; ","stroke-linecap: ",i,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",l,"; ",d,"fill-rule: ",n,"; ","opacity: ",c,";",h,u].join("")},getSvgSpanStyles:function(t,n){var r="; ",o=t.fontFamily?"font-family: "+(-1===t.fontFamily.indexOf("'")&&-1===t.fontFamily.indexOf('"')?"'"+t.fontFamily+"'":t.fontFamily)+r:"",s=t.strokeWidth?"stroke-width: "+t.strokeWidth+r:"",i=(o=o,t.fontSize?"font-size: "+t.fontSize+"px"+r:""),a=t.fontStyle?"font-style: "+t.fontStyle+r:"",l=t.fontWeight?"font-weight: "+t.fontWeight+r:"",c=t.fill?e("fill",t.fill):"",u=t.stroke?e("stroke",t.stroke):"",h=this.getSvgTextDecoration(t);return h&&(h="text-decoration: "+h+r),[u,s,o,i,a,l,h,c,t.deltaY?"baseline-shift: "+-t.deltaY+"; ":"",n?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(e){return["overline","underline","line-through"].filter((function(t){return e[t.replace("-","")]})).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(e,t){var n=e?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+j.util.matrixToSVG(n)+(t||"")+'" '},_setSVGBg:function(e){if(this.backgroundColor){var n=j.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',t(-this.width/2,n),'" y="',t(-this.height/2,n),'" width="',t(this.width,n),'" height="',t(this.height,n),'"></rect>\n')}},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})},toClipPathSVG:function(e){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})},_createBaseClipPathSVGMarkup:function(e,t){var n=(t=t||{}).reviver,r=t.additionalTransform||"",o=[this.getSvgTransform(!0,r),this.getSvgCommons()].join(""),s=e.indexOf("COMMON_PARTS");return e[s]=o,n?n(e.join("")):e.join("")},_createBaseSVGMarkup:function(e,t){var n,r,o=(t=t||{}).noStyle,s=t.reviver,i=o?"":'style="'+this.getSvgStyles()+'" ',a=t.withShadow?'style="'+this.getSvgFilter()+'" ':"",l=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",u=l&&l.absolutePositioned,h=this.stroke,d=this.fill,f=this.shadow,p=[],m=e.indexOf("COMMON_PARTS"),g=t.additionalTransform;return l&&(l.clipPathId="CLIPPATH_"+j.Object.__uid++,r='<clipPath id="'+l.clipPathId+'" >\n'+l.toClipPathSVG(s)+"</clipPath>\n"),u&&p.push("<g ",a,this.getSvgCommons()," >\n"),p.push("<g ",this.getSvgTransform(!1),u?"":a+this.getSvgCommons()," >\n"),n=[i,c,o?"":this.addPaintOrder()," ",g?'transform="'+g+'" ':""].join(""),e[m]=n,d&&d.toLive&&p.push(d.toSVG(this)),h&&h.toLive&&p.push(h.toSVG(this)),f&&p.push(f.toSVG(this)),l&&p.push(r),p.push(e.join("")),p.push("</g>\n"),u&&p.push("</g>\n"),s?s(p.join("")):p.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var e=j.util.object.extend,t="stateProperties";function n(t,n,r){var o={};r.forEach((function(e){o[e]=t[e]})),e(t[n],o,!0)}function r(e,t,n){if(e===t)return!0;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var o=0,s=e.length;o<s;o++)if(!r(e[o],t[o]))return!1;return!0}if(e&&"object"==typeof e){var i,a=Object.keys(e);if(!t||"object"!=typeof t||!n&&a.length!==Object.keys(t).length)return!1;for(o=0,s=a.length;o<s;o++)if("canvas"!==(i=a[o])&&"group"!==i&&!r(e[i],t[i]))return!1;return!0}}j.util.object.extend(j.Object.prototype,{hasStateChanged:function(e){var n="_"+(e=e||t);return Object.keys(this[n]).length<this[e].length||!r(this[n],this,!0)},saveState:function(e){var r=e&&e.propertySet||t,o="_"+r;return this[o]?(n(this,o,this[r]),e&&e.stateProperties&&n(this,o,e.stateProperties),this):this.setupState(e)},setupState:function(e){var n=(e=e||{}).propertySet||t;return e.propertySet=n,this["_"+n]={},this.saveState(e),this}})}(),function(){var e=j.util.degreesToRadians;j.util.object.extend(j.Object.prototype,{_findTargetCorner:function(e,t){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var n,r,o,s=e.x,i=e.y,a=Object.keys(this.oCoords),l=a.length-1;for(this.__corner=0;l>=0;l--)if(o=a[l],this.isControlVisible(o)&&(r=this._getImageLines(t?this.oCoords[o].touchCorner:this.oCoords[o].corner),0!==(n=this._findCrossPoints({x:s,y:i},r))&&n%2==1))return this.__corner=o,o;return!1},forEachControl:function(e){for(var t in this.controls)e(this.controls[t],t,this)},_setCornerCoords:function(){var e=this.oCoords;for(var t in e){var n=this.controls[t];e[t].corner=n.calcCornerCoords(this.angle,this.cornerSize,e[t].x,e[t].y,!1),e[t].touchCorner=n.calcCornerCoords(this.angle,this.touchCornerSize,e[t].x,e[t].y,!0)}},drawSelectionBackground:function(t){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;t.save();var n=this.getCenterPoint(),r=this._calculateCurrentDimensions(),o=this.canvas.viewportTransform;return t.translate(n.x,n.y),t.scale(1/o[0],1/o[3]),t.rotate(e(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-r.x/2,-r.y/2,r.x,r.y),t.restore(),this},drawBorders:function(e,t){t=t||{};var n=this._calculateCurrentDimensions(),r=this.borderScaleFactor,o=n.x+r,s=n.y+r,i=void 0!==t.hasControls?t.hasControls:this.hasControls,a=!1;return e.save(),e.strokeStyle=t.borderColor||this.borderColor,this._setLineDash(e,t.borderDashArray||this.borderDashArray),e.strokeRect(-o/2,-s/2,o,s),i&&(e.beginPath(),this.forEachControl((function(t,n,r){t.withConnection&&t.getVisibility(r,n)&&(a=!0,e.moveTo(t.x*o,t.y*s),e.lineTo(t.x*o+t.offsetX,t.y*s+t.offsetY))})),a&&e.stroke()),e.restore(),this},drawBordersInGroup:function(e,t,n){n=n||{};var r=j.util.sizeAfterTransform(this.width,this.height,t),o=this.strokeWidth,s=this.strokeUniform,i=this.borderScaleFactor,a=r.x+o*(s?this.canvas.getZoom():t.scaleX)+i,l=r.y+o*(s?this.canvas.getZoom():t.scaleY)+i;return e.save(),this._setLineDash(e,n.borderDashArray||this.borderDashArray),e.strokeStyle=n.borderColor||this.borderColor,e.strokeRect(-a/2,-l/2,a,l),e.restore(),this},drawControls:function(e,t){t=t||{},e.save();var n,r,o=this.canvas.getRetinaScaling();return e.setTransform(o,0,0,o,0,0),e.strokeStyle=e.fillStyle=t.cornerColor||this.cornerColor,this.transparentCorners||(e.strokeStyle=t.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(e,t.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(n=this.group.calcTransformMatrix()),this.forEachControl((function(o,s,i){r=i.oCoords[s],o.getVisibility(i,s)&&(n&&(r=j.util.transformPoint(r,n)),o.render(e,r.x,r.y,t,i))})),e.restore(),this},isControlVisible:function(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)},setControlVisible:function(e,t){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=t,this},setControlsVisibility:function(e){for(var t in e||(e={}),e)this.setControlVisible(t,e[t]);return this},onDeselect:function(){},onSelect:function(){}})}(),j.util.object.extend(j.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(e,t){var n=function(){},r=(t=t||{}).onComplete||n,o=t.onChange||n,s=this;return j.util.animate({target:this,startValue:e.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(t){e.set("left",t),s.requestRenderAll(),o()},onComplete:function(){e.setCoords(),r()}})},fxCenterObjectV:function(e,t){var n=function(){},r=(t=t||{}).onComplete||n,o=t.onChange||n,s=this;return j.util.animate({target:this,startValue:e.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(t){e.set("top",t),s.requestRenderAll(),o()},onComplete:function(){e.setCoords(),r()}})},fxRemove:function(e,t){var n=function(){},r=(t=t||{}).onComplete||n,o=t.onChange||n,s=this;return j.util.animate({target:this,startValue:e.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(t){e.set("opacity",t),s.requestRenderAll(),o()},onComplete:function(){s.remove(e),r()}})}}),j.util.object.extend(j.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var e,t,n=[],r=[];for(e in arguments[0])n.push(e);for(var o=0,s=n.length;o<s;o++)e=n[o],t=o!==s-1,r.push(this._animate(e,arguments[0][e],arguments[1],t));return r}return this._animate.apply(this,arguments)},_animate:function(e,t,n,r){var o,s=this;t=t.toString(),n=n?j.util.object.clone(n):{},~e.indexOf(".")&&(o=e.split("."));var i=s.colorProperties.indexOf(e)>-1||o&&s.colorProperties.indexOf(o[1])>-1,a=o?this.get(o[0])[o[1]]:this.get(e);"from"in n||(n.from=a),i||(t=~t.indexOf("=")?a+parseFloat(t.replace("=","")):parseFloat(t));var l={target:this,startValue:n.from,endValue:t,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(e,t,r){return n.abort.call(s,e,t,r)},onChange:function(t,i,a){o?s[o[0]][o[1]]=t:s.set(e,t),r||n.onChange&&n.onChange(t,i,a)},onComplete:function(e,t,o){r||(s.setCoords(),n.onComplete&&n.onComplete(e,t,o))}};return i?j.util.animateColor(l.startValue,l.endValue,l.duration,l):j.util.animate(l)}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.object.clone,o={x1:1,x2:1,y1:1,y2:1};function s(e,t){var n=e.origin,r=e.axis1,o=e.axis2,s=e.dimension,i=t.nearest,a=t.center,l=t.farthest;return function(){switch(this.get(n)){case i:return Math.min(this.get(r),this.get(o));case a:return Math.min(this.get(r),this.get(o))+.5*this.get(s);case l:return Math.max(this.get(r),this.get(o))}}}t.Line?t.warn("fabric.Line is already defined"):(t.Line=t.util.createClass(t.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:t.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(e,t){e||(e=[0,0,0,0]),this.callSuper("initialize",t),this.set("x1",e[0]),this.set("y1",e[1]),this.set("x2",e[2]),this.set("y2",e[3]),this._setWidthHeight(t)},_setWidthHeight:function(e){e||(e={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in e?e.left:this._getLeftToOriginX(),this.top="top"in e?e.top:this._getTopToOriginY()},_set:function(e,t){return this.callSuper("_set",e,t),void 0!==o[e]&&this._setWidthHeight(),this},_getLeftToOriginX:s({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:s({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(e){e.beginPath();var t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=this.strokeWidth;var n=e.strokeStyle;e.strokeStyle=this.stroke||e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(e){return n(this.callSuper("toObject",e),this.calcLinePoints())},_getNonTransformedDimensions:function(){var e=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(e.y-=this.strokeWidth),0===this.height&&(e.x-=this.strokeWidth)),e},calcLinePoints:function(){var e=this.x1<=this.x2?-1:1,t=this.y1<=this.y2?-1:1,n=e*this.width*.5,r=t*this.height*.5;return{x1:n,x2:e*this.width*-.5,y1:r,y2:t*this.height*-.5}},_toSVG:function(){var e=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',e.x1,'" y1="',e.y1,'" x2="',e.x2,'" y2="',e.y2,'" />\n']}}),t.Line.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),t.Line.fromElement=function(e,r,o){o=o||{};var s=t.parseAttributes(e,t.Line.ATTRIBUTE_NAMES),i=[s.x1||0,s.y1||0,s.x2||0,s.y2||0];r(new t.Line(i,n(s,o)))},t.Line.fromObject=function(e,n){var o=r(e,!0);o.points=[e.x1,e.y1,e.x2,e.y2],t.Object._fromObject("Line",o,(function(e){delete e.points,n&&n(e)}),"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.degreesToRadians;t.Circle?t.warn("fabric.Circle is already defined."):(t.Circle=t.util.createClass(t.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:t.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(e,t){return this.callSuper("_set",e,t),"radius"===e&&this.setRadius(t),this},toObject:function(e){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(e))},_toSVG:function(){var e,r=(this.endAngle-this.startAngle)%360;if(0===r)e=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var o=n(this.startAngle),s=n(this.endAngle),i=this.radius;e=['<path d="M '+t.util.cos(o)*i+" "+t.util.sin(o)*i," A "+i+" "+i," 0 ",+(r>180?"1":"0")+" 1"," "+t.util.cos(s)*i+" "+t.util.sin(s)*i,'" ',"COMMON_PARTS"," />\n"]}return e},_render:function(e){e.beginPath(),e.arc(0,0,this.radius,n(this.startAngle),n(this.endAngle),!1),this._renderPaintInOrder(e)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(e){return this.radius=e,this.set("width",2*e).set("height",2*e)}}),t.Circle.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),t.Circle.fromElement=function(e,n){var r,o=t.parseAttributes(e,t.Circle.ATTRIBUTE_NAMES);if(!("radius"in(r=o)&&r.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");o.left=(o.left||0)-o.radius,o.top=(o.top||0)-o.radius,n(new t.Circle(o))},t.Circle.fromObject=function(e,n){t.Object._fromObject("Circle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Triangle?t.warn("fabric.Triangle is already defined"):(t.Triangle=t.util.createClass(t.Object,{type:"triangle",width:100,height:100,_render:function(e){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,n),e.lineTo(0,-n),e.lineTo(t,n),e.closePath(),this._renderPaintInOrder(e)},_toSVG:function(){var e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-e+" "+t,"0 "+-t,e+" "+t].join(","),'" />']}}),t.Triangle.fromObject=function(e,n){return t.Object._fromObject("Triangle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=2*Math.PI;t.Ellipse?t.warn("fabric.Ellipse is already defined."):(t.Ellipse=t.util.createClass(t.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this.set("rx",e&&e.rx||0),this.set("ry",e&&e.ry||0)},_set:function(e,t){switch(this.callSuper("_set",e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,n,!1),e.restore(),this._renderPaintInOrder(e)}}),t.Ellipse.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),t.Ellipse.fromElement=function(e,n){var r=t.parseAttributes(e,t.Ellipse.ATTRIBUTE_NAMES);r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,n(new t.Ellipse(r))},t.Ellipse.fromObject=function(e,n){t.Object._fromObject("Ellipse",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend;t.Rect?t.warn("fabric.Rect is already defined"):(t.Rect=t.util.createClass(t.Object,{stateProperties:t.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(e){var t=this.rx?Math.min(this.rx,this.width/2):0,n=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,o=this.height,s=-this.width/2,i=-this.height/2,a=0!==t||0!==n,l=.4477152502;e.beginPath(),e.moveTo(s+t,i),e.lineTo(s+r-t,i),a&&e.bezierCurveTo(s+r-l*t,i,s+r,i+l*n,s+r,i+n),e.lineTo(s+r,i+o-n),a&&e.bezierCurveTo(s+r,i+o-l*n,s+r-l*t,i+o,s+r-t,i+o),e.lineTo(s+t,i+o),a&&e.bezierCurveTo(s+l*t,i+o,s,i+o-l*n,s,i+o-n),e.lineTo(s,i+n),a&&e.bezierCurveTo(s,i+l*n,s+l*t,i,s+t,i),e.closePath(),this._renderPaintInOrder(e)},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),t.Rect.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),t.Rect.fromElement=function(e,r,o){if(!e)return r(null);o=o||{};var s=t.parseAttributes(e,t.Rect.ATTRIBUTE_NAMES);s.left=s.left||0,s.top=s.top||0,s.height=s.height||0,s.width=s.width||0;var i=new t.Rect(n(o?t.util.object.clone(o):{},s));i.visible=i.visible&&i.width>0&&i.height>0,r(i)},t.Rect.fromObject=function(e,n){return t.Object._fromObject("Rect",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.array.min,o=t.util.array.max,s=t.util.toFixed,i=t.util.projectStrokeOnPoints;t.Polyline?t.warn("fabric.Polyline is already defined"):(t.Polyline=t.util.createClass(t.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:t.Object.prototype.cacheProperties.concat("points"),initialize:function(e,t){t=t||{},this.points=e||[],this.callSuper("initialize",t),this._setPositionDimensions(t)},_projectStrokeOnPoints:function(){return i(this.points,this,!0)},_setPositionDimensions:function(e){var t,n=this._calcDimensions(e),r=this.exactBoundingBox?this.strokeWidth:0;this.width=n.width-r,this.height=n.height-r,e.fromSVG||(t=this.translateToGivenOrigin({x:n.left-this.strokeWidth/2+r/2,y:n.top-this.strokeWidth/2+r/2},"left","top",this.originX,this.originY)),void 0===e.left&&(this.left=e.fromSVG?n.left:t.x),void 0===e.top&&(this.top=e.fromSVG?n.top:t.y),this.pathOffset={x:n.left+this.width/2+r/2,y:n.top+this.height/2+r/2}},_calcDimensions:function(){var e=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,t=r(e,"x")||0,n=r(e,"y")||0;return{left:t,top:n,width:(o(e,"x")||0)-t,height:(o(e,"y")||0)-n}},toObject:function(e){return n(this.callSuper("toObject",e),{points:this.points.concat()})},_toSVG:function(){for(var e=[],n=this.pathOffset.x,r=this.pathOffset.y,o=t.Object.NUM_FRACTION_DIGITS,i=0,a=this.points.length;i<a;i++)e.push(s(this.points[i].x-n,o),",",s(this.points[i].y-r,o)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',e.join(""),'" />\n']},commonRender:function(e){var t,n=this.points.length,r=this.pathOffset.x,o=this.pathOffset.y;if(!n||isNaN(this.points[n-1].y))return!1;e.beginPath(),e.moveTo(this.points[0].x-r,this.points[0].y-o);for(var s=0;s<n;s++)t=this.points[s],e.lineTo(t.x-r,t.y-o);return!0},_render:function(e){this.commonRender(e)&&this._renderPaintInOrder(e)},complexity:function(){return this.get("points").length}}),t.Polyline.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polyline.fromElementGenerator=function(e){return function(r,o,s){if(!r)return o(null);s||(s={});var i=t.parsePointsAttribute(r.getAttribute("points")),a=t.parseAttributes(r,t[e].ATTRIBUTE_NAMES);a.fromSVG=!0,o(new t[e](i,n(a,s)))}},t.Polyline.fromElement=t.Polyline.fromElementGenerator("Polyline"),t.Polyline.fromObject=function(e,n){return t.Object._fromObject("Polyline",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.projectStrokeOnPoints;t.Polygon?t.warn("fabric.Polygon is already defined"):(t.Polygon=t.util.createClass(t.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return n(this.points,this)},_render:function(e){this.commonRender(e)&&(e.closePath(),this._renderPaintInOrder(e))}}),t.Polygon.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polygon.fromElement=t.Polyline.fromElementGenerator("Polygon"),t.Polygon.fromObject=function(e,n){t.Object._fromObject("Polygon",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,r=t.util.array.max,o=t.util.object.extend,s=t.util.object.clone,i=t.util.toFixed;t.Path?t.warn("fabric.Path is already defined"):(t.Path=t.util.createClass(t.Object,{type:"path",path:null,cacheProperties:t.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:t.Object.prototype.stateProperties.concat("path"),initialize:function(e,t){delete(t=s(t||{})).path,this.callSuper("initialize",t),this._setPath(e||[],t)},_setPath:function(e,n){this.path=t.util.makePathSimpler(Array.isArray(e)?e:t.util.parsePath(e)),t.Polyline.prototype._setPositionDimensions.call(this,n||{})},_renderPathCommands:function(e){var t,n=0,r=0,o=0,s=0,i=0,a=0,l=-this.pathOffset.x,c=-this.pathOffset.y;e.beginPath();for(var u=0,h=this.path.length;u<h;++u)switch((t=this.path[u])[0]){case"L":o=t[1],s=t[2],e.lineTo(o+l,s+c);break;case"M":n=o=t[1],r=s=t[2],e.moveTo(o+l,s+c);break;case"C":o=t[5],s=t[6],i=t[3],a=t[4],e.bezierCurveTo(t[1]+l,t[2]+c,i+l,a+c,o+l,s+c);break;case"Q":e.quadraticCurveTo(t[1]+l,t[2]+c,t[3]+l,t[4]+c),o=t[3],s=t[4],i=t[1],a=t[2];break;case"z":case"Z":o=n,s=r,e.closePath()}},_render:function(e){this._renderPathCommands(e),this._renderPaintInOrder(e)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(e){return o(this.callSuper("toObject",e),{path:this.path.map((function(e){return e.slice()}))})},toDatalessObject:function(e){var t=this.toObject(["sourcePath"].concat(e));return t.sourcePath&&delete t.path,t},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',t.util.joinPath(this.path),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var e=t.Object.NUM_FRACTION_DIGITS;return" translate("+i(-this.pathOffset.x,e)+", "+i(-this.pathOffset.y,e)+")"},toClipPathSVG:function(e){var t=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},toSVG:function(e){var t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var e,o,s=[],i=[],a=0,l=0,c=0,u=0,h=0,d=this.path.length;h<d;++h){switch((e=this.path[h])[0]){case"L":c=e[1],u=e[2],o=[];break;case"M":a=c=e[1],l=u=e[2],o=[];break;case"C":o=t.util.getBoundsOfCurve(c,u,e[1],e[2],e[3],e[4],e[5],e[6]),c=e[5],u=e[6];break;case"Q":o=t.util.getBoundsOfCurve(c,u,e[1],e[2],e[1],e[2],e[3],e[4]),c=e[3],u=e[4];break;case"z":case"Z":c=a,u=l}o.forEach((function(e){s.push(e.x),i.push(e.y)})),s.push(c),i.push(u)}var f=n(s)||0,p=n(i)||0;return{left:f,top:p,width:(r(s)||0)-f,height:(r(i)||0)-p}}}),t.Path.fromObject=function(e,n){if("string"==typeof e.sourcePath){var r=e.sourcePath;t.loadSVGFromURL(r,(function(t){var r=t[0];r.setOptions(e),n&&n(r)}))}else t.Object._fromObject("Path",e,n,"path")},t.Path.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(["d"]),t.Path.fromElement=function(e,n,r){var s=t.parseAttributes(e,t.Path.ATTRIBUTE_NAMES);s.fromSVG=!0,n(new t.Path(s.d,o(s,r)))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,r=t.util.array.max;t.Group||(t.Group=t.util.createClass(t.Object,t.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(e,t,n){t=t||{},this._objects=[],n&&this.callSuper("initialize",t),this._objects=e||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;if(n)this._updateObjectsACoords();else{var o=t&&t.centerPoint;void 0!==t.originX&&(this.originX=t.originX),void 0!==t.originY&&(this.originY=t.originY),o||this._calcBounds(),this._updateObjectsCoords(o),delete t.centerPoint,this.callSuper("initialize",t)}this.setCoords()},_updateObjectsACoords:function(){for(var e=this._objects.length;e--;)this._objects[e].setCoords(true)},_updateObjectsCoords:function(e){e=e||this.getCenterPoint();for(var t=this._objects.length;t--;)this._updateObjectCoords(this._objects[t],e)},_updateObjectCoords:function(e,t){var n=e.left,r=e.top;e.set({left:n-t.x,top:r-t.y}),e.group=this,e.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(e){var n=!!this.group;return this._restoreObjectsState(),t.util.resetObjectTransform(this),e&&(n&&t.util.removeTransformFromObject(e,this.group.calcTransformMatrix()),this._objects.push(e),e.group=this,e._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,n?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(e){return this._restoreObjectsState(),t.util.resetObjectTransform(this),this.remove(e),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(e){this.dirty=!0,e.group=this,e._set("canvas",this.canvas)},_onObjectRemoved:function(e){this.dirty=!0,delete e.group},_set:function(e,n){var r=this._objects.length;if(this.useSetOnGroup)for(;r--;)this._objects[r].setOnGroup(e,n);if("canvas"===e)for(;r--;)this._objects[r]._set(e,n);t.Object.prototype._set.call(this,e,n)},toObject:function(e){var n=this.includeDefaultValues,r=this._objects.filter((function(e){return!e.excludeFromExport})).map((function(t){var r=t.includeDefaultValues;t.includeDefaultValues=n;var o=t.toObject(e);return t.includeDefaultValues=r,o})),o=t.Object.prototype.toObject.call(this,e);return o.objects=r,o},toDatalessObject:function(e){var n,r=this.sourcePath;if(r)n=r;else{var o=this.includeDefaultValues;n=this._objects.map((function(t){var n=t.includeDefaultValues;t.includeDefaultValues=o;var r=t.toDatalessObject(e);return t.includeDefaultValues=n,r}))}var s=t.Object.prototype.toDatalessObject.call(this,e);return s.objects=n,s},render:function(e){this._transformDone=!0,this.callSuper("render",e),this._transformDone=!1},shouldCache:function(){var e=t.Object.prototype.shouldCache.call(this);if(e)for(var n=0,r=this._objects.length;n<r;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1;return e},willDrawShadow:function(){if(t.Object.prototype.willDrawShadow.call(this))return!0;for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(e){for(var t=0,n=this._objects.length;t<n;t++)this._objects[t].render(e);this._drawClipPath(e,this.clipPath)},isCacheDirty:function(e){if(this.callSuper("isCacheDirty",e))return!0;if(!this.statefullCache)return!1;for(var t=0,n=this._objects.length;t<n;t++)if(this._objects[t].isCacheDirty(!0)){if(this._cacheCanvas){var r=this.cacheWidth/this.zoomX,o=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-r/2,-o/2,r,o)}return!0}return!1},_restoreObjectsState:function(){var e=this.calcOwnMatrix();return this._objects.forEach((function(n){t.util.addTransformToObject(n,e),delete n.group,n.setCoords()})),this},destroy:function(){return this._objects.forEach((function(e){e.set("dirty",!0)})),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject((function(e){e.dispose&&e.dispose()})),this._objects=[]},toActiveSelection:function(){if(this.canvas){var e=this._objects,n=this.canvas;this._objects=[];var r=this.toObject();delete r.objects;var o=new t.ActiveSelection([]);return o.set(r),o.type="activeSelection",n.remove(this),e.forEach((function(e){e.group=o,e.dirty=!0,n.add(e)})),o.canvas=n,o._objects=e,n._activeObject=o,o.setCoords(),o}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject((function(e){e.setCoords(true)})),this},_calcBounds:function(e){for(var t,n,r,o,s=[],i=[],a=["tr","br","bl","tl"],l=0,c=this._objects.length,u=a.length;l<c;++l){for(r=(t=this._objects[l]).calcACoords(),o=0;o<u;o++)n=a[o],s.push(r[n].x),i.push(r[n].y);t.aCoords=r}this._getBounds(s,i,e)},_getBounds:function(e,o,s){var i=new t.Point(n(e),n(o)),a=new t.Point(r(e),r(o)),l=i.y||0,c=i.x||0,u=a.x-i.x||0,h=a.y-i.y||0;this.width=u,this.height=h,s||this.setPositionByOrigin({x:c,y:l},"left","top")},_toSVG:function(e){for(var t=["<g ","COMMON_PARTS"," >\n"],n=0,r=this._objects.length;n<r;n++)t.push("\t\t",this._objects[n].toSVG(e));return t.push("</g>\n"),t},getSvgStyles:function(){var e=void 0!==this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")},toClipPathSVG:function(e){for(var t=[],n=0,r=this._objects.length;n<r;n++)t.push("\t",this._objects[n].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}}),t.Group.fromObject=function(e,n){var r=e.objects,o=t.util.object.clone(e,!0);delete o.objects,"string"!=typeof r?t.util.enlivenObjects(r,(function(r){var o=t.util.object.clone(e,!0);delete o.objects,t.util.enlivenObjectEnlivables(e,o,(function(){n&&n(new t.Group(r,o,!0))}))})):t.loadSVGFromURL(r,(function(s){var i=t.util.groupSVGElements(s,e,r);i.set(o),n&&n(i)}))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.ActiveSelection||(t.ActiveSelection=t.util.createClass(t.Group,{type:"activeSelection",initialize:function(e,n){n=n||{},this._objects=e||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;n.originX&&(this.originX=n.originX),n.originY&&(this.originY=n.originY),this._calcBounds(),this._updateObjectsCoords(),t.Object.prototype.initialize.call(this,n),this.setCoords()},toGroup:function(){var e=this._objects.concat();this._objects=[];var n=t.Object.prototype.toObject.call(this),r=new t.Group([]);if(delete n.type,r.set(n),e.forEach((function(e){e.canvas.remove(e),e.group=r})),r._objects=e,!this.canvas)return r;var o=this.canvas;return o.add(r),o._activeObject=r,r.setCoords(),r},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(e,t,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",e,t),void 0===(n=n||{}).hasControls&&(n.hasControls=!1),n.forActiveSelection=!0;for(var r=0,o=this._objects.length;r<o;r++)this._objects[r]._renderControls(e,n);e.restore()}}),t.ActiveSelection.fromObject=function(e,n){t.util.enlivenObjects(e.objects,(function(r){delete e.objects,n&&n(new t.ActiveSelection(r,e,!0))}))})}(t),function(e){"use strict";var t=j.util.object.extend;e.fabric||(e.fabric={}),e.fabric.Image?j.warn("fabric.Image is already defined."):(j.Image=j.util.createClass(j.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:j.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:j.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(e,t){t||(t={}),this.filters=[],this.cacheKey="texture"+j.Object.__uid++,this.callSuper("initialize",t),this._initElement(e,t)},getElement:function(){return this._element||{}},setElement:function(e,t){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=e,this._originalElement=e,this._initConfig(t),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(e){var t=j.filterBackend;t&&t.evictCachesForKey&&t.evictCachesForKey(e)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(e){j.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var e=this.getElement();return{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}},_stroke:function(e){if(this.stroke&&0!==this.strokeWidth){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,-n),e.lineTo(t,-n),e.lineTo(t,n),e.lineTo(-t,n),e.lineTo(-t,-n),e.closePath()}},toObject:function(e){var n=[];this.filters.forEach((function(e){e&&n.push(e.toObject())}));var r=t(this.callSuper("toObject",["cropX","cropY"].concat(e)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:n});return this.resizeFilter&&(r.resizeFilter=this.resizeFilter.toObject()),r},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var e,t=[],n=[],r=this._element,o=-this.width/2,s=-this.height/2,i="",a="";if(!r)return[];if(this.hasCrop()){var l=j.Object.__uid++;t.push('<clipPath id="imageCrop_'+l+'">\n','\t<rect x="'+o+'" y="'+s+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),i=' clip-path="url(#imageCrop_'+l+')" '}if(this.imageSmoothing||(a='" image-rendering="optimizeSpeed'),n.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',o-this.cropX,'" y="',s-this.cropY,'" width="',r.width||r.naturalWidth,'" height="',r.height||r.height,a,'"',i,"></image>\n"),this.stroke||this.strokeDashArray){var c=this.fill;this.fill=null,e=["\t<rect ",'x="',o,'" y="',s,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=c}return t="fill"!==this.paintFirst?t.concat(e,n):t.concat(n,e)},getSrc:function(e){var t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src"):t.src:this.src||""},setSrc:function(e,t,n){return j.util.loadImage(e,(function(e,r){this.setElement(e,n),this._setWidthHeight(),t&&t(this,r)}),this,n&&n.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var e=this.resizeFilter,t=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),r=n.scaleX,o=n.scaleY,s=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||r>t&&o>t)return this._element=s,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=r,void(this._lastScaleY=o);j.filterBackend||(j.filterBackend=j.initFilterBackend());var i=j.util.createCanvasElement(),a=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,l=s.width,c=s.height;i.width=l,i.height=c,this._element=i,this._lastScaleX=e.scaleX=r,this._lastScaleY=e.scaleY=o,j.filterBackend.applyFilters([e],s,l,c,this._element,a),this._filterScalingX=i.width/this._originalElement.width,this._filterScalingY=i.height/this._originalElement.height},applyFilters:function(e){if(e=(e=e||this.filters||[]).filter((function(e){return e&&!e.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===e.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var t=this._originalElement,n=t.naturalWidth||t.width,r=t.naturalHeight||t.height;if(this._element===this._originalElement){var o=j.util.createCanvasElement();o.width=n,o.height=r,this._element=o,this._filteredEl=o}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,r),this._lastScaleX=1,this._lastScaleY=1;return j.filterBackend||(j.filterBackend=j.initFilterBackend()),j.filterBackend.applyFilters(e,this._originalElement,n,r,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(e){j.util.setImageSmoothing(e,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)},drawCacheOnCanvas:function(e){j.util.setImageSmoothing(e,this.imageSmoothing),j.Object.prototype.drawCacheOnCanvas.call(this,e)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(e){var t=this._element;if(t){var n=this._filterScalingX,r=this._filterScalingY,o=this.width,s=this.height,i=Math.min,a=Math.max,l=a(this.cropX,0),c=a(this.cropY,0),u=t.naturalWidth||t.width,h=t.naturalHeight||t.height,d=l*n,f=c*r,p=i(o*n,u-d),m=i(s*r,h-f),g=-o/2,v=-s/2,_=i(o,u/n-l),j=i(s,h/r-c);t&&e.drawImage(t,d,f,p,m,g,v,_,j)}},_needsResize:function(){var e=this.getTotalObjectScaling();return e.scaleX!==this._lastScaleX||e.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(e,t){this.setElement(j.util.getById(e),t),j.util.addClass(this.getElement(),j.Image.CSS_CANVAS)},_initConfig:function(e){e||(e={}),this.setOptions(e),this._setWidthHeight(e)},_initFilters:function(e,t){e&&e.length?j.util.enlivenObjects(e,(function(e){t&&t(e)}),"fabric.Image.filters"):t&&t()},_setWidthHeight:function(e){e||(e={});var t=this.getElement();this.width=e.width||t.naturalWidth||t.width||0,this.height=e.height||t.naturalHeight||t.height||0},parsePreserveAspectRatioAttribute:function(){var e,t=j.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),n=this._element.width,r=this._element.height,o=1,s=1,i=0,a=0,l=0,c=0,u=this.width,h=this.height,d={width:u,height:h};return!t||"none"===t.alignX&&"none"===t.alignY?(o=u/n,s=h/r):("meet"===t.meetOrSlice&&(e=(u-n*(o=s=j.util.findScaleToFit(this._element,d)))/2,"Min"===t.alignX&&(i=-e),"Max"===t.alignX&&(i=e),e=(h-r*s)/2,"Min"===t.alignY&&(a=-e),"Max"===t.alignY&&(a=e)),"slice"===t.meetOrSlice&&(e=n-u/(o=s=j.util.findScaleToCover(this._element,d)),"Mid"===t.alignX&&(l=e/2),"Max"===t.alignX&&(l=e),e=r-h/s,"Mid"===t.alignY&&(c=e/2),"Max"===t.alignY&&(c=e),n=u/o,r=h/s)),{width:n,height:r,scaleX:o,scaleY:s,offsetLeft:i,offsetTop:a,cropX:l,cropY:c}}}),j.Image.CSS_CANVAS="canvas-img",j.Image.prototype.getSvgSrc=j.Image.prototype.getSrc,j.Image.fromObject=function(e,t){var n=j.util.object.clone(e);j.util.loadImage(n.src,(function(e,r){r?t&&t(null,!0):j.Image.prototype._initFilters.call(n,n.filters,(function(r){n.filters=r||[],j.Image.prototype._initFilters.call(n,[n.resizeFilter],(function(r){n.resizeFilter=r[0],j.util.enlivenObjectEnlivables(n,n,(function(){var r=new j.Image(e,n);t(r,!1)}))}))}))}),null,n.crossOrigin)},j.Image.fromURL=function(e,t,n){j.util.loadImage(e,(function(e,r){t&&t(new j.Image(e,n),r)}),null,n&&n.crossOrigin)},j.Image.ATTRIBUTE_NAMES=j.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),j.Image.fromElement=function(e,n,r){var o=j.parseAttributes(e,j.Image.ATTRIBUTE_NAMES);j.Image.fromURL(o["xlink:href"],n,t(r?j.util.object.clone(r):{},o))})}(t),j.util.object.extend(j.Object.prototype,{_getAngleValueForStraighten:function(){var e=this.angle%360;return e>0?90*Math.round((e-1)/90):90*Math.round(e/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(e){var t=function(){},n=(e=e||{}).onComplete||t,r=e.onChange||t,o=this;return j.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(e){o.rotate(e),r()},onComplete:function(){o.setCoords(),n()}})}}),j.util.object.extend(j.StaticCanvas.prototype,{straightenObject:function(e){return e.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(e){return e.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){"use strict";function e(e,t){var n="precision "+t+" float;\nvoid main(){}",r=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(r,n),e.compileShader(r),!!e.getShaderParameter(r,e.COMPILE_STATUS)}function t(e){e&&e.tileSize&&(this.tileSize=e.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}j.isWebglSupported=function(t){if(j.isLikelyNode)return!1;t=t||j.WebglFilterBackend.prototype.tileSize;var n=document.createElement("canvas"),r=n.getContext("webgl")||n.getContext("experimental-webgl"),o=!1;if(r){j.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),o=j.maxTextureSize>=t;for(var s=["highp","mediump","lowp"],i=0;i<3;i++)if(e(r,s[i])){j.webGlPrecision=s[i];break}}return this.isSupported=o,o},j.WebglFilterBackend=t,t.prototype={tileSize:2048,resources:{},setupGLContext:function(e,t){this.dispose(),this.createWebGLCanvas(e,t),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(e,t)},chooseFastestCopyGLTo2DMethod:function(e,t){var n,r=void 0!==window.performance;try{new ImageData(1,1),n=!0}catch(e){n=!1}var o="undefined"!=typeof ArrayBuffer,s="undefined"!=typeof Uint8ClampedArray;if(r&&n&&o&&s){var i=j.util.createCanvasElement(),a=new ArrayBuffer(e*t*4);if(j.forceGLPutImageData)return this.imageBuffer=a,void(this.copyGLTo2D=x);var l,c,u={imageBuffer:a,destinationWidth:e,destinationHeight:t,targetCanvas:i};i.width=e,i.height=t,l=window.performance.now(),b.call(u,this.gl,u),c=window.performance.now()-l,l=window.performance.now(),x.call(u,this.gl,u),c>window.performance.now()-l?(this.imageBuffer=a,this.copyGLTo2D=x):this.copyGLTo2D=b}},createWebGLCanvas:function(e,t){var n=j.util.createCanvasElement();n.width=e,n.height=t;var r={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},o=n.getContext("webgl",r);o||(o=n.getContext("experimental-webgl",r)),o&&(o.clearColor(0,0,0,0),this.canvas=n,this.gl=o)},applyFilters:function(e,t,n,r,o,s){var i,a=this.gl;s&&(i=this.getCachedTexture(s,t));var l={originalWidth:t.width||t.originalWidth,originalHeight:t.height||t.originalHeight,sourceWidth:n,sourceHeight:r,destinationWidth:n,destinationHeight:r,context:a,sourceTexture:this.createTexture(a,n,r,!i&&t),targetTexture:this.createTexture(a,n,r),originalTexture:i||this.createTexture(a,n,r,!i&&t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:o},c=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,c),e.forEach((function(e){e&&e.applyTo(l)})),function(e){var t=e.targetCanvas,n=t.width,r=t.height,o=e.destinationWidth,s=e.destinationHeight;n===o&&r===s||(t.width=o,t.height=s)}(l),this.copyGLTo2D(a,l),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(l.sourceTexture),a.deleteTexture(l.targetTexture),a.deleteFramebuffer(c),o.getContext("2d").setTransform(1,0,0,1,0,0),l},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(e,t,n,r){var o=e.createTexture();return e.bindTexture(e.TEXTURE_2D,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),r?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),o},getCachedTexture:function(e,t){if(this.textureCache[e])return this.textureCache[e];var n=this.createTexture(this.gl,t.width,t.height,t);return this.textureCache[e]=n,n},evictCachesForKey:function(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])},copyGLTo2D:b,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var e=this.gl,t={renderer:"",vendor:""};if(!e)return t;var n=e.getExtension("WEBGL_debug_renderer_info");if(n){var r=e.getParameter(n.UNMASKED_RENDERER_WEBGL),o=e.getParameter(n.UNMASKED_VENDOR_WEBGL);r&&(t.renderer=r.toLowerCase()),o&&(t.vendor=o.toLowerCase())}return this.gpuInfo=t,t}}}(),function(){"use strict";var e=function(){};function t(){}j.Canvas2dFilterBackend=t,t.prototype={evictCachesForKey:e,dispose:e,clearWebGLCaches:e,resources:{},applyFilters:function(e,t,n,r,o){var s=o.getContext("2d");s.drawImage(t,0,0,n,r);var i={sourceWidth:n,sourceHeight:r,imageData:s.getImageData(0,0,n,r),originalEl:t,originalImageData:s.getImageData(0,0,n,r),canvasEl:o,ctx:s,filterBackend:this};return e.forEach((function(e){e.applyTo(i)})),i.imageData.width===n&&i.imageData.height===r||(o.width=i.imageData.width,o.height=i.imageData.height),s.putImageData(i.imageData,0,0),i}}}(),j.Image=j.Image||{},j.Image.filters=j.Image.filters||{},j.Image.filters.BaseFilter=j.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(e){e&&this.setOptions(e)},setOptions:function(e){for(var t in e)this[t]=e[t]},createProgram:function(e,t,n){t=t||this.fragmentSource,n=n||this.vertexSource,"highp"!==j.webGlPrecision&&(t=t.replace(/precision highp float/g,"precision "+j.webGlPrecision+" float"));var r=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+e.getShaderInfoLog(r));var o=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+e.getShaderInfoLog(o));var s=e.createProgram();if(e.attachShader(s,r),e.attachShader(s,o),e.linkProgram(s),!e.getProgramParameter(s,e.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+e.getProgramInfoLog(s));var i=this.getAttributeLocations(e,s),a=this.getUniformLocations(e,s)||{};return a.uStepW=e.getUniformLocation(s,"uStepW"),a.uStepH=e.getUniformLocation(s,"uStepH"),{program:s,attributeLocations:i,uniformLocations:a}},getAttributeLocations:function(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(e,t,n){var r=t.aPosition,o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)},_setupFrameBuffer:function(e){var t,n,r=e.context;e.passes>1?(t=e.destinationWidth,n=e.destinationHeight,e.sourceWidth===t&&e.sourceHeight===n||(r.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(r,t,n)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.targetTexture,0)):(r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish())},_swapTextures:function(e){e.passes--,e.pass++;var t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t},isNeutralState:function(){var e=this.mainParameter,t=j.Image.filters[this.type].prototype;if(e){if(Array.isArray(t[e])){for(var n=t[e].length;n--;)if(this[e][n]!==t[e][n])return!1;return!0}return t[e]===this[e]}return!1},applyTo:function(e){e.webgl?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},retrieveShader:function(e){return e.programCache.hasOwnProperty(this.type)||(e.programCache[this.type]=this.createProgram(e.context)),e.programCache[this.type]},applyToWebGL:function(e){var t=e.context,n=this.retrieveShader(e);0===e.pass&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(n.program),this.sendAttributeData(t,n.attributeLocations,e.aPosition),t.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,n.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(e,t,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)},unbindAdditionalTexture:function(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(e){this[this.mainParameter]=e},sendUniformData:function(){},createHelpLayer:function(e){if(!e.helpLayer){var t=document.createElement("canvas");t.width=e.sourceWidth,t.height=e.sourceHeight,e.helpLayer=t}},toObject:function(){var e={type:this.type},t=this.mainParameter;return t&&(e[t]=this[t]),e},toJSON:function(){return this.toObject()}}),j.Image.filters.BaseFilter.fromObject=function(e,t){var n=new j.Image.filters[e.type](e);return t&&t(n),n},function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.ColorMatrix=r(n.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(e){this.callSuper("initialize",e),this.matrix=this.matrix.slice(0)},applyTo2d:function(e){var t,n,r,o,s,i=e.imageData.data,a=i.length,l=this.matrix,c=this.colorsOnly;for(s=0;s<a;s+=4)t=i[s],n=i[s+1],r=i[s+2],c?(i[s]=t*l[0]+n*l[1]+r*l[2]+255*l[4],i[s+1]=t*l[5]+n*l[6]+r*l[7]+255*l[9],i[s+2]=t*l[10]+n*l[11]+r*l[12]+255*l[14]):(o=i[s+3],i[s]=t*l[0]+n*l[1]+r*l[2]+o*l[3]+255*l[4],i[s+1]=t*l[5]+n*l[6]+r*l[7]+o*l[8]+255*l[9],i[s+2]=t*l[10]+n*l[11]+r*l[12]+o*l[13]+255*l[14],i[s+3]=t*l[15]+n*l[16]+r*l[17]+o*l[18]+255*l[19])},getUniformLocations:function(e,t){return{uColorMatrix:e.getUniformLocation(t,"uColorMatrix"),uConstants:e.getUniformLocation(t,"uConstants")}},sendUniformData:function(e,t){var n=this.matrix,r=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],o=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,r),e.uniform4fv(t.uConstants,o)}}),t.Image.filters.ColorMatrix.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Brightness=r(n.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(e){if(0!==this.brightness){var t,n=e.imageData.data,r=n.length,o=Math.round(255*this.brightness);for(t=0;t<r;t+=4)n[t]=n[t]+o,n[t+1]=n[t+1]+o,n[t+2]=n[t+2]+o}},getUniformLocations:function(e,t){return{uBrightness:e.getUniformLocation(t,"uBrightness")}},sendUniformData:function(e,t){e.uniform1f(t.uBrightness,this.brightness)}}),t.Image.filters.Brightness.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.Image.filters,o=t.util.createClass;r.Convolute=o(r.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(e){var t=Math.sqrt(this.matrix.length),n=this.type+"_"+t+"_"+(this.opaque?1:0),r=this.fragmentSource[n];return e.programCache.hasOwnProperty(n)||(e.programCache[n]=this.createProgram(e.context,r)),e.programCache[n]},applyTo2d:function(e){var t,n,r,o,s,i,a,l,c,u,h,d,f,p=e.imageData,m=p.data,g=this.matrix,v=Math.round(Math.sqrt(g.length)),_=Math.floor(v/2),j=p.width,y=p.height,b=e.ctx.createImageData(j,y),x=b.data,w=this.opaque?1:0;for(h=0;h<y;h++)for(u=0;u<j;u++){for(s=4*(h*j+u),t=0,n=0,r=0,o=0,f=0;f<v;f++)for(d=0;d<v;d++)i=u+d-_,(a=h+f-_)<0||a>=y||i<0||i>=j||(l=4*(a*j+i),c=g[f*v+d],t+=m[l]*c,n+=m[l+1]*c,r+=m[l+2]*c,w||(o+=m[l+3]*c));x[s]=t,x[s+1]=n,x[s+2]=r,x[s+3]=w?m[s+3]:o}e.imageData=b},getUniformLocations:function(e,t){return{uMatrix:e.getUniformLocation(t,"uMatrix"),uOpaque:e.getUniformLocation(t,"uOpaque"),uHalfSize:e.getUniformLocation(t,"uHalfSize"),uSize:e.getUniformLocation(t,"uSize")}},sendUniformData:function(e,t){e.uniform1fv(t.uMatrix,this.matrix)},toObject:function(){return n(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),t.Image.filters.Convolute.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Grayscale=r(n.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(e){var t,n,r=e.imageData.data,o=r.length,s=this.mode;for(t=0;t<o;t+=4)"average"===s?n=(r[t]+r[t+1]+r[t+2])/3:"lightness"===s?n=(Math.min(r[t],r[t+1],r[t+2])+Math.max(r[t],r[t+1],r[t+2]))/2:"luminosity"===s&&(n=.21*r[t]+.72*r[t+1]+.07*r[t+2]),r[t]=n,r[t+1]=n,r[t+2]=n},retrieveShader:function(e){var t=this.type+"_"+this.mode;if(!e.programCache.hasOwnProperty(t)){var n=this.fragmentSource[this.mode];e.programCache[t]=this.createProgram(e.context,n)}return e.programCache[t]},getUniformLocations:function(e,t){return{uMode:e.getUniformLocation(t,"uMode")}},sendUniformData:function(e,t){e.uniform1i(t.uMode,1)},isNeutralState:function(){return!1}}),t.Image.filters.Grayscale.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Invert=r(n.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(e){var t,n=e.imageData.data,r=n.length;for(t=0;t<r;t+=4)n[t]=255-n[t],n[t+1]=255-n[t+1],n[t+2]=255-n[t+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(e,t){return{uInvert:e.getUniformLocation(t,"uInvert")}},sendUniformData:function(e,t){e.uniform1i(t.uInvert,this.invert)}}),t.Image.filters.Invert.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.Image.filters,o=t.util.createClass;r.Noise=o(r.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(e){if(0!==this.noise){var t,n,r=e.imageData.data,o=r.length,s=this.noise;for(t=0,o=r.length;t<o;t+=4)n=(.5-Math.random())*s,r[t]+=n,r[t+1]+=n,r[t+2]+=n}},getUniformLocations:function(e,t){return{uNoise:e.getUniformLocation(t,"uNoise"),uSeed:e.getUniformLocation(t,"uSeed")}},sendUniformData:function(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())},toObject:function(){return n(this.callSuper("toObject"),{noise:this.noise})}}),t.Image.filters.Noise.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Pixelate=r(n.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(e){var t,n,r,o,s,i,a,l,c,u,h,d=e.imageData,f=d.data,p=d.height,m=d.width;for(n=0;n<p;n+=this.blocksize)for(r=0;r<m;r+=this.blocksize)for(o=f[t=4*n*m+4*r],s=f[t+1],i=f[t+2],a=f[t+3],u=Math.min(n+this.blocksize,p),h=Math.min(r+this.blocksize,m),l=n;l<u;l++)for(c=r;c<h;c++)f[t=4*l*m+4*c]=o,f[t+1]=s,f[t+2]=i,f[t+3]=a},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(e,t){return{uBlocksize:e.getUniformLocation(t,"uBlocksize"),uStepW:e.getUniformLocation(t,"uStepW"),uStepH:e.getUniformLocation(t,"uStepH")}},sendUniformData:function(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}),t.Image.filters.Pixelate.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.Image.filters,o=t.util.createClass;r.RemoveColor=o(r.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(e){var n,r,o,s,i=e.imageData.data,a=255*this.distance,l=new t.Color(this.color).getSource(),c=[l[0]-a,l[1]-a,l[2]-a],u=[l[0]+a,l[1]+a,l[2]+a];for(n=0;n<i.length;n+=4)r=i[n],o=i[n+1],s=i[n+2],r>c[0]&&o>c[1]&&s>c[2]&&r<u[0]&&o<u[1]&&s<u[2]&&(i[n+3]=0)},getUniformLocations:function(e,t){return{uLow:e.getUniformLocation(t,"uLow"),uHigh:e.getUniformLocation(t,"uHigh")}},sendUniformData:function(e,n){var r=new t.Color(this.color).getSource(),o=parseFloat(this.distance),s=[0+r[0]/255-o,0+r[1]/255-o,0+r[2]/255-o,1],i=[r[0]/255+o,r[1]/255+o,r[2]/255+o,1];e.uniform4fv(n.uLow,s),e.uniform4fv(n.uHigh,i)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),t.Image.filters.RemoveColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass,o={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var s in o)n[s]=r(n.ColorMatrix,{type:s,matrix:o[s],mainParameter:!1,colorsOnly:!0}),t.Image.filters[s].fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters,r=t.util.createClass;n.BlendColor=r(n.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(e){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[e]+"}\n}"},retrieveShader:function(e){var t,n=this.type+"_"+this.mode;return e.programCache.hasOwnProperty(n)||(t=this.buildSource(this.mode),e.programCache[n]=this.createProgram(e.context,t)),e.programCache[n]},applyTo2d:function(e){var n,r,o,s,i,a,l,c=e.imageData.data,u=c.length,h=1-this.alpha;n=(l=new t.Color(this.color).getSource())[0]*this.alpha,r=l[1]*this.alpha,o=l[2]*this.alpha;for(var d=0;d<u;d+=4)switch(s=c[d],i=c[d+1],a=c[d+2],this.mode){case"multiply":c[d]=s*n/255,c[d+1]=i*r/255,c[d+2]=a*o/255;break;case"screen":c[d]=255-(255-s)*(255-n)/255,c[d+1]=255-(255-i)*(255-r)/255,c[d+2]=255-(255-a)*(255-o)/255;break;case"add":c[d]=s+n,c[d+1]=i+r,c[d+2]=a+o;break;case"diff":case"difference":c[d]=Math.abs(s-n),c[d+1]=Math.abs(i-r),c[d+2]=Math.abs(a-o);break;case"subtract":c[d]=s-n,c[d+1]=i-r,c[d+2]=a-o;break;case"darken":c[d]=Math.min(s,n),c[d+1]=Math.min(i,r),c[d+2]=Math.min(a,o);break;case"lighten":c[d]=Math.max(s,n),c[d+1]=Math.max(i,r),c[d+2]=Math.max(a,o);break;case"overlay":c[d]=n<128?2*s*n/255:255-2*(255-s)*(255-n)/255,c[d+1]=r<128?2*i*r/255:255-2*(255-i)*(255-r)/255,c[d+2]=o<128?2*a*o/255:255-2*(255-a)*(255-o)/255;break;case"exclusion":c[d]=n+s-2*n*s/255,c[d+1]=r+i-2*r*i/255,c[d+2]=o+a-2*o*a/255;break;case"tint":c[d]=n+s*h,c[d+1]=r+i*h,c[d+2]=o+a*h}},getUniformLocations:function(e,t){return{uColor:e.getUniformLocation(t,"uColor")}},sendUniformData:function(e,n){var r=new t.Color(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,e.uniform4fv(n.uColor,r)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters,r=t.util.createClass;n.BlendImage=r(n.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(e){var t=this.type+"_"+this.mode,n=this.fragmentSource[this.mode];return e.programCache.hasOwnProperty(t)||(e.programCache[t]=this.createProgram(e.context,n)),e.programCache[t]},applyToWebGL:function(e){var t=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,n,t.TEXTURE1),this.callSuper("applyToWebGL",e),this.unbindAdditionalTexture(t,t.TEXTURE1)},createTexture:function(e,t){return e.getCachedTexture(t.cacheKey,t._element)},calculateMatrix:function(){var e=this.image,t=e._element.width,n=e._element.height;return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/t,-e.top/n,1]},applyTo2d:function(e){var n,r,o,s,i,a,l,c,u,h,d,f=e.imageData,p=e.filterBackend.resources,m=f.data,g=m.length,v=f.width,_=f.height,j=this.image;p.blendImage||(p.blendImage=t.util.createCanvasElement()),h=(u=p.blendImage).getContext("2d"),u.width!==v||u.height!==_?(u.width=v,u.height=_):h.clearRect(0,0,v,_),h.setTransform(j.scaleX,0,0,j.scaleY,j.left,j.top),h.drawImage(j._element,0,0,v,_),d=h.getImageData(0,0,v,_).data;for(var y=0;y<g;y+=4)switch(i=m[y],a=m[y+1],l=m[y+2],c=m[y+3],n=d[y],r=d[y+1],o=d[y+2],s=d[y+3],this.mode){case"multiply":m[y]=i*n/255,m[y+1]=a*r/255,m[y+2]=l*o/255,m[y+3]=c*s/255;break;case"mask":m[y+3]=s}},getUniformLocations:function(e,t){return{uTransformMatrix:e.getUniformLocation(t,"uTransformMatrix"),uImage:e.getUniformLocation(t,"uImage")}},sendUniformData:function(e,t){var n=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,n)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendImage.fromObject=function(e,n){t.Image.fromObject(e.image,(function(r){var o=t.util.object.clone(e);o.image=r,n(new t.Image.filters.BlendImage(o))}))}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=Math.pow,r=Math.floor,o=Math.sqrt,s=Math.abs,i=Math.round,a=Math.sin,l=Math.ceil,c=t.Image.filters,u=t.util.createClass;c.Resize=u(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(e,t){return{uDelta:e.getUniformLocation(t,"uDelta"),uTaps:e.getUniformLocation(t,"uTaps")}},sendUniformData:function(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)},retrieveShader:function(e){var t=this.getFilterWindow(),n=this.type+"_"+t;if(!e.programCache.hasOwnProperty(n)){var r=this.generateShader(t);e.programCache[n]=this.createProgram(e.context,r)}return e.programCache[n]},getFilterWindow:function(){var e=this.tempScale;return Math.ceil(this.lanczosLobes/e)},getTaps:function(){for(var e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,n=this.getFilterWindow(),r=new Array(n),o=1;o<=n;o++)r[o-1]=e(o*t);return r},generateShader:function(e){for(var t=new Array(e),n=this.fragmentSourceTOP,r=1;r<=e;r++)t[r-1]=r+".0 * uDelta";return n+="uniform float uTaps["+e+"];\n",n+="void main() {\n",n+="  vec4 color = texture2D(uTexture, vTexCoord);\n",n+="  float sum = 1.0;\n",t.forEach((function(e,t){n+="  color += texture2D(uTexture, vTexCoord + "+e+") * uTaps["+t+"];\n",n+="  color += texture2D(uTexture, vTexCoord - "+e+") * uTaps["+t+"];\n",n+="  sum += 2.0 * uTaps["+t+"];\n"})),n+="  gl_FragColor = color / sum;\n",n+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(e){e.webgl?(e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceHeight=e.destinationHeight):this.applyTo2d(e)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(e){return function(t){if(t>=e||t<=-e)return 0;if(t<1.1920929e-7&&t>-1.1920929e-7)return 1;var n=(t*=Math.PI)/e;return a(t)/t*a(n)/n}},applyTo2d:function(e){var t=e.imageData,n=this.scaleX,r=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/r;var o,s=t.width,a=t.height,l=i(s*n),c=i(a*r);"sliceHack"===this.resizeType?o=this.sliceByTwo(e,s,a,l,c):"hermite"===this.resizeType?o=this.hermiteFastResize(e,s,a,l,c):"bilinear"===this.resizeType?o=this.bilinearFiltering(e,s,a,l,c):"lanczos"===this.resizeType&&(o=this.lanczosResize(e,s,a,l,c)),e.imageData=o},sliceByTwo:function(e,n,o,s,i){var a,l,c=e.imageData,u=.5,h=!1,d=!1,f=n*u,p=o*u,m=t.filterBackend.resources,g=0,v=0,_=n,j=0;for(m.sliceByTwo||(m.sliceByTwo=document.createElement("canvas")),((a=m.sliceByTwo).width<1.5*n||a.height<o)&&(a.width=1.5*n,a.height=o),(l=a.getContext("2d")).clearRect(0,0,1.5*n,o),l.putImageData(c,0,0),s=r(s),i=r(i);!h||!d;)n=f,o=p,s<r(f*u)?f=r(f*u):(f=s,h=!0),i<r(p*u)?p=r(p*u):(p=i,d=!0),l.drawImage(a,g,v,n,o,_,j,f,p),g=_,v=j,j+=p;return l.getImageData(g,v,s,i)},lanczosResize:function(e,t,i,a,c){var u=e.imageData.data,h=e.ctx.createImageData(a,c),d=h.data,f=this.lanczosCreate(this.lanczosLobes),p=this.rcpScaleX,m=this.rcpScaleY,g=2/this.rcpScaleX,v=2/this.rcpScaleY,_=l(p*this.lanczosLobes/2),j=l(m*this.lanczosLobes/2),y={},b={},x={};return function e(l){var w,C,A,S,T,k,E,O,P,M,D;for(b.x=(l+.5)*p,x.x=r(b.x),w=0;w<c;w++){for(b.y=(w+.5)*m,x.y=r(b.y),T=0,k=0,E=0,O=0,P=0,C=x.x-_;C<=x.x+_;C++)if(!(C<0||C>=t)){M=r(1e3*s(C-b.x)),y[M]||(y[M]={});for(var L=x.y-j;L<=x.y+j;L++)L<0||L>=i||(D=r(1e3*s(L-b.y)),y[M][D]||(y[M][D]=f(o(n(M*g,2)+n(D*v,2))/1e3)),(A=y[M][D])>0&&(T+=A,k+=A*u[S=4*(L*t+C)],E+=A*u[S+1],O+=A*u[S+2],P+=A*u[S+3]))}d[S=4*(w*a+l)]=k/T,d[S+1]=E/T,d[S+2]=O/T,d[S+3]=P/T}return++l<a?e(l):h}(0)},bilinearFiltering:function(e,t,n,o,s){var i,a,l,c,u,h,d,f,p,m=0,g=this.rcpScaleX,v=this.rcpScaleY,_=4*(t-1),j=e.imageData.data,y=e.ctx.createImageData(o,s),b=y.data;for(l=0;l<s;l++)for(c=0;c<o;c++)for(u=g*c-(i=r(g*c)),h=v*l-(a=r(v*l)),p=4*(a*t+i),d=0;d<4;d++)f=j[p+d]*(1-u)*(1-h)+j[p+4+d]*u*(1-h)+j[p+_+d]*h*(1-u)+j[p+_+4+d]*u*h,b[m++]=f;return y},hermiteFastResize:function(e,t,n,i,a){for(var c=this.rcpScaleX,u=this.rcpScaleY,h=l(c/2),d=l(u/2),f=e.imageData.data,p=e.ctx.createImageData(i,a),m=p.data,g=0;g<a;g++)for(var v=0;v<i;v++){for(var _=4*(v+g*i),j=0,y=0,b=0,x=0,w=0,C=0,A=0,S=(g+.5)*u,T=r(g*u);T<(g+1)*u;T++)for(var k=s(S-(T+.5))/d,E=(v+.5)*c,O=k*k,P=r(v*c);P<(v+1)*c;P++){var M=s(E-(P+.5))/h,D=o(O+M*M);D>1&&D<-1||(j=2*D*D*D-3*D*D+1)>0&&(A+=j*f[(M=4*(P+T*t))+3],b+=j,f[M+3]<255&&(j=j*f[M+3]/250),x+=j*f[M],w+=j*f[M+1],C+=j*f[M+2],y+=j)}m[_]=x/y,m[_+1]=w/y,m[_+2]=C/y,m[_+3]=A/b}return p},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),t.Image.filters.Resize.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Contrast=r(n.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(e){if(0!==this.contrast){var t,n=e.imageData.data,r=n.length,o=Math.floor(255*this.contrast),s=259*(o+255)/(255*(259-o));for(t=0;t<r;t+=4)n[t]=s*(n[t]-128)+128,n[t+1]=s*(n[t+1]-128)+128,n[t+2]=s*(n[t+2]-128)+128}},getUniformLocations:function(e,t){return{uContrast:e.getUniformLocation(t,"uContrast")}},sendUniformData:function(e,t){e.uniform1f(t.uContrast,this.contrast)}}),t.Image.filters.Contrast.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Saturation=r(n.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(e){if(0!==this.saturation){var t,n,r=e.imageData.data,o=r.length,s=-this.saturation;for(t=0;t<o;t+=4)n=Math.max(r[t],r[t+1],r[t+2]),r[t]+=n!==r[t]?(n-r[t])*s:0,r[t+1]+=n!==r[t+1]?(n-r[t+1])*s:0,r[t+2]+=n!==r[t+2]?(n-r[t+2])*s:0}},getUniformLocations:function(e,t){return{uSaturation:e.getUniformLocation(t,"uSaturation")}},sendUniformData:function(e,t){e.uniform1f(t.uSaturation,-this.saturation)}}),t.Image.filters.Saturation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Vibrance=r(n.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(e){if(0!==this.vibrance){var t,n,r,o,s=e.imageData.data,i=s.length,a=-this.vibrance;for(t=0;t<i;t+=4)n=Math.max(s[t],s[t+1],s[t+2]),r=(s[t]+s[t+1]+s[t+2])/3,o=2*Math.abs(n-r)/255*a,s[t]+=n!==s[t]?(n-s[t])*o:0,s[t+1]+=n!==s[t+1]?(n-s[t+1])*o:0,s[t+2]+=n!==s[t+2]?(n-s[t+2])*o:0}},getUniformLocations:function(e,t){return{uVibrance:e.getUniformLocation(t,"uVibrance")}},sendUniformData:function(e,t){e.uniform1f(t.uVibrance,-this.vibrance)}}),t.Image.filters.Vibrance.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Blur=r(n.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(e){e.webgl?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},applyTo2d:function(e){e.imageData=this.simpleBlur(e)},simpleBlur:function(e){var n,r,o=e.filterBackend.resources,s=e.imageData.width,i=e.imageData.height;o.blurLayer1||(o.blurLayer1=t.util.createCanvasElement(),o.blurLayer2=t.util.createCanvasElement()),n=o.blurLayer1,r=o.blurLayer2,n.width===s&&n.height===i||(r.width=n.width=s,r.height=n.height=i);var a,l,c,u,h=n.getContext("2d"),d=r.getContext("2d"),f=15,p=.06*this.blur*.5;for(h.putImageData(e.imageData,0,0),d.clearRect(0,0,s,i),u=-15;u<=f;u++)c=p*(l=u/f)*s+(a=(Math.random()-.5)/4),d.globalAlpha=1-Math.abs(l),d.drawImage(n,c,a),h.drawImage(r,0,0),d.globalAlpha=1,d.clearRect(0,0,r.width,r.height);for(u=-15;u<=f;u++)c=p*(l=u/f)*i+(a=(Math.random()-.5)/4),d.globalAlpha=1-Math.abs(l),d.drawImage(n,a,c),h.drawImage(r,0,0),d.globalAlpha=1,d.clearRect(0,0,r.width,r.height);e.ctx.drawImage(n,0,0);var m=e.ctx.getImageData(0,0,n.width,n.height);return h.globalAlpha=1,h.clearRect(0,0,n.width,n.height),m},getUniformLocations:function(e,t){return{delta:e.getUniformLocation(t,"uDelta")}},sendUniformData:function(e,t){var n=this.chooseRightDelta();e.uniform2fv(t.delta,n)},chooseRightDelta:function(){var e,t=1,n=[0,0];return this.horizontal?this.aspectRatio>1&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio),e=t*this.blur*.12,this.horizontal?n[0]=e:n[1]=e,n}}),n.Blur.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Gamma=r(n.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(e){this.gamma=[1,1,1],n.BaseFilter.prototype.initialize.call(this,e)},applyTo2d:function(e){var t,n=e.imageData.data,r=this.gamma,o=n.length,s=1/r[0],i=1/r[1],a=1/r[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),t=0,o=256;t<o;t++)this.rVals[t]=255*Math.pow(t/255,s),this.gVals[t]=255*Math.pow(t/255,i),this.bVals[t]=255*Math.pow(t/255,a);for(t=0,o=n.length;t<o;t+=4)n[t]=this.rVals[n[t]],n[t+1]=this.gVals[n[t+1]],n[t+2]=this.bVals[n[t+2]]},getUniformLocations:function(e,t){return{uGamma:e.getUniformLocation(t,"uGamma")}},sendUniformData:function(e,t){e.uniform3fv(t.uGamma,this.gamma)}}),t.Image.filters.Gamma.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Composed=r(n.BaseFilter,{type:"Composed",subFilters:[],initialize:function(e){this.callSuper("initialize",e),this.subFilters=this.subFilters.slice(0)},applyTo:function(e){e.passes+=this.subFilters.length-1,this.subFilters.forEach((function(t){t.applyTo(e)}))},toObject:function(){return t.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(e){return e.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(e){return!e.isNeutralState()}))}}),t.Image.filters.Composed.fromObject=function(e,n){var r=(e.subFilters||[]).map((function(e){return new t.Image.filters[e.type](e)})),o=new t.Image.filters.Composed({subFilters:r});return n&&n(o),o}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.HueRotation=r(n.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var e=this.rotation*Math.PI,n=t.util.cos(e),r=t.util.sin(e),o=1/3,s=Math.sqrt(o)*r,i=1-n;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=n+i/3,this.matrix[1]=o*i-s,this.matrix[2]=o*i+s,this.matrix[5]=o*i+s,this.matrix[6]=n+o*i,this.matrix[7]=o*i-s,this.matrix[10]=o*i-s,this.matrix[11]=o*i+s,this.matrix[12]=n+o*i},isNeutralState:function(e){return this.calculateMatrix(),n.BaseFilter.prototype.isNeutralState.call(this,e)},applyTo:function(e){this.calculateMatrix(),n.BaseFilter.prototype.applyTo.call(this,e)}}),t.Image.filters.HueRotation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.clone;if(t.Text)t.warn("fabric.Text is already defined");else{var r="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");t.Text=t.util.createClass(t.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:t.Object.prototype.stateProperties.concat(r),cacheProperties:t.Object.prototype.cacheProperties.concat(r),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(e,t){this.styles=t&&t.styles||{},this.text=e,this.__skipDimension=!0,this.callSuper("initialize",t),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var e=this.path;e&&(e.segmentsInfo=t.util.getPathSegmentsInfo(e.path))},getMeasuringContext:function(){return t._measuringContext||(t._measuringContext=this.canvas&&this.canvas.contextCache||t.util.createCanvasElement().getContext("2d")),t._measuringContext},_splitText:function(){var e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var e,t,n,r,o,s,i,a=0,l=this._textLines.length;a<l;a++)if(("justify"===this.textAlign||a!==l-1&&!this.isEndOfWrapping(a))&&(r=0,o=this._textLines[a],(t=this.getLineWidth(a))<this.width&&(i=this.textLines[a].match(this._reSpacesAndTabs)))){n=i.length,e=(this.width-t)/n;for(var c=0,u=o.length;c<=u;c++)s=this.__charBounds[a][c],this._reSpaceAndTab.test(o[c])?(s.width+=e,s.kernedWidth+=e,s.left+=r,r+=e):s.left+=r}},isEndOfWrapping:function(e){return e===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var e=this.callSuper("_getCacheCanvasDimensions"),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e},_render:function(e){var t=this.path;t&&!t.isNotVisible()&&t._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")},_renderText:function(e){"stroke"===this.paintFirst?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))},_setTextStyles:function(e,t,n){if(e.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":e.textBaseline="middle";break;case"ascender":e.textBaseline="top";break;case"descender":e.textBaseline="bottom"}e.font=this._getFontDeclaration(t,n)},calcTextWidth:function(){for(var e=this.getLineWidth(0),t=1,n=this._textLines.length;t<n;t++){var r=this.getLineWidth(t);r>e&&(e=r)}return e},_renderTextLine:function(e,t,n,r,o,s){this._renderChars(e,t,n,r,o,s)},_renderTextLinesBackground:function(e){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var t,n,r,o,s,i,a,l=e.fillStyle,c=this._getLeftOffset(),u=this._getTopOffset(),h=0,d=0,f=this.path,p=0,m=this._textLines.length;p<m;p++)if(t=this.getHeightOfLine(p),this.textBackgroundColor||this.styleHas("textBackgroundColor",p)){r=this._textLines[p],n=this._getLineLeftOffset(p),d=0,h=0,o=this.getValueOfPropertyAt(p,0,"textBackgroundColor");for(var g=0,v=r.length;g<v;g++)s=this.__charBounds[p][g],i=this.getValueOfPropertyAt(p,g,"textBackgroundColor"),f?(e.save(),e.translate(s.renderLeft,s.renderTop),e.rotate(s.angle),e.fillStyle=i,i&&e.fillRect(-s.width/2,-t/this.lineHeight*(1-this._fontSizeFraction),s.width,t/this.lineHeight),e.restore()):i!==o?(a=c+n+h,"rtl"===this.direction&&(a=this.width-a-d),e.fillStyle=o,o&&e.fillRect(a,u,d,t/this.lineHeight),h=s.left,d=s.width,o=i):d+=s.kernedWidth;i&&!f&&(a=c+n+h,"rtl"===this.direction&&(a=this.width-a-d),e.fillStyle=i,e.fillRect(a,u,d,t/this.lineHeight)),u+=t}else u+=t;e.fillStyle=l,this._removeShadow(e)}},getFontCache:function(e){var n=e.fontFamily.toLowerCase();t.charWidthsCache[n]||(t.charWidthsCache[n]={});var r=t.charWidthsCache[n],o=e.fontStyle.toLowerCase()+"_"+(e.fontWeight+"").toLowerCase();return r[o]||(r[o]={}),r[o]},_measureChar:function(e,t,n,r){var o,s,i,a,l=this.getFontCache(t),c=n+e,u=this._getFontDeclaration(t)===this._getFontDeclaration(r),h=t.fontSize/this.CACHE_FONT_SIZE;if(n&&void 0!==l[n]&&(i=l[n]),void 0!==l[e]&&(a=o=l[e]),u&&void 0!==l[c]&&(a=(s=l[c])-i),void 0===o||void 0===i||void 0===s){var d=this.getMeasuringContext();this._setTextStyles(d,t,!0)}return void 0===o&&(a=o=d.measureText(e).width,l[e]=o),void 0===i&&u&&n&&(i=d.measureText(n).width,l[n]=i),u&&void 0===s&&(s=d.measureText(c).width,l[c]=s,a=s-i),{width:o*h,kernedWidth:a*h}},getHeightOfChar:function(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")},measureLine:function(e){var t=this._measureLine(e);return 0!==this.charSpacing&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t},_measureLine:function(e){var n,r,o,s,i,a,l=0,c=this._textLines[e],u=new Array(c.length),h=0,d=this.path,f="right"===this.pathSide;for(this.__charBounds[e]=u,n=0;n<c.length;n++)r=c[n],s=this._getGraphemeBox(r,e,n,o),u[n]=s,l+=s.kernedWidth,o=r;if(u[n]={left:s?s.left+s.width:0,width:0,kernedWidth:0,height:this.fontSize},d){switch(a=d.segmentsInfo[d.segmentsInfo.length-1].length,(i=t.util.getPointOnPath(d.path,0,d.segmentsInfo)).x+=d.pathOffset.x,i.y+=d.pathOffset.y,this.textAlign){case"left":h=f?a-l:0;break;case"center":h=(a-l)/2;break;case"right":h=f?0:a-l}for(h+=this.pathStartOffset*(f?-1:1),n=f?c.length-1:0;f?n>=0:n<c.length;f?n--:n++)s=u[n],h>a?h%=a:h<0&&(h+=a),this._setGraphemeOnPath(h,s,i),h+=s.kernedWidth}return{width:l,numOfSpaces:0}},_setGraphemeOnPath:function(e,n,r){var o=e+n.kernedWidth/2,s=this.path,i=t.util.getPointOnPath(s.path,o,s.segmentsInfo);n.renderLeft=i.x-r.x,n.renderTop=i.y-r.y,n.angle=i.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(e,t,n,r,o){var s,i=this.getCompleteStyleDeclaration(t,n),a=r?this.getCompleteStyleDeclaration(t,n-1):{},l=this._measureChar(e,i,r,a),c=l.kernedWidth,u=l.width;0!==this.charSpacing&&(u+=s=this._getWidthOfCharSpacing(),c+=s);var h={width:u,left:0,height:i.fontSize,kernedWidth:c,deltaY:i.deltaY};if(n>0&&!o){var d=this.__charBounds[t][n-1];h.left=d.left+d.width+l.kernedWidth-l.width}return h},getHeightOfLine:function(e){if(this.__lineHeights[e])return this.__lineHeights[e];for(var t=this._textLines[e],n=this.getHeightOfChar(e,0),r=1,o=t.length;r<o;r++)n=Math.max(this.getHeightOfChar(e,r),n);return this.__lineHeights[e]=n*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var e,t=0,n=0,r=this._textLines.length;n<r;n++)e=this.getHeightOfLine(n),t+=n===r-1?e/this.lineHeight:e;return t},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(e,t){e.save();for(var n=0,r=this._getLeftOffset(),o=this._getTopOffset(),s=0,i=this._textLines.length;s<i;s++){var a=this.getHeightOfLine(s),l=a/this.lineHeight,c=this._getLineLeftOffset(s);this._renderTextLine(t,e,this._textLines[s],r+c,o+n+l,s),n+=a}e.restore()},_renderTextFill:function(e){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(e,"fillText")},_renderTextStroke:function(e){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())},_renderChars:function(e,t,n,r,o,s){var i,a,l,c,u,h=this.getHeightOfLine(s),d=-1!==this.textAlign.indexOf("justify"),f="",p=0,m=this.path,g=!d&&0===this.charSpacing&&this.isEmptyStyles(s)&&!m,v="ltr"===this.direction,_="ltr"===this.direction?1:-1,j=t.canvas.getAttribute("dir");if(t.save(),j!==this.direction&&(t.canvas.setAttribute("dir",v?"ltr":"rtl"),t.direction=v?"ltr":"rtl",t.textAlign=v?"left":"right"),o-=h*this._fontSizeFraction/this.lineHeight,g)return this._renderChar(e,t,s,0,n.join(""),r,o,h),void t.restore();for(var y=0,b=n.length-1;y<=b;y++)c=y===b||this.charSpacing||m,f+=n[y],l=this.__charBounds[s][y],0===p?(r+=_*(l.kernedWidth-l.width),p+=l.width):p+=l.kernedWidth,d&&!c&&this._reSpaceAndTab.test(n[y])&&(c=!0),c||(i=i||this.getCompleteStyleDeclaration(s,y),a=this.getCompleteStyleDeclaration(s,y+1),c=this._hasStyleChanged(i,a)),c&&(m?(t.save(),t.translate(l.renderLeft,l.renderTop),t.rotate(l.angle),this._renderChar(e,t,s,y,f,-p/2,0,h),t.restore()):(u=r,this._renderChar(e,t,s,y,f,u,o,h)),f="",i=a,r+=_*p,p=0);t.restore()},_applyPatternGradientTransformText:function(e){var n,r=t.util.createCanvasElement(),o=this.width+this.strokeWidth,s=this.height+this.strokeWidth;return r.width=o,r.height=s,(n=r.getContext("2d")).beginPath(),n.moveTo(0,0),n.lineTo(o,0),n.lineTo(o,s),n.lineTo(0,s),n.closePath(),n.translate(o/2,s/2),n.fillStyle=e.toLive(n),this._applyPatternGradientTransform(n,e),n.fill(),n.createPattern(r,"no-repeat")},handleFiller:function(e,t,n){var r,o;return n.toLive?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?(r=-this.width/2,o=-this.height/2,e.translate(r,o),e[t]=this._applyPatternGradientTransformText(n),{offsetX:r,offsetY:o}):(e[t]=n.toLive(e,this),this._applyPatternGradientTransform(e,n)):(e[t]=n,{offsetX:0,offsetY:0})},_setStrokeStyles:function(e,t){return e.lineWidth=t.strokeWidth,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",t.stroke)},_setFillStyles:function(e,t){return this.handleFiller(e,"fillStyle",t.fill)},_renderChar:function(e,t,n,r,o,s,i){var a,l,c=this._getStyleDeclaration(n,r),u=this.getCompleteStyleDeclaration(n,r),h="fillText"===e&&u.fill,d="strokeText"===e&&u.stroke&&u.strokeWidth;(d||h)&&(t.save(),h&&(a=this._setFillStyles(t,u)),d&&(l=this._setStrokeStyles(t,u)),t.font=this._getFontDeclaration(u),c&&c.textBackgroundColor&&this._removeShadow(t),c&&c.deltaY&&(i+=c.deltaY),h&&t.fillText(o,s-a.offsetX,i-a.offsetY),d&&t.strokeText(o,s-l.offsetX,i-l.offsetY),t.restore())},setSuperscript:function(e,t){return this._setScript(e,t,this.superscript)},setSubscript:function(e,t){return this._setScript(e,t,this.subscript)},_setScript:function(e,t,n){var r=this.get2DCursorLocation(e,!0),o=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"fontSize"),s=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"deltaY"),i={fontSize:o*n.size,deltaY:s+o*n.baseline};return this.setSelectionStyles(i,e,t),this},_hasStyleChanged:function(e,t){return e.fill!==t.fill||e.stroke!==t.stroke||e.strokeWidth!==t.strokeWidth||e.fontSize!==t.fontSize||e.fontFamily!==t.fontFamily||e.fontWeight!==t.fontWeight||e.fontStyle!==t.fontStyle||e.deltaY!==t.deltaY},_hasStyleChangedForSvg:function(e,t){return this._hasStyleChanged(e,t)||e.overline!==t.overline||e.underline!==t.underline||e.linethrough!==t.linethrough},_getLineLeftOffset:function(e){var t=this.getLineWidth(e),n=this.width-t,r=this.textAlign,o=this.direction,s=0,i=this.isEndOfWrapping(e);return"justify"===r||"justify-center"===r&&!i||"justify-right"===r&&!i||"justify-left"===r&&!i?0:("center"===r&&(s=n/2),"right"===r&&(s=n),"justify-center"===r&&(s=n/2),"justify-right"===r&&(s=n),"rtl"===o&&(s-=n),s)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var e=this._forceClearCache;return e||(e=this.hasStateChanged("_dimensionAffectingProps")),e&&(this.dirty=!0,this._forceClearCache=!1),e},getLineWidth:function(e){if(void 0!==this.__lineWidths[e])return this.__lineWidths[e];var t=this.measureLine(e).width;return this.__lineWidths[e]=t,t},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(e,t,n){var r=this._getStyleDeclaration(e,t);return r&&void 0!==r[n]?r[n]:this[n]},_renderTextDecoration:function(e,t){if(this[t]||this.styleHas(t)){for(var n,r,o,s,i,a,l,c,u,h,d,f,p,m,g,v,_=this._getLeftOffset(),j=this._getTopOffset(),y=this.path,b=this._getWidthOfCharSpacing(),x=this.offsets[t],w=0,C=this._textLines.length;w<C;w++)if(n=this.getHeightOfLine(w),this[t]||this.styleHas(t,w)){l=this._textLines[w],m=n/this.lineHeight,s=this._getLineLeftOffset(w),h=0,d=0,c=this.getValueOfPropertyAt(w,0,t),v=this.getValueOfPropertyAt(w,0,"fill"),u=j+m*(1-this._fontSizeFraction),r=this.getHeightOfChar(w,0),i=this.getValueOfPropertyAt(w,0,"deltaY");for(var A=0,S=l.length;A<S;A++)if(f=this.__charBounds[w][A],p=this.getValueOfPropertyAt(w,A,t),g=this.getValueOfPropertyAt(w,A,"fill"),o=this.getHeightOfChar(w,A),a=this.getValueOfPropertyAt(w,A,"deltaY"),y&&p&&g)e.save(),e.fillStyle=v,e.translate(f.renderLeft,f.renderTop),e.rotate(f.angle),e.fillRect(-f.kernedWidth/2,x*o+a,f.kernedWidth,this.fontSize/15),e.restore();else if((p!==c||g!==v||o!==r||a!==i)&&d>0){var T=_+s+h;"rtl"===this.direction&&(T=this.width-T-d),c&&v&&(e.fillStyle=v,e.fillRect(T,u+x*r+i,d,this.fontSize/15)),h=f.left,d=f.width,c=p,v=g,r=o,i=a}else d+=f.kernedWidth;T=_+s+h;"rtl"===this.direction&&(T=this.width-T-d),e.fillStyle=g,p&&g&&e.fillRect(T,u+x*r+i,d-b,this.fontSize/15),j+=n}else j+=n;this._removeShadow(e)}},_getFontDeclaration:function(e,n){var r=e||this,o=this.fontFamily,s=t.Text.genericFonts.indexOf(o.toLowerCase())>-1,i=void 0===o||o.indexOf("'")>-1||o.indexOf(",")>-1||o.indexOf('"')>-1||s?r.fontFamily:'"'+r.fontFamily+'"';return[t.isLikelyNode?r.fontWeight:r.fontStyle,t.isLikelyNode?r.fontStyle:r.fontWeight,n?this.CACHE_FONT_SIZE+"px":r.fontSize+"px",i].join(" ")},render:function(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",e)))},_splitTextIntoLines:function(e){for(var n=e.split(this._reNewline),r=new Array(n.length),o=["\n"],s=[],i=0;i<n.length;i++)r[i]=t.util.string.graphemeSplit(n[i]),s=s.concat(r[i],o);return s.pop(),{_unwrappedLines:r,lines:n,graphemeText:s,graphemeLines:r}},toObject:function(e){var t=r.concat(e),o=this.callSuper("toObject",t);return o.styles=n(this.styles,!0),o.path&&(o.path=this.path.toObject()),o},set:function(e,t){this.callSuper("set",e,t);var n=!1,r=!1;if("object"==typeof e)for(var o in e)"path"===o&&this.setPathInfo(),n=n||-1!==this._dimensionAffectingProps.indexOf(o),r=r||"path"===o;else n=-1!==this._dimensionAffectingProps.indexOf(e),r="path"===e;return r&&this.setPathInfo(),n&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),t.Text.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),t.Text.DEFAULT_SVG_FONT_SIZE=16,t.Text.fromElement=function(e,r,o){if(!e)return r(null);var s=t.parseAttributes(e,t.Text.ATTRIBUTE_NAMES),i=s.textAnchor||"left";if((o=t.util.object.extend(o?n(o):{},s)).top=o.top||0,o.left=o.left||0,s.textDecoration){var a=s.textDecoration;-1!==a.indexOf("underline")&&(o.underline=!0),-1!==a.indexOf("overline")&&(o.overline=!0),-1!==a.indexOf("line-through")&&(o.linethrough=!0),delete o.textDecoration}"dx"in s&&(o.left+=s.dx),"dy"in s&&(o.top+=s.dy),"fontSize"in o||(o.fontSize=t.Text.DEFAULT_SVG_FONT_SIZE);var l="";"textContent"in e?l=e.textContent:"firstChild"in e&&null!==e.firstChild&&"data"in e.firstChild&&null!==e.firstChild.data&&(l=e.firstChild.data),l=l.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var c=o.strokeWidth;o.strokeWidth=0;var u=new t.Text(l,o),h=u.getScaledHeight()/u.height,d=((u.height+u.strokeWidth)*u.lineHeight-u.height)*h,f=u.getScaledHeight()+d,p=0;"center"===i&&(p=u.getScaledWidth()/2),"right"===i&&(p=u.getScaledWidth()),u.set({left:u.left-p,top:u.top-(f-u.fontSize*(.07+u._fontSizeFraction))/u.lineHeight,strokeWidth:void 0!==c?c:1}),r(u)},t.Text.fromObject=function(e,r){var o=n(e),s=e.path;return delete o.path,t.Object._fromObject("Text",o,(function(e){s?t.Object._fromObject("Path",s,(function(t){e.set("path",t),r(e)}),"path"):r(e)}),"text")},t.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],t.util.createAccessors&&t.util.createAccessors(t.Text)}}(t),j.util.object.extend(j.Text.prototype,{isEmptyStyles:function(e){if(!this.styles)return!0;if(void 0!==e&&!this.styles[e])return!0;var t=void 0===e?this.styles:{line:this.styles[e]};for(var n in t)for(var r in t[n])for(var o in t[n][r])return!1;return!0},styleHas:function(e,t){if(!this.styles||!e||""===e)return!1;if(void 0!==t&&!this.styles[t])return!1;var n=void 0===t?this.styles:{0:this.styles[t]};for(var r in n)for(var o in n[r])if(void 0!==n[r][o][e])return!0;return!1},cleanStyle:function(e){if(!this.styles||!e||""===e)return!1;var t,n,r=this.styles,o=0,s=!0,i=0;for(var a in r){for(var l in t=0,r[a]){var c;o++,(c=r[a][l]).hasOwnProperty(e)?(n?c[e]!==n&&(s=!1):n=c[e],c[e]===this[e]&&delete c[e]):s=!1,0!==Object.keys(c).length?t++:delete r[a][l]}0===t&&delete r[a]}for(var u=0;u<this._textLines.length;u++)i+=this._textLines[u].length;s&&o===i&&(this[e]=n,this.removeStyle(e))},removeStyle:function(e){if(this.styles&&e&&""!==e){var t,n,r,o=this.styles;for(n in o){for(r in t=o[n])delete t[r][e],0===Object.keys(t[r]).length&&delete t[r];0===Object.keys(t).length&&delete o[n]}}},_extendStyles:function(e,t){var n=this.get2DCursorLocation(e);this._getLineStyle(n.lineIndex)||this._setLineStyle(n.lineIndex),this._getStyleDeclaration(n.lineIndex,n.charIndex)||this._setStyleDeclaration(n.lineIndex,n.charIndex,{}),j.util.object.extend(this._getStyleDeclaration(n.lineIndex,n.charIndex),t)},get2DCursorLocation:function(e,t){void 0===e&&(e=this.selectionStart);for(var n=t?this._unwrappedTextLines:this._textLines,r=n.length,o=0;o<r;o++){if(e<=n[o].length)return{lineIndex:o,charIndex:e};e-=n[o].length+this.missingNewlineOffset(o)}return{lineIndex:o-1,charIndex:n[o-1].length<e?n[o-1].length:e}},getSelectionStyles:function(e,t,n){void 0===e&&(e=this.selectionStart||0),void 0===t&&(t=this.selectionEnd||e);for(var r=[],o=e;o<t;o++)r.push(this.getStyleAtPosition(o,n));return r},getStyleAtPosition:function(e,t){var n=this.get2DCursorLocation(e);return(t?this.getCompleteStyleDeclaration(n.lineIndex,n.charIndex):this._getStyleDeclaration(n.lineIndex,n.charIndex))||{}},setSelectionStyles:function(e,t,n){void 0===t&&(t=this.selectionStart||0),void 0===n&&(n=this.selectionEnd||t);for(var r=t;r<n;r++)this._extendStyles(r,e);return this._forceClearCache=!0,this},_getStyleDeclaration:function(e,t){var n=this.styles&&this.styles[e];return n?n[t]:null},getCompleteStyleDeclaration:function(e,t){for(var n,r=this._getStyleDeclaration(e,t)||{},o={},s=0;s<this._styleProperties.length;s++)o[n=this._styleProperties[s]]=void 0===r[n]?this[n]:r[n];return o},_setStyleDeclaration:function(e,t,n){this.styles[e][t]=n},_deleteStyleDeclaration:function(e,t){delete this.styles[e][t]},_getLineStyle:function(e){return!!this.styles[e]},_setLineStyle:function(e){this.styles[e]={}},_deleteLineStyle:function(e){delete this.styles[e]}}),function(){function e(e){e.textDecoration&&(e.textDecoration.indexOf("underline")>-1&&(e.underline=!0),e.textDecoration.indexOf("line-through")>-1&&(e.linethrough=!0),e.textDecoration.indexOf("overline")>-1&&(e.overline=!0),delete e.textDecoration)}j.IText=j.util.createClass(j.Text,j.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(e,t){this.callSuper("initialize",e,t),this.initBehavior()},setSelectionStart:function(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)},setSelectionEnd:function(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)},_updateAndFire:function(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(e){this.clearContextTop(),this.callSuper("render",e),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(e){this.callSuper("_render",e)},clearContextTop:function(e){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this.canvas.contextTop,n=this.canvas.viewportTransform;t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(t),this._clearTextArea(t),e||t.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this._getCursorBoundaries(),t=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(e,t):this.renderSelection(e,t),t.restore()}},_clearTextArea:function(e){var t=this.width+4,n=this.height+4;e.clearRect(-t/2,-n/2,t,n)},_getCursorBoundaries:function(e){void 0===e&&(e=this.selectionStart);var t=this._getLeftOffset(),n=this._getTopOffset(),r=this._getCursorBoundariesOffsets(e);return{left:t,top:n,leftOffset:r.left,topOffset:r.top}},_getCursorBoundariesOffsets:function(e){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var t,n,r,o,s=0,i=0,a=this.get2DCursorLocation(e);r=a.charIndex,n=a.lineIndex;for(var l=0;l<n;l++)s+=this.getHeightOfLine(l);t=this._getLineLeftOffset(n);var c=this.__charBounds[n][r];return c&&(i=c.left),0!==this.charSpacing&&r===this._textLines[n].length&&(i-=this._getWidthOfCharSpacing()),o={top:s,left:t+(i>0?i:0)},"rtl"===this.direction&&(o.left*=-1),this.cursorOffsetCache=o,this.cursorOffsetCache},renderCursor:function(e,t){var n=this.get2DCursorLocation(),r=n.lineIndex,o=n.charIndex>0?n.charIndex-1:0,s=this.getValueOfPropertyAt(r,o,"fontSize"),i=this.scaleX*this.canvas.getZoom(),a=this.cursorWidth/i,l=e.topOffset,c=this.getValueOfPropertyAt(r,o,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-s*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(e,t),t.fillStyle=this.cursorColor||this.getValueOfPropertyAt(r,o,"fill"),t.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,t.fillRect(e.left+e.leftOffset-a/2,l+e.top+c,a,s)},renderSelection:function(e,t){for(var n=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,r=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,o=-1!==this.textAlign.indexOf("justify"),s=this.get2DCursorLocation(n),i=this.get2DCursorLocation(r),a=s.lineIndex,l=i.lineIndex,c=s.charIndex<0?0:s.charIndex,u=i.charIndex<0?0:i.charIndex,h=a;h<=l;h++){var d,f=this._getLineLeftOffset(h)||0,p=this.getHeightOfLine(h),m=0,g=0;if(h===a&&(m=this.__charBounds[a][c].left),h>=a&&h<l)g=o&&!this.isEndOfWrapping(h)?this.width:this.getLineWidth(h)||5;else if(h===l)if(0===u)g=this.__charBounds[l][u].left;else{var v=this._getWidthOfCharSpacing();g=this.__charBounds[l][u-1].left+this.__charBounds[l][u-1].width-v}d=p,(this.lineHeight<1||h===l&&this.lineHeight>1)&&(p/=this.lineHeight);var _=e.left+f+m,j=g-m,y=p,b=0;this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",y=1,b=p):t.fillStyle=this.selectionColor,"rtl"===this.direction&&(_=this.width-_-j),t.fillRect(_,e.top+e.topOffset+b,j,y),e.topOffset+=d}},getCurrentCharFontSize:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")},getCurrentCharColor:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fill")},_getCurrentCharIndex:function(){var e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}}),j.IText.fromObject=function(t,n){if(e(t),t.styles)for(var r in t.styles)for(var o in t.styles[r])e(t.styles[r][o]);j.Object._fromObject("IText",t,n,"text")}}(),g=j.util.object.clone,j.util.object.extend(j.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var e=this;this.on("added",(function(){var t=e.canvas;t&&(t._hasITextHandlers||(t._hasITextHandlers=!0,e._initCanvasHandlers(t)),t._iTextInstances=t._iTextInstances||[],t._iTextInstances.push(e))}))},initRemovedHandler:function(){var e=this;this.on("removed",(function(){var t=e.canvas;t&&(t._iTextInstances=t._iTextInstances||[],j.util.removeFromArray(t._iTextInstances,e),0===t._iTextInstances.length&&(t._hasITextHandlers=!1,e._removeCanvasHandlers(t)))}))},_initCanvasHandlers:function(e){e._mouseUpITextHandler=function(){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.__isMousedown=!1}))},e.on("mouse:up",e._mouseUpITextHandler)},_removeCanvasHandlers:function(e){e.off("mouse:up",e._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(e,t,n,r){var o;return o={isAborted:!1,abort:function(){this.isAborted=!0}},e.animate("_currentCursorOpacity",t,{duration:n,onComplete:function(){o.isAborted||e[r]()},onChange:function(){e.canvas&&e.selectionStart===e.selectionEnd&&e.renderCursorOrSelection()},abort:function(){return o.isAborted}}),o},_onTickComplete:function(){var e=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){e._currentTickCompleteState=e._animateCursor(e,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(e){var t=this,n=e?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){t._tick()}),n)},abortCursorAnimation:function(){var e=this._currentTickState||this._currentTickCompleteState,t=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,e&&t&&t.clearContext(t.contextTop||t.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(e){var t=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n--;for(;/\S/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findWordBoundaryRight:function(e){var t=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},findLineBoundaryLeft:function(e){for(var t=0,n=e-1;!/\n/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findLineBoundaryRight:function(e){for(var t=0,n=e;!/\n/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},searchWordBoundary:function(e,t){for(var n=this._text,r=this._reSpace.test(n[e])?e-1:e,o=n[r],s=j.reNonWord;!s.test(o)&&r>0&&r<n.length;)o=n[r+=t];return s.test(o)&&(r+=1===t?0:1),r},selectWord:function(e){e=e||this.selectionStart;var t=this.searchWordBoundary(e,-1),n=this.searchWordBoundary(e,1);this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(e){e=e||this.selectionStart;var t=this.findLineBoundaryLeft(e),n=this.findLineBoundaryRight(e);return this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(e){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(e),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(e){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.selected=!1,e.isEditing&&e.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(e){if(this.__isMousedown&&this.isEditing){var t=this.getSelectionStartFromPointer(e.e),n=this.selectionStart,r=this.selectionEnd;(t===this.__selectionStartOnMouseDown&&n!==r||n!==t&&r!==t)&&(t>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=t):(this.selectionStart=t,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===r||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(e,t,n){var r=n.slice(0,e),o=j.util.string.graphemeSplit(r).length;if(e===t)return{selectionStart:o,selectionEnd:o};var s=n.slice(e,t);return{selectionStart:o,selectionEnd:o+j.util.string.graphemeSplit(s).length}},fromGraphemeToStringSelection:function(e,t,n){var r=n.slice(0,e).join("").length;return e===t?{selectionStart:r,selectionEnd:r}:{selectionStart:r,selectionEnd:r+n.slice(e,t).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var e=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),r=n.lineIndex,o=n.charIndex,s=this.getValueOfPropertyAt(r,o,"fontSize")*this.lineHeight,i=t.leftOffset,a=this.calcTransformMatrix(),l={x:t.left+i,y:t.top+t.topOffset+s},c=this.canvas.getRetinaScaling(),u=this.canvas.upperCanvasEl,h=u.width/c,d=u.height/c,f=h-s,p=d-s,m=u.clientWidth/h,g=u.clientHeight/d;return l=j.util.transformPoint(l,a),(l=j.util.transformPoint(l,this.canvas.viewportTransform)).x*=m,l.y*=g,l.x<0&&(l.x=0),l.x>f&&(l.x=f),l.y<0&&(l.y=0),l.y>p&&(l.y=p),l.x+=this.canvas._offset.left,l.y+=this.canvas._offset.top,{left:l.x+"px",top:l.y+"px",fontSize:s+"px",charHeight:s}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var e=this._textBeforeEdit!==this.text,t=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),e&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var e in this.styles)this._textLines[e]||delete this.styles[e]},removeStyleFromTo:function(e,t){var n,r,o=this.get2DCursorLocation(e,!0),s=this.get2DCursorLocation(t,!0),i=o.lineIndex,a=o.charIndex,l=s.lineIndex,c=s.charIndex;if(i!==l){if(this.styles[i])for(n=a;n<this._unwrappedTextLines[i].length;n++)delete this.styles[i][n];if(this.styles[l])for(n=c;n<this._unwrappedTextLines[l].length;n++)(r=this.styles[l][n])&&(this.styles[i]||(this.styles[i]={}),this.styles[i][a+n-c]=r);for(n=i+1;n<=l;n++)delete this.styles[n];this.shiftLineStyles(l,i-l)}else if(this.styles[i]){r=this.styles[i];var u,h,d=c-a;for(n=a;n<c;n++)delete r[n];for(h in this.styles[i])(u=parseInt(h,10))>=c&&(r[u-d]=r[h],delete r[h])}},shiftLineStyles:function(e,t){var n=g(this.styles);for(var r in this.styles){var o=parseInt(r,10);o>e&&(this.styles[o+t]=n[o],n[o-t]||delete this.styles[o])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(e,t,n,r){var o,s={},i=!1,a=this._unwrappedTextLines[e].length===t;for(var l in n||(n=1),this.shiftLineStyles(e,n),this.styles[e]&&(o=this.styles[e][0===t?t:t-1]),this.styles[e]){var c=parseInt(l,10);c>=t&&(i=!0,s[c-t]=this.styles[e][l],a&&0===t||delete this.styles[e][l])}var u=!1;for(i&&!a&&(this.styles[e+n]=s,u=!0),u&&n--;n>0;)r&&r[n-1]?this.styles[e+n]={0:g(r[n-1])}:o?this.styles[e+n]={0:g(o)}:delete this.styles[e+n],n--;this._forceClearCache=!0},insertCharStyleObject:function(e,t,n,r){this.styles||(this.styles={});var o=this.styles[e],s=o?g(o):{};for(var i in n||(n=1),s){var a=parseInt(i,10);a>=t&&(o[a+n]=s[a],s[a-n]||delete o[a])}if(this._forceClearCache=!0,r)for(;n--;)Object.keys(r[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][t+n]=g(r[n]));else if(o)for(var l=o[t?t-1:1];l&&n--;)this.styles[e][t+n]=g(l)},insertNewStyleBlock:function(e,t,n){for(var r=this.get2DCursorLocation(t,!0),o=[0],s=0,i=0;i<e.length;i++)"\n"===e[i]?o[++s]=0:o[s]++;for(o[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,o[0],n),n=n&&n.slice(o[0]+1)),s&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+o[0],s),i=1;i<s;i++)o[i]>0?this.insertCharStyleObject(r.lineIndex+i,0,o[i],n):n&&this.styles[r.lineIndex+i]&&n[0]&&(this.styles[r.lineIndex+i][0]=n[0]),n=n&&n.slice(o[i]+1);o[i]>0&&this.insertCharStyleObject(r.lineIndex+i,0,o[i],n)},setSelectionStartEndWithShift:function(e,t,n){n<=e?(t===e?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=e),this.selectionStart=n):n>e&&n<t?"right"===this._selectionDirection?this.selectionEnd=n:this.selectionStart=n:(t===e?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=t),this.selectionEnd=n)},setSelectionInBoundaries:function(){var e=this.text.length;this.selectionStart>e?this.selectionStart=e:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>e?this.selectionEnd=e:this.selectionEnd<0&&(this.selectionEnd=0)}}),j.util.object.extend(j.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(e){if(this.canvas){this.__newClickTime=+new Date;var t=e.pointer;this.isTripleClick(t)&&(this.fire("tripleclick",e),this._stopEvent(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=t,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y},_stopEvent:function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(e){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(e.e))},tripleClickHandler:function(e){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(e.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(e.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(e){if(this.__isMousedown=!1,!(!this.editable||this.group||e.transform&&e.transform.actionPerformed||e.e.button&&1!==e.e.button)){if(this.canvas){var t=this.canvas._activeObject;if(t&&t!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(e.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(e){var t=this.getSelectionStartFromPointer(e),n=this.selectionStart,r=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,r,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(e){for(var t,n=this.getLocalPointer(e),r=0,o=0,s=0,i=0,a=0,l=0,c=this._textLines.length;l<c&&s<=n.y;l++)s+=this.getHeightOfLine(l)*this.scaleY,a=l,l>0&&(i+=this._textLines[l-1].length+this.missingNewlineOffset(l-1));o=this._getLineLeftOffset(a)*this.scaleX,t=this._textLines[a],"rtl"===this.direction&&(n.x=this.width*this.scaleX-n.x+o);for(var u=0,h=t.length;u<h&&(r=o,(o+=this.__charBounds[a][u].kernedWidth*this.scaleX)<=n.x);u++)i++;return this._getNewSelectionStartFromOffset(n,r,o,i,h)},_getNewSelectionStartFromOffset:function(e,t,n,r,o){var s=e.x-t,i=n-e.x,a=r+(i>s||i<0?0:1);return this.flipX&&(a=o-a),a>this._text.length&&(a=this._text.length),a}}),j.util.object.extend(j.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=j.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var e=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+e.top+"; left: "+e.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; paddingｰtop: "+e.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):j.document.body.appendChild(this.hiddenTextarea),j.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),j.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),j.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),j.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),j.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),j.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),j.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),j.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),j.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(j.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(e){if(this.isEditing){var t="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(e.keyCode in t)this[t[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(e){var t=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation(),this.isEditing){var n,r,o,s,i,a=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,l=this._text.length,c=a.length,u=c-l,h=this.selectionStart,d=this.selectionEnd,f=h!==d;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var p=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),m=h>p.selectionStart;f?(n=this._text.slice(h,d),u+=d-h):c<l&&(n=m?this._text.slice(d+u,d):this._text.slice(h,h-u)),r=a.slice(p.selectionEnd-u,p.selectionEnd),n&&n.length&&(r.length&&(o=this.getSelectionStyles(h,h+1,!1),o=r.map((function(){return o[0]}))),f?(s=h,i=d):m?(s=d-n.length,i=d):(s=d,i=d+n.length),this.removeStyleFromTo(s,i)),r.length&&(t&&r.join("")===j.copiedText&&!j.disableStyleCopyPaste&&(o=j.copiedTextStyle),this.insertNewStyleBlock(r,h,o)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(e){this.compositionStart=e.target.selectionStart,this.compositionEnd=e.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(j.copiedText=this.getSelectedText(),j.disableStyleCopyPaste?j.copiedTextStyle=null:j.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(e){return e&&e.clipboardData||j.window.clipboardData},_getWidthBeforeCursor:function(e,t){var n,r=this._getLineLeftOffset(e);return t>0&&(r+=(n=this.__charBounds[e][t-1]).left+n.width),r},getDownCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),r=this.get2DCursorLocation(n),o=r.lineIndex;if(o===this._textLines.length-1||e.metaKey||34===e.keyCode)return this._text.length-n;var s=r.charIndex,i=this._getWidthBeforeCursor(o,s),a=this._getIndexOnLine(o+1,i);return this._textLines[o].slice(s).length+a+1+this.missingNewlineOffset(o)},_getSelectionForOffset:function(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),r=this.get2DCursorLocation(n),o=r.lineIndex;if(0===o||e.metaKey||33===e.keyCode)return-n;var s=r.charIndex,i=this._getWidthBeforeCursor(o,s),a=this._getIndexOnLine(o-1,i),l=this._textLines[o].slice(0,s),c=this.missingNewlineOffset(o-1);return-this._textLines[o-1].length+a-l.length+(1-c)},_getIndexOnLine:function(e,t){for(var n,r,o=this._textLines[e],s=this._getLineLeftOffset(e),i=0,a=0,l=o.length;a<l;a++)if((s+=n=this.__charBounds[e][a].width)>t){r=!0;var c=s-n,u=s,h=Math.abs(c-t);i=Math.abs(u-t)<h?a:a-1;break}return r||(i=o.length-1),i},moveCursorDown:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)},moveCursorUp:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",e)},_moveCursorUpOrDown:function(e,t){var n=this["get"+e+"CursorOffset"](t,"right"===this._selectionDirection);t.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(e){var t="left"===this._selectionDirection?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),0!==e},moveCursorWithoutShift:function(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),0!==e},moveCursorLeft:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",e)},_move:function(e,t,n){var r;if(e.altKey)r=this["findWordBoundary"+n](this[t]);else{if(!e.metaKey&&35!==e.keyCode&&36!==e.keyCode)return this[t]+="Left"===n?-1:1,!0;r=this["findLineBoundary"+n](this[t])}if(void 0!==typeof r&&this[t]!==r)return this[t]=r,!0},_moveLeft:function(e,t){return this._move(e,t,"Left")},_moveRight:function(e,t){return this._move(e,t,"Right")},moveCursorLeftWithoutShift:function(e){var t=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t},moveCursorLeftWithShift:function(e){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(e,"selectionStart")):void 0},moveCursorRight:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)},_moveCursorLeftOrRight:function(e,t){var n="moveCursor"+e+"With";this._currentCursorOpacity=1,t.shiftKey?n+="Shift":n+="outShift",this[n](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(e){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(e,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(e){var t=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t},removeChars:function(e,t){void 0===t&&(t=e+1),this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(e,t,n,r){void 0===r&&(r=n),r>n&&this.removeStyleFromTo(n,r);var o=j.util.string.graphemeSplit(e);this.insertNewStyleBlock(o,n,t),this._text=[].concat(this._text.slice(0,n),o,this._text.slice(r)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),v=j.util.toFixed,_=/  +/g,j.util.object.extend(j.Text.prototype,{_toSVG:function(){var e=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(e.textTop,e.textLeft);return this._wrapSVGTextAndBg(t)},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(e){var t=this.getSvgTextDecoration(this);return[e.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",t?'text-decoration="'+t+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(e,t){var n,r=[],o=[],s=e;this._setSVGBg(o);for(var i=0,a=this._textLines.length;i<a;i++)n=this._getLineLeftOffset(i),(this.textBackgroundColor||this.styleHas("textBackgroundColor",i))&&this._setSVGTextLineBg(o,i,t+n,s),this._setSVGTextLineText(r,i,t+n,s),s+=this.getHeightOfLine(i);return{textSpans:r,textBgRects:o}},_createTextCharSpan:function(e,t,n,r){var o=e!==e.trim()||e.match(_),s=this.getSvgSpanStyles(t,o),i=s?'style="'+s+'"':"",a=t.deltaY,l="",c=j.Object.NUM_FRACTION_DIGITS;return a&&(l=' dy="'+v(a,c)+'" '),['<tspan x="',v(n,c),'" y="',v(r,c),'" ',l,i,">",j.util.string.escapeXml(e),"</tspan>"].join("")},_setSVGTextLineText:function(e,t,n,r){var o,s,i,a,l,c=this.getHeightOfLine(t),u=-1!==this.textAlign.indexOf("justify"),h="",d=0,f=this._textLines[t];r+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var p=0,m=f.length-1;p<=m;p++)l=p===m||this.charSpacing,h+=f[p],i=this.__charBounds[t][p],0===d?(n+=i.kernedWidth-i.width,d+=i.width):d+=i.kernedWidth,u&&!l&&this._reSpaceAndTab.test(f[p])&&(l=!0),l||(o=o||this.getCompleteStyleDeclaration(t,p),s=this.getCompleteStyleDeclaration(t,p+1),l=this._hasStyleChangedForSvg(o,s)),l&&(a=this._getStyleDeclaration(t,p)||{},e.push(this._createTextCharSpan(h,a,n,r)),h="",o=s,n+=d,d=0)},_pushTextBgRect:function(e,t,n,r,o,s){var i=j.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(t),' x="',v(n,i),'" y="',v(r,i),'" width="',v(o,i),'" height="',v(s,i),'"></rect>\n')},_setSVGTextLineBg:function(e,t,n,r){for(var o,s,i=this._textLines[t],a=this.getHeightOfLine(t)/this.lineHeight,l=0,c=0,u=this.getValueOfPropertyAt(t,0,"textBackgroundColor"),h=0,d=i.length;h<d;h++)o=this.__charBounds[t][h],(s=this.getValueOfPropertyAt(t,h,"textBackgroundColor"))!==u?(u&&this._pushTextBgRect(e,u,n+c,r,l,a),c=o.left,l=o.width,u=s):l+=o.kernedWidth;s&&this._pushTextBgRect(e,s,n+c,r,l,a)},_getFillAttributes:function(e){var t=e&&"string"==typeof e?new j.Color(e):"";return t&&t.getSource()&&1!==t.getAlpha()?'opacity="'+t.getAlpha()+'" fill="'+t.setAlpha(1).toRgb()+'"':'fill="'+e+'"'},_getSVGLineTopOffset:function(e){for(var t,n=0,r=0;r<e;r++)n+=this.getHeightOfLine(r);return t=this.getHeightOfLine(r),{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*t/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(e){return j.Object.prototype.getSvgStyles.call(this,e)+" white-space: pre;"}}),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Textbox=t.util.createClass(t.IText,t.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:t.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(e){for(var t=0,n=0,r=0,o={},s=0;s<e.graphemeLines.length;s++)"\n"===e.graphemeText[r]&&s>0?(n=0,r++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[r])&&s>0&&(n++,r++),o[s]={line:t,offset:n},r+=e.graphemeLines[s].length,n+=e.graphemeLines[s].length;return o},styleHas:function(e,n){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[n];r&&(n=r.line)}return t.Text.prototype.styleHas.call(this,e,n)},isEmptyStyles:function(e){if(!this.styles)return!0;var t,n,r=0,o=!1,s=this._styleMap[e],i=this._styleMap[e+1];for(var a in s&&(e=s.line,r=s.offset),i&&(o=i.line===e,t=i.offset),n=void 0===e?this.styles:{line:this.styles[e]})for(var l in n[a])if(l>=r&&(!o||l<t))for(var c in n[a][l])return!1;return!0},_getStyleDeclaration:function(e,t){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[e];if(!n)return null;e=n.line,t=n.offset+t}return this.callSuper("_getStyleDeclaration",e,t)},_setStyleDeclaration:function(e,t,n){var r=this._styleMap[e];e=r.line,t=r.offset+t,this.styles[e][t]=n},_deleteStyleDeclaration:function(e,t){var n=this._styleMap[e];e=n.line,t=n.offset+t,delete this.styles[e][t]},_getLineStyle:function(e){var t=this._styleMap[e];return!!this.styles[t.line]},_setLineStyle:function(e){var t=this._styleMap[e];this.styles[t.line]={}},_wrapText:function(e,t){var n,r=[];for(this.isWrapping=!0,n=0;n<e.length;n++)r=r.concat(this._wrapLine(e[n],n,t));return this.isWrapping=!1,r},_measureWord:function(e,t,n){var r,o=0;n=n||0;for(var s=0,i=e.length;s<i;s++){o+=this._getGraphemeBox(e[s],t,s+n,r,true).kernedWidth,r=e[s]}return o},_wrapLine:function(e,n,r,o){var s=0,i=this.splitByGrapheme,a=[],l=[],c=i?t.util.string.graphemeSplit(e):e.split(this._wordJoiners),u="",h=0,d=i?"":" ",f=0,p=0,m=0,g=!0,v=this._getWidthOfCharSpacing();o=o||0;0===c.length&&c.push([]),r-=o;for(var _=0;_<c.length;_++)u=i?c[_]:t.util.string.graphemeSplit(c[_]),f=this._measureWord(u,n,h),h+=u.length,(s+=p+f-v)>r&&!g?(a.push(l),l=[],s=f,g=!0):s+=v,g||i||l.push(d),l=l.concat(u),p=i?0:this._measureWord([d],n,h),h++,g=!1,f>m&&(m=f);return _&&a.push(l),m+o>this.dynamicMinWidth&&(this.dynamicMinWidth=m-v+o),a},isEndOfWrapping:function(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line},missingNewlineOffset:function(e){return this.splitByGrapheme?this.isEndOfWrapping(e)?1:0:1},_splitTextIntoLines:function(e){for(var n=t.Text.prototype._splitTextIntoLines.call(this,e),r=this._wrapText(n.lines,this.width),o=new Array(r.length),s=0;s<r.length;s++)o[s]=r[s].join("");return n.lines=o,n.graphemeLines=r,n},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var e={};for(var t in this._styleMap)this._textLines[t]&&(e[this._styleMap[t].line]=1);for(var t in this.styles)e[t]||delete this.styles[t]},toObject:function(e){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(e))}}),t.Textbox.fromObject=function(e,n){return t.Object._fromObject("Textbox",e,n,"text")}}(t),function(){var e=j.controlsUtils,t=e.scaleSkewCursorStyleHandler,n=e.scaleCursorStyleHandler,r=e.scalingEqually,o=e.scalingYOrSkewingX,s=e.scalingXOrSkewingY,i=e.scaleOrSkewActionName,a=j.Object.prototype.controls;if(a.ml=new j.Control({x:-.5,y:0,cursorStyleHandler:t,actionHandler:s,getActionName:i}),a.mr=new j.Control({x:.5,y:0,cursorStyleHandler:t,actionHandler:s,getActionName:i}),a.mb=new j.Control({x:0,y:.5,cursorStyleHandler:t,actionHandler:o,getActionName:i}),a.mt=new j.Control({x:0,y:-.5,cursorStyleHandler:t,actionHandler:o,getActionName:i}),a.tl=new j.Control({x:-.5,y:-.5,cursorStyleHandler:n,actionHandler:r}),a.tr=new j.Control({x:.5,y:-.5,cursorStyleHandler:n,actionHandler:r}),a.bl=new j.Control({x:-.5,y:.5,cursorStyleHandler:n,actionHandler:r}),a.br=new j.Control({x:.5,y:.5,cursorStyleHandler:n,actionHandler:r}),a.mtr=new j.Control({x:0,y:-.5,actionHandler:e.rotationWithSnapping,cursorStyleHandler:e.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),j.Textbox){var l=j.Textbox.prototype.controls={};l.mtr=a.mtr,l.tr=a.tr,l.br=a.br,l.tl=a.tl,l.bl=a.bl,l.mt=a.mt,l.mb=a.mb,l.mr=new j.Control({x:.5,y:0,actionHandler:e.changeWidth,cursorStyleHandler:t,actionName:"resizing"}),l.ml=new j.Control({x:-.5,y:0,actionHandler:e.changeWidth,cursorStyleHandler:t,actionName:"resizing"})}}()},"./node_modules/file-saver/dist/FileSaver.min.js":function(e,t,n){var r,o,s;o=[],r=function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){l(r.response,t,n)},r.onerror=function(){},r.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,a=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,t,n){var a=i.URL||i.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?s(l):o(l.href)?r(e,t,n):s(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){s(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,i){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,i),n);else if(o(e))r(e,n,i);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){s(a)}))}}:function(e,t,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var s="application/octet-stream"===e.type,l=/constructor/i.test(i.HTMLElement)||i.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||a)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},u.readAsDataURL(e)}else{var h=i.URL||i.webkitURL,d=h.createObjectURL(e);o?o.location=d:location.href=d,o=null,setTimeout((function(){h.revokeObjectURL(d)}),4e4)}});i.saveAs=l.saveAs=l,e.exports=l},void 0===(s="function"==typeof r?r.apply(t,o):r)||(e.exports=s)},"./node_modules/regenerator-runtime/runtime.js":function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,s=Object.create(o.prototype),i=new k(r||[]);return s._invoke=function(e,t,n){var r=h;return function(o,s){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw s;return O()}for(n.method=o,n.arg=s;;){var i=n.delegate;if(i){var a=A(i,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var l=u(e,t,n);if("normal"===l.type){if(r=n.done?p:d,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(e,n,i),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",m={};function g(){}function v(){}function _(){}var j={};l(j,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(E([])));b&&b!==n&&r.call(b,s)&&(j=b);var x=_.prototype=g.prototype=Object.create(j);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,s,i,a){var l=u(e[o],e,s);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,i,a)}),(function(e){n("throw",e,i,a)})):t.resolve(h).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,a)}))}a(l.arg)}var o;this._invoke=function(e,r){function s(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(s,s):s()}}function A(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var s=o.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:O}}function O(){return{value:t,done:!0}}return v.prototype=_,l(x,"constructor",_),l(_,"constructor",v),v.displayName=l(_,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,a,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},w(C.prototype),l(C.prototype,i,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,o,s){void 0===s&&(s=Promise);var i=new C(c(t,n,r,o),s);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(x),l(x,a,"Generator"),l(x,s,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return a.type="throw",a.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=e,i.arg=t,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:E(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},"./src/MosaicBrush.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.reflect.construct.js");var r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),i=n("./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),a=n("./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),l=n("./node_modules/fabric/dist/fabric.js");function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,a.default)(e);if(t){var o=(0,a.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.default)(this,n)}}var u=function(e){(0,s.default)(n,e);var t=c(n);function n(e,o){var s;return(0,r.default)(this,n),(s=t.call(this,e,o)).source=s.getPatternSrc(),s}return(0,o.default)(n,[{key:"getPatternSrc",value:function(){var e=l.fabric.document.createElement("canvas");e.width=e.height=10;for(var t=e.getContext("2d"),n=t.createImageData(10,10),r=n.data,o=n.width,s=n.height,i=0;i<o;i++)for(var a=0;a<s;a++){var c=120*Math.random()+100,u=4*(i*o+a);r[u]=c,r[u+1]=c,r[u+2]=c,r[u+3]=255}return t.putImageData(n,0,0),e}}]),n}(l.fabric.PatternBrush)},"./src/screenshot-fabric-event.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js");var r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet.js"),i=n("./node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet.js"),a=(n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.string.split.js"),n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.array.map.js"),n("./node_modules/core-js/modules/es.string.trim.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.weak-map.js"),n("./node_modules/core-js/modules/esnext.weak-map.delete-all.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./src/utils.js"));function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw s}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}var h=new WeakMap,d=new WeakMap,f=function(){function e(t){(0,r.default)(this,e),u(this,h,{writable:!0,value:{}}),u(this,d,{writable:!0,value:void 0}),(0,i.default)(this,d,t)}return(0,o.default)(e,[{key:"add",value:function(e,t){if(!e)throw new Error("Event must have types");if(!t)throw new Error("Function does not exist");var n,r=l(e.split(","));try{for(r.s();!(n=r.n()).done;){var o,i=n.value;(0,s.default)(this,h)[i]=(0,s.default)(this,h)[i]||[],(0,s.default)(this,h)[i].push(t),null===(o=(0,s.default)(this,d))||void 0===o||o.on(i,t)}}catch(e){r.e(e)}finally{r.f()}}},{key:"remove",value:function(e,t){var n=this;if(e){var r=e.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e}));if(t){var o,i=l(r);try{var c=function(){var e=o.value;(0,a.removeAll)((0,s.default)(n,h)[e],t,(function(t){var r;t&&(null===(r=(0,s.default)(n,d))||void 0===r||r.off(e,t))}))};for(i.s();!(o=i.n()).done;)c()}catch(e){i.e(e)}finally{i.f()}}else{var u,f=l(r);try{for(f.s();!(u=f.n()).done;){var p,m=u.value;null===(p=(0,s.default)(this,d))||void 0===p||p.off(m),delete(0,s.default)(this,h)[m]}}catch(e){f.e(e)}finally{f.f()}}}else if(t){var g=function(e){(0,a.removeAll)((0,s.default)(n,h)[e],t,(function(t){var r;t&&(null===(r=(0,s.default)(n,d))||void 0===r||r.off(e,t))}))};for(var v in(0,s.default)(this,h))g(v)}else for(var _ in(0,s.default)(this,h)){var j;null===(j=(0,s.default)(this,d))||void 0===j||j.off(_),delete(0,s.default)(this,h)[_]}}}]),e}()},"./src/screenshot-tool-event.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js");var r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet.js"),i=n("./node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet.js"),a=(n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.string.split.js"),n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.array.map.js"),n("./node_modules/core-js/modules/es.string.trim.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.weak-map.js"),n("./node_modules/core-js/modules/esnext.weak-map.delete-all.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./src/utils.js"));function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw s}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}var h=new WeakMap,d=new WeakMap,f=function(){function e(t){(0,r.default)(this,e),u(this,h,{writable:!0,value:{}}),u(this,d,{writable:!0,value:void 0}),(0,i.default)(this,d,t)}return(0,o.default)(e,[{key:"add",value:function(e,t){if(!e)throw new Error("Event must have types");if(!t)throw new Error("Function does not exist");var n,r=l(e.split(","));try{for(r.s();!(n=r.n()).done;){var o,i=n.value;(0,s.default)(this,h)[i]=(0,s.default)(this,h)[i]||[],(0,s.default)(this,h)[i].push(t),null===(o=(0,s.default)(this,d))||void 0===o||o.addEventListener(i,t)}}catch(e){r.e(e)}finally{r.f()}}},{key:"remove",value:function(e,t){var n=this;if(e){var r=e.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e}));if(t){var o,i=l(r);try{var c=function(){var e=o.value;(0,a.removeAll)((0,s.default)(n,h)[e],t,(function(t){var r;t&&(null===(r=(0,s.default)(n,d))||void 0===r||r.removeEventListener(e,t))}))};for(i.s();!(o=i.n()).done;)c()}catch(e){i.e(e)}finally{i.f()}}else{var u,f=l(r);try{for(f.s();!(u=f.n()).done;){var p,m=u.value,g=l((0,s.default)(this,h)[m]||[]);try{for(g.s();!(p=g.n()).done;){var v,_=p.value;null===(v=(0,s.default)(this,d))||void 0===v||v.removeEventListener(m,_)}}catch(e){g.e(e)}finally{g.f()}delete(0,s.default)(this,h)[m]}}catch(e){f.e(e)}finally{f.f()}}}else if(t){var j=function(e){(0,a.removeAll)((0,s.default)(n,h)[e],t,(function(t){var r;t&&(null===(r=(0,s.default)(n,d))||void 0===r||r.removeEventListener(e,t))}))};for(var y in(0,s.default)(this,h))j(y)}else for(var b in(0,s.default)(this,h)){var x,w=l((0,s.default)(this,h)[b]||[]);try{for(w.s();!(x=w.n()).done;){var C,A=x.value;null===(C=(0,s.default)(this,d))||void 0===C||C.removeEventListener(b,A)}}catch(e){w.e(e)}finally{w.f()}delete(0,s.default)(this,h)[b]}}}]),e}()},"./src/screenshot-tool.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet.js"),i=n("./node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet.js"),a=(n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/core-js/modules/es.string.trim.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.weak-map.js"),n("./node_modules/core-js/modules/esnext.weak-map.delete-all.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/es.weak-set.js"),n("./node_modules/core-js/modules/esnext.weak-set.add-all.js"),n("./node_modules/core-js/modules/esnext.weak-set.delete-all.js"),n("./src/screenshot-tool-event.js"));function l(e,t){u(e,t),t.add(e)}function c(e,t,n){u(e,t),t.set(e,n)}function u(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function h(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var d=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap,g=new WeakMap,v=new WeakMap,_=new WeakMap,j=new WeakMap,y=new WeakMap,b=new WeakSet,x=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name,o=t.icon,a=t.color,u=t.disabled,x=t.clickEvent,C=t.activeEvent,A=t.pauseEvent;(0,r.default)(this,e),l(this,b),c(this,d,{writable:!0,value:""}),c(this,f,{writable:!0,value:"white"}),c(this,p,{writable:!0,value:!1}),c(this,m,{writable:!0,value:!1}),c(this,g,{writable:!0,value:void 0}),c(this,v,{writable:!0,value:void 0}),c(this,_,{writable:!0,value:void 0}),c(this,j,{writable:!0,value:void 0}),c(this,y,{writable:!0,value:void 0}),(0,i.default)(this,j,document.createElement("div")),(0,s.default)(this,j).classList.add("screenshot-toolbar-tool"),h(this,b,w).call(this),n&&(this.name=n),a&&(this.color=a),u&&(this.disabled=u),o&&(this.icon=o),C&&(0,i.default)(this,v,C),A&&(0,i.default)(this,_,A),x&&this.events.add("click",x)}return(0,o.default)(e,[{key:"node",get:function(){return(0,s.default)(this,j)}},{key:"events",get:function(){return(0,s.default)(this,g)}},{key:"name",get:function(){return(0,s.default)(this,d)},set:function(e){var t;(0,i.default)(this,d,e),null===(t=this.node)||void 0===t||t.setAttribute("title",e)}},{key:"disabled",get:function(){return(0,s.default)(this,p)},set:function(e){var t,n;((0,i.default)(this,p,!!e),e)?(this.active=!1,null===(t=this.node)||void 0===t||t.classList.add("disabled")):null===(n=this.node)||void 0===n||n.classList.remove("disabled")}},{key:"active",get:function(){return(0,s.default)(this,m)},set:function(e){var t,n;this.active!==!!e&&((0,i.default)(this,m,!!e),e?(this.disabled=!1,null===(t=this.node)||void 0===t||t.classList.add("active"),(0,s.default)(this,v)&&(0,s.default)(this,v).call(this)):(null===(n=this.node)||void 0===n||n.classList.remove("active"),(0,s.default)(this,_)&&(0,s.default)(this,_).call(this)))}},{key:"color",get:function(){return(0,s.default)(this,f)},set:function(e){(0,i.default)(this,f,e),this.node&&(this.node.style.color=e)}},{key:"icon",get:function(){return(0,s.default)(this,y).classList},set:function(e){(0,s.default)(this,y)&&(0,s.default)(this,y).remove(),this.node&&e&&e.trim()&&((0,i.default)(this,y,document.createElement("span")),(0,s.default)(this,y).classList.add("screenshot-icon","icon-s-"+e.trim()),this.node.append((0,s.default)(this,y)))}}]),e}();function w(){(0,i.default)(this,g,new a.default(this.node))}},"./src/utils.js":function(e,t,n){"use strict";n.r(t),n.d(t,{addDragEvent:function(){return a},blobToDataURL:function(){return u},clearNode:function(){return i},dataURLToBlob:function(){return l},error:function(){return f},log:function(){return d},removeAll:function(){return p}});var r=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),o=n("./node_modules/@babel/runtime/regenerator/index.js"),s=n.n(o);n("./node_modules/core-js/modules/es.array.join.js"),n("./node_modules/core-js/modules/es.array.index-of.js"),n("./node_modules/core-js/modules/es.array.splice.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/web.url.js"),n("./node_modules/core-js/modules/web.url-search-params.js");function i(e){if(!(e instanceof window.HTMLElement))throw new Error("node must be HTMLElement");for(;e.firstChild;)e.removeChild(e.lastChild)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.node,n=e.moveNode,r=e.upNode,o=e.moveCallback,s=void 0===o?function(){}:o,i=e.downCallback,a=void 0===i?function(){}:i,l=e.upCallback,c=void 0===l?function(){}:l,u=e.last,h=void 0!==u&&u;if(!(t instanceof window.HTMLElement))throw new Error("node must be HTMLElement");var d=null;r=r||t,n=n||t,t.addEventListener("mousedown",p),r.addEventListener("mouseup",g);var f=!1;function p(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),f||(f=!0,d={x:e.clientX,y:e.clientY},n.addEventListener("mousemove",m),a({startPosition:d})))}function m(e){f&&(e.stopPropagation(),e.preventDefault(),s({startPosition:d,endPosition:{x:e.clientX,y:e.clientY}}))}function g(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),d&&(n.removeEventListener("mousemove",m),h||(t.removeEventListener("mousedown",p),r.removeEventListener("mouseup",g)),c({startPosition:d,endPosition:{x:e.clientX,y:e.clientY}}),d=null,f=!1))}function v(){h=!1,f=!1,n.removeEventListener("mousemove",m),t.removeEventListener("mousedown",p),r.removeEventListener("mouseup",g),d=null}return{stop:v}}function l(e){return c.apply(this,arguments)}function c(){return(c=(0,r.default)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch(t);case 2:return e.next=4,e.sent.blob();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return h.apply(this,arguments)}function h(){return(h=(0,r.default)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch(window.URL.createObjectURL(t));case 2:return e.next=4,e.sent.text();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]}function p(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=e.indexOf(t);r>-1;)n(e.splice(r,1)[0]),r=e.indexOf(t)}},"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/screenshot.scss":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/css-loader/dist/runtime/sourceMaps.js"),o=n.n(r),s=n("./node_modules/css-loader/dist/runtime/api.js"),i=n.n(s),a=n("./node_modules/css-loader/dist/runtime/getUrl.js"),l=n.n(a),c=new URL(n("data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M39 6H9C7.34315 6 6 7.34315 6 9V39C6 40.6569 7.34315 42 9 42H39C40.6569 42 42 40.6569 42 39V9C42 7.34315 40.6569 6 39 6Z%27 stroke=%27%23333%27 stroke-width=%274%27/%3E%3C/svg%3E"),n.b),u=new URL(n("data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Ccircle cx=%2724%27 cy=%2724%27 r=%2720%27 stroke=%27%23333%27 stroke-width=%274%27/%3E%3C/svg%3E"),n.b),h=new URL(n("data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect width=%2748%27 height=%2748%27 fill=%27white%27 fill-opacity=%270.01%27/%3E%3Cpath d=%27M5.32497 43.4998L13.81 43.5L44.9227 12.3873L36.4374 3.90204L5.32471 35.0147L5.32497 43.4998Z%27 fill=%27none%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M27.9521 12.3873L36.4374 20.8726%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3C/svg%3E"),n.b),d=new URL(n("data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect width=%2748%27 height=%2748%27 fill=%27white%27 fill-opacity=%270.01%27/%3E%3Cpath d=%27M44 36H36V44H44V36Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M28 36H20V44H28V36Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M12 36H4V44H12V36Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M44 20H36V28H44V20Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M28 20H20V28H28V20Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M12 20H4V28H12V20Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M44 4H36V12H44V4Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M28 4H20V12H28V4Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M12 4H4V12H12V4Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M20 12H12V20H20V12Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M20 28H12V36H20V28Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M36 12H28V20H36V12Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M36 28H28V36H36V28Z%27 fill=%27%23333%27/%3E%3C/svg%3E"),n.b),f=new URL(n("data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect width=%2748%27 height=%2748%27 fill=%27white%27 fill-opacity=%270.01%27/%3E%3Crect x=%276%27 y=%276%27 width=%2736%27 height=%2736%27 rx=%273%27 fill=%27none%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M16 19V16H32V19%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M22 34H26%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M24 18L24 34%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3C/svg%3E"),n.b),p=new URL(n("data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect width=%2748%27 height=%2748%27 fill=%27white%27 fill-opacity=%270.01%27/%3E%3Cpath d=%27M6 24.0083V42H42V24%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M33 23L24 32L15 23%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M23.9917 6V32%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3C/svg%3E"),n.b),m=new URL(n("data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M12.9998 8L6 14L12.9998 21%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M6 14H28.9938C35.8768 14 41.7221 19.6204 41.9904 26.5C42.2739 33.7696 36.2671 40 28.9938 40H11.9984%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3C/svg%3E"),n.b),g=new URL(n("data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect width=%2748%27 height=%2748%27 fill=%27white%27 fill-opacity=%270.01%27/%3E%3Cpath d=%27M43 11L16.875 37L5 25.1818%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3C/svg%3E"),n.b),v=new URL(n("data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect width=%2748%27 height=%2748%27 fill=%27white%27 fill-opacity=%270.01%27/%3E%3Cpath d=%27M8 8L40 40%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M8 40L40 8%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3C/svg%3E"),n.b),_=i()(o()),j=l()(c),y=l()(u),b=l()(h),x=l()(d),w=l()(f),C=l()(p),A=l()(m),S=l()(g),T=l()(v);_.push([e.id,".screenshot {\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.screenshot-image {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.screenshot-snipper {\n  position: absolute;\n  top: 0;\n  left: 0;\n  border-color: transparent;\n  border-style: solid;\n  -webkit-transform-origin: top left;\n      -ms-transform-origin: top left;\n          transform-origin: top left;\n  cursor: crosshair;\n}\n.screenshot-resizer {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  cursor: move;\n  z-index: 1;\n}\n.screenshot-resizer-wrapper {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border: 1px solid red;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.screenshot-resizer-wrapper * {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.screenshot-resizer-item {\n  position: absolute;\n  width: 5px;\n  height: 5px;\n  background-color: red;\n}\n.screenshot-resizer-top {\n  top: 0;\n  left: 50%;\n  -webkit-transform: translateX(-50%);\n      -ms-transform: translateX(-50%);\n          transform: translateX(-50%);\n  cursor: ns-resize;\n}\n.screenshot-resizer-topright {\n  top: 0;\n  right: 0;\n  cursor: nesw-resize;\n}\n.screenshot-resizer-right {\n  top: 50%;\n  right: 0;\n  -webkit-transform: translateY(-50%);\n      -ms-transform: translateY(-50%);\n          transform: translateY(-50%);\n  cursor: ew-resize;\n}\n.screenshot-resizer-bottomright {\n  bottom: 0;\n  right: 0;\n  cursor: nwse-resize;\n}\n.screenshot-resizer-bottom {\n  bottom: 0;\n  left: 50%;\n  -webkit-transform: translateX(-50%);\n      -ms-transform: translateX(-50%);\n          transform: translateX(-50%);\n  cursor: ns-resize;\n}\n.screenshot-resizer-bottomleft {\n  bottom: 0;\n  left: 0;\n  cursor: nesw-resize;\n}\n.screenshot-resizer-left {\n  top: 50%;\n  left: 0;\n  -webkit-transform: translateY(-50%);\n      -ms-transform: translateY(-50%);\n          transform: translateY(-50%);\n  cursor: ew-resize;\n}\n.screenshot-resizer-topleft {\n  top: 0;\n  left: 0;\n  cursor: nwse-resize;\n}\n.screenshot-sizeinfo {\n  display: none;\n  position: absolute;\n  left: 0;\n  top: -27px;\n  color: #fff;\n  padding: 0 8px;\n  font-size: 14px;\n  line-height: 22px;\n  background: rgba(0, 0, 0, 0.6);\n  white-space: nowrap;\n  z-index: 999;\n}\n.screenshot-toolbar {\n  position: absolute;\n  top: -webkit-calc(100% + 8px);\n  top: calc(100% + 8px);\n  right: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  background: rgba(0, 0, 0, 0.6);\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  padding: 5px 8px;\n  gap: 8px;\n  color: #fff;\n  z-index: 1000;\n}\n.screenshot-toolbar-divider {\n  background: rgba(255, 255, 255, 0.3);\n  width: 1px;\n  height: 22px;\n}\n.screenshot-toolbar-tool {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  padding: 5px;\n  cursor: pointer;\n}\n.screenshot-toolbar-tool .icon {\n  font-size: 22px;\n}\n.screenshot-toolbar-tool:hover {\n  background: rgba(0, 0, 0, 0.6);\n}\n.screenshot-toolbar-tool.active {\n  color: red !important;\n}\n.screenshot-toolbar-tool.disabled {\n  color: rgba(255, 255, 255, 0.3) !important;\n  cursor: not-allowed;\n}\n.screenshot-toolbar-tool.disabled:hover {\n  background: unset;\n}\n.screenshot-drawer {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.screenshot-icon.icon-s-square {\n  -webkit-mask: url("+j+") no-repeat 100% 100%;\n          mask: url("+j+") no-repeat 100% 100%;\n  background-color: currentColor;\n  height: 1em;\n  width: 1em;\n}\n.screenshot-icon.icon-s-circle {\n  -webkit-mask: url("+y+") no-repeat 100% 100%;\n          mask: url("+y+") no-repeat 100% 100%;\n  background-color: currentColor;\n  height: 1em;\n  width: 1em;\n}\n.screenshot-icon.icon-s-write {\n  -webkit-mask: url("+b+") no-repeat 100% 100%;\n          mask: url("+b+") no-repeat 100% 100%;\n  background-color: currentColor;\n  height: 1em;\n  width: 1em;\n}\n.screenshot-icon.icon-s-mosaic {\n  -webkit-mask: url("+x+") no-repeat 100% 100%;\n          mask: url("+x+") no-repeat 100% 100%;\n  background-color: currentColor;\n  height: 1em;\n  width: 1em;\n}\n.screenshot-icon.icon-s-text {\n  -webkit-mask: url("+w+") no-repeat 100% 100%;\n          mask: url("+w+") no-repeat 100% 100%;\n  background-color: currentColor;\n  height: 1em;\n  width: 1em;\n}\n.screenshot-icon.icon-s-download {\n  -webkit-mask: url("+C+") no-repeat 100% 100%;\n          mask: url("+C+") no-repeat 100% 100%;\n  background-color: currentColor;\n  height: 1em;\n  width: 1em;\n}\n.screenshot-icon.icon-s-return {\n  -webkit-mask: url("+A+") no-repeat 100% 100%;\n          mask: url("+A+") no-repeat 100% 100%;\n  background-color: currentColor;\n  height: 1em;\n  width: 1em;\n}\n.screenshot-icon.icon-s-check {\n  -webkit-mask: url("+S+") no-repeat 100% 100%;\n          mask: url("+S+") no-repeat 100% 100%;\n  background-color: currentColor;\n  height: 1em;\n  width: 1em;\n}\n.screenshot-icon.icon-s-close {\n  -webkit-mask: url("+T+") no-repeat 100% 100%;\n          mask: url("+T+") no-repeat 100% 100%;\n  background-color: currentColor;\n  height: 1em;\n  width: 1em;\n}","",{version:3,sources:["webpack://./src/screenshot.scss","webpack://./src/svg-encode.scss"],names:[],mappings:"AAEA;EACE,gBAAA;EACA,WAAA;EACA,YAAA;EACA,kBAAA;EACA,yBAAA;KAAA,sBAAA;MAAA,qBAAA;UAAA,iBAAA;AADF;AAGE;EACE,kBAAA;EACA,MAAA;EACA,OAAA;EACA,WAAA;EACA,YAAA;AADJ;AAIE;EACE,kBAAA;EACA,MAAA;EACA,OAAA;EACA,yBAAA;EACA,mBAAA;EACA,kCAAA;MAAA,8BAAA;UAAA,0BAAA;EACA,iBAAA;AAFJ;AAKE;EACE,kBAAA;EACA,MAAA;EACA,SAAA;EACA,OAAA;EACA,QAAA;EACA,YAAA;EACA,UAAA;AAHJ;AAKI;EACE,kBAAA;EACA,MAAA;EACA,OAAA;EACA,WAAA;EACA,YAAA;EACA,qBAAA;EACA,8BAAA;UAAA,sBAAA;AAHN;AAKM;EACE,8BAAA;UAAA,sBAAA;AAHR;AAOI;EACE,kBAAA;EACA,UAAA;EACA,WAAA;EACA,qBAAA;AALN;AAQI;EACE,MAAA;EACA,SAAA;EACA,mCAAA;MAAA,+BAAA;UAAA,2BAAA;EACA,iBAAA;AANN;AASI;EACE,MAAA;EACA,QAAA;EACA,mBAAA;AAPN;AAUI;EACE,QAAA;EACA,QAAA;EACA,mCAAA;MAAA,+BAAA;UAAA,2BAAA;EACA,iBAAA;AARN;AAWI;EACE,SAAA;EACA,QAAA;EACA,mBAAA;AATN;AAYI;EACE,SAAA;EACA,SAAA;EACA,mCAAA;MAAA,+BAAA;UAAA,2BAAA;EACA,iBAAA;AAVN;AAaI;EACE,SAAA;EACA,OAAA;EACA,mBAAA;AAXN;AAcI;EACE,QAAA;EACA,OAAA;EACA,mCAAA;MAAA,+BAAA;UAAA,2BAAA;EACA,iBAAA;AAZN;AAeI;EACE,MAAA;EACA,OAAA;EACA,mBAAA;AAbN;AAiBE;EACE,aAAA;EACA,kBAAA;EACA,OAAA;EACA,UAAA;EACA,WAAA;EACA,cAAA;EACA,eAAA;EACA,iBAAA;EACA,8BAAA;EACA,mBAAA;EACA,YAAA;AAfJ;AAkBE;EACE,kBAAA;EACA,6BAAA;EAAA,qBAAA;EACA,QAAA;EACA,oBAAA;EAAA,oBAAA;EAAA,aAAA;EACA,8BAAA;EACA,yBAAA;MAAA,sBAAA;UAAA,mBAAA;EACA,gBAAA;EACA,QAAA;EACA,WAAA;EACA,aAAA;AAhBJ;AAkBI;EACE,oCAAA;EACA,UAAA;EACA,YAAA;AAhBN;AAmBI;EACE,oBAAA;EAAA,oBAAA;EAAA,aAAA;EACA,yBAAA;MAAA,sBAAA;UAAA,mBAAA;EACA,wBAAA;MAAA,qBAAA;UAAA,uBAAA;EACA,YAAA;EACA,eAAA;AAjBN;AAmBM;EACE,eAAA;AAjBR;AAoBM;EACE,8BAAA;AAlBR;AAqBM;EACE,qBAAA;AAnBR;AAsBM;EACE,0CAAA;EACA,mBAAA;AApBR;AAsBQ;EACE,iBAAA;AApBV;AA0BE;EACE,kBAAA;EACA,MAAA;EACA,SAAA;EACA,OAAA;EACA,QAAA;AAxBJ;;AA6BE;ECCA,yEAAA;UAAA,iEAAA;EACA,8BAAA;EACA,WAAA;EACA,UAAA;AD1BF;AA0BE;ECHA,yEAAA;UAAA,iEAAA;EACA,8BAAA;EACA,WAAA;EACA,UAAA;ADpBF;AAwBE;ECPA,yEAAA;UAAA,iEAAA;EACA,8BAAA;EACA,WAAA;EACA,UAAA;ADdF;AAsBE;ECXA,yEAAA;UAAA,iEAAA;EACA,8BAAA;EACA,WAAA;EACA,UAAA;ADRF;AAoBE;ECfA,yEAAA;UAAA,iEAAA;EACA,8BAAA;EACA,WAAA;EACA,UAAA;ADFF;AAkBE;ECnBA,yEAAA;UAAA,iEAAA;EACA,8BAAA;EACA,WAAA;EACA,UAAA;ADIF;AAgBE;ECvBA,yEAAA;UAAA,iEAAA;EACA,8BAAA;EACA,WAAA;EACA,UAAA;ADUF;AAcE;EC3BA,yEAAA;UAAA,iEAAA;EACA,8BAAA;EACA,WAAA;EACA,UAAA;ADgBF;AAYE;EC/BA,yEAAA;UAAA,iEAAA;EACA,8BAAA;EACA,WAAA;EACA,UAAA;ADsBF",sourcesContent:['@import "svg-encode";\n\n.screenshot {\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  user-select: none;\n\n  &-image {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  &-snipper {\n    position: absolute;\n    top: 0;\n    left: 0;\n    border-color: transparent;\n    border-style: solid;\n    transform-origin: top left;\n    cursor: crosshair;\n  }\n\n  &-resizer {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    cursor: move;\n    z-index: 1;\n\n    &-wrapper {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      border: 1px solid red;\n      box-sizing: border-box;\n\n      * {\n        box-sizing: border-box;\n      }\n    }\n\n    &-item {\n      position: absolute;\n      width: 5px;\n      height: 5px;\n      background-color: red;\n    }\n\n    &-top {\n      top: 0;\n      left: 50%;\n      transform: translateX(-50%);\n      cursor: ns-resize;\n    }\n\n    &-topright {\n      top: 0;\n      right: 0;\n      cursor: nesw-resize;\n    }\n\n    &-right {\n      top: 50%;\n      right: 0;\n      transform: translateY(-50%);\n      cursor: ew-resize;\n    }\n\n    &-bottomright {\n      bottom: 0;\n      right: 0;\n      cursor: nwse-resize;\n    }\n\n    &-bottom {\n      bottom: 0;\n      left: 50%;\n      transform: translateX(-50%);\n      cursor: ns-resize;\n    }\n\n    &-bottomleft {\n      bottom: 0;\n      left: 0;\n      cursor: nesw-resize;\n    }\n\n    &-left {\n      top: 50%;\n      left: 0;\n      transform: translateY(-50%);\n      cursor: ew-resize;\n    }\n\n    &-topleft {\n      top: 0;\n      left: 0;\n      cursor: nwse-resize;\n    }\n  }\n\n  &-sizeinfo {\n    display: none;\n    position: absolute;\n    left: 0;\n    top: -27px;\n    color: #fff;\n    padding: 0 8px;\n    font-size: 14px;\n    line-height: 22px;\n    background: rgba(0, 0, 0, 0.6);\n    white-space: nowrap;\n    z-index: 999;\n  }\n\n  &-toolbar {\n    position: absolute;\n    top: calc(100% + 8px);\n    right: 0;\n    display: flex;\n    background: rgba(0, 0, 0, 0.6);\n    align-items: center;\n    padding: 5px 8px;\n    gap: 8px;\n    color: #fff;\n    z-index: 1000;\n\n    &-divider {\n      background: rgba(255, 255, 255, .3);\n      width: 1px;\n      height: 22px;\n    }\n\n    &-tool {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      padding: 5px;\n      cursor: pointer;\n\n      .icon {\n        font-size: 22px;\n      }\n\n      &:hover {\n        background: rgba(0, 0, 0, 0.6);\n      }\n\n      &.active {\n        color: red !important;\n      }\n\n      &.disabled {\n        color: rgba(255, 255, 255, .3) !important;\n        cursor: not-allowed;\n\n        &:hover {\n          background: unset;\n        }\n      }\n    }\n  }\n\n  &-drawer {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n  }\n}\n\n.screenshot-icon {\n  &.icon-s-square {\n    @include single-color-icon(\'<?xml version="1.0" encoding="UTF-8"?><svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M39 6H9C7.34315 6 6 7.34315 6 9V39C6 40.6569 7.34315 42 9 42H39C40.6569 42 42 40.6569 42 39V9C42 7.34315 40.6569 6 39 6Z" stroke="#333" stroke-width="4"/></svg>\');\n  }\n\n  &.icon-s-circle {\n    @include single-color-icon(\'<?xml version="1.0" encoding="UTF-8"?><svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="24" cy="24" r="20" stroke="#333" stroke-width="4"/></svg>\')\n  }\n\n  &.icon-s-write {\n    @include single-color-icon(\'<?xml version="1.0" encoding="UTF-8"?><svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M5.32497 43.4998L13.81 43.5L44.9227 12.3873L36.4374 3.90204L5.32471 35.0147L5.32497 43.4998Z" fill="none" stroke="#333" stroke-width="4" stroke-linejoin="round"/><path d="M27.9521 12.3873L36.4374 20.8726" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>\')\n  }\n\n  &.icon-s-mosaic {\n    @include single-color-icon(\'<?xml version="1.0" encoding="UTF-8"?><svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M44 36H36V44H44V36Z" fill="#333"/><path d="M28 36H20V44H28V36Z" fill="#333"/><path d="M12 36H4V44H12V36Z" fill="#333"/><path d="M44 20H36V28H44V20Z" fill="#333"/><path d="M28 20H20V28H28V20Z" fill="#333"/><path d="M12 20H4V28H12V20Z" fill="#333"/><path d="M44 4H36V12H44V4Z" fill="#333"/><path d="M28 4H20V12H28V4Z" fill="#333"/><path d="M12 4H4V12H12V4Z" fill="#333"/><path d="M20 12H12V20H20V12Z" fill="#333"/><path d="M20 28H12V36H20V28Z" fill="#333"/><path d="M36 12H28V20H36V12Z" fill="#333"/><path d="M36 28H28V36H36V28Z" fill="#333"/></svg>\')\n  }\n\n  &.icon-s-text {\n    @include single-color-icon(\'<?xml version="1.0" encoding="UTF-8"?><svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><rect x="6" y="6" width="36" height="36" rx="3" fill="none" stroke="#333" stroke-width="4" stroke-linejoin="round"/><path d="M16 19V16H32V19" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M22 34H26" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M24 18L24 34" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>\')\n  }\n\n  &.icon-s-download {\n    @include single-color-icon(\'<?xml version="1.0" encoding="UTF-8"?><svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M6 24.0083V42H42V24" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M33 23L24 32L15 23" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M23.9917 6V32" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>\')\n  }\n\n  &.icon-s-return {\n    @include single-color-icon(\'<?xml version="1.0" encoding="UTF-8"?><svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.9998 8L6 14L12.9998 21" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M6 14H28.9938C35.8768 14 41.7221 19.6204 41.9904 26.5C42.2739 33.7696 36.2671 40 28.9938 40H11.9984" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>\')\n  }\n\n  &.icon-s-check {\n    @include single-color-icon(\'<?xml version="1.0" encoding="UTF-8"?><svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M43 11L16.875 37L5 25.1818" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>\')\n  }\n\n  &.icon-s-close {\n    @include single-color-icon(\'<?xml version="1.0" encoding="UTF-8"?><svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"/><path d="M8 8L40 40" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 40L40 8" stroke="#333" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>\')\n  }\n}\n',"@function str-replace($string, $search, $replace: '') {\n  $index: str-index($string, $search);\n  @if $index {\n    @return str-slice($string, 1, $index - 1) + $replace + str-replace(str-slice($string, $index + str-length($search)), $search, $replace);\n  }\n  @return $string;\n}\n\n$encoding-reference: (\n  //('%','%25'),  // Encode \"%\" first, otherwise the \"%\" from encoded code would be encoded again (which would be bad)\n                ('<', '%3C'),\n                ('>', '%3E'),\n          //('\"','%22'),  // Replace \" with ' because that's shorter than %22 and normally working\n                ('\"', '\\''),\n                ('#', '%23'),\n                ('&', '%26') // Here are a few more characters you could encode\n  //(' ','%20'),\n  //('!','%21'),\n  //('$','%24'),\n  //(',','%27'),\n  //('(','%28'),\n  //(')','%29'),\n  //('*','%2A'),\n  //('+','%2B'),\n  //('\"','%2C'),\n  //('/','%2F'),\n  //(':','%3A'),\n  //(';','%3B'),\n  //('=','%3D'),\n  //('?','%3F'),\n  //('@','%40'),\n  //('[','%5B'),\n  //(']','%5D'),\n  //('^','%5E'),\n  //('`','%60'),\n  //('{','%7B'),\n  //('|','%7C'),\n  //('}','%7D'),\n  //('~','%7E'),\n  //(',','%E2%80%9A'),\n  //('\\\\','%5C'),\n  //('_','%5F'),\n  //('-','%2D'),\n  //('.','%2E'),\n  // ('\\','%5C'),\n  // (' ','%7F'),\n  // ('`','%E2%82%AC'),\n  //('ƒ','%C6%92'),\n  //('„','%E2%80%9E'),\n  //('…','%E2%80%A6'),\n  //('†','%E2%80%A0'),\n  //('‡','%E2%80%A1'),\n  //('ˆ','%CB%86'),\n  //('‰','%E2%80%B0'),\n  //('Š','%C5%A0'),\n  //('‹','%E2%80%B9'),\n  //('Œ','%C5%92'),\n  //('','%C5%8D'),\n  //('Ž','%C5%BD'),\n  //('','%8F'),\n  //('','%C2%90'),\n  //(','%'E2%80%98'),\n  //(','%'E2%80%99'),\n  //('“','%E2%80%9C'),\n  //('”','%E2%80%9D'),\n  //('•','%E2%80%A2'),\n  //('–','%E2%80%93'),\n  //('—','%E2%80%94'),\n  //('˜','%CB%9C'),\n  //('™','%E2%84'),\n  //('š','%C5%A1'),\n  //('›','%E2%80'),\n  //('œ','%C5%93'),\n  //('','%9D'),\n  //('ž','%C5%BE'),\n  //('Ÿ','%C5%B8'),\n  //(' ','%C2%A0'),\n  //('¡','%C2%A1'),\n  //('¢','%C2%A2'),\n  //('£','%C2%A3'),\n  //('¤','%C2%A4'),\n  //('¥','%C2%A5'),\n  //('¦','%C2%A6'),\n  //('§','%C2%A7'),\n  //('¨','%C2%A8'),\n  //('©','%C2%A9'),\n  //('ª','%C2%AA'),\n  //('«','%C2%AB'),\n  //('¬','%C2%AC'),\n  //(','%'C2%AD'),\n  //('®','%C2%AE'),\n  //('¯','%C2%AF'),\n  //('°','%C2%B0'),\n  //('±','%C2%B1'),\n  //('²','%C2%B2'),\n  //('³','%C2%B3'),\n  //('´','%C2%B4'),\n  //('µ','%C2%B5'),\n  //('¶','%C2%B6'),\n  //('·','%C2%B7'),\n  //('¸','%C2%B8'),\n  //('¹','%C2%B9'),\n  //('º','%C2%BA'),\n  //('»','%C2%BB'),\n  //('¼','%C2%BC'),\n  //('½','%C2%BD'),\n  //('¾','%C2%BE'),\n  //('¿','%C2%BF'),\n  //('À','%C3%80'),\n  //('Á','%C3%81'),\n  //('Â','%C3%82'),\n  //('Ã','%C3%83'),\n  //('Ä','%C3%84'),\n  //('Å','%C3%85'),\n  //('Æ','%C3%86'),\n  //('Ç','%C3%87'),\n  //('È','%C3%88'),\n  //('É','%C3%89'),\n  //('Ê','%C3%8A'),\n  //('Ë','%C3%8B'),\n  //('Ì','%C3%8C'),\n  //('Í','%C3%8D'),\n  //('Î','%C3%8E'),\n  //('Ï','%C3%8F'),\n  //('Ð','%C3%90'),\n  //('Ñ','%C3%91'),\n  //('Ò','%C3%92'),\n  //('Ó','%C3%93'),\n  //('Ô','%C3%94'),\n  //('Õ','%C3%95'),\n  //('Ö','%C3%96'),\n  //('×','%C3%97'),\n  //('Ø','%C3%98'),\n  //('Ù','%C3%99'),\n  //('Ú','%C3%9A'),\n  //('Û','%C3%9B'),\n  //('Ü','%C3%9C'),\n  //('Ý','%C3%9D'),\n  //('Þ','%C3%9E'),\n  //('ß','%C3%9F'),\n  //('à','%C3%A0'),\n  //('á','%C3%A1'),\n  //('â','%C3%A2'),\n  //('ã','%C3%A3'),\n  //('ä','%C3%A4'),\n  //('å','%C3%A5'),\n  //('æ','%C3%A6'),\n  //('ç','%C3%A7'),\n  //('è','%C3%A8'),\n  //('é','%C3%A9'),\n  //('ê','%C3%AA'),\n  //('ë','%C3%AB'),\n  //('ì','%C3%AC'),\n  //('í','%C3%AD'),\n  //('î','%C3%AE'),\n  //('ï','%C3%AF'),\n  //('ð','%C3%B0'),\n  //('ñ','%C3%B1'),\n  //('ò','%C3%B2'),\n  //('ó','%C3%B3'),\n  //('ô','%C3%B4'),\n  //('õ','%C3%B5'),\n  //('ö','%C3%B6'),\n  //('÷','%C3%B7'),\n  //('ø','%C3%B8'),\n  //('ù','%C3%B9'),\n  //('ú','%C3%BA'),\n  //('û','%C3%BB'),\n  //('ü','%C3%BC'),\n  //('ý','%C3%BD'),\n  //('þ','%C3%BE'),\n  //('ÿ','%C3%BF')\n);\n\n@function svg-encode($svg) {\n  @each $char, $encoded in $encoding-reference {\n    $svg: str-replace($svg, $char, $encoded);\n  }\n  @return 'data:image/svg+xml;utf8,' + $svg;\n}\n\n// 单色图标\n@mixin single-color-icon($url) {\n  mask: url(svg-encode($url)) no-repeat 100% 100%;\n  background-color: currentColor;\n  height: 1em;\n  width: 1em;\n}\n\n// 彩色图标\n@mixin multi-color-icon($url) {\n  background: transparent url(svg-encode($url)) no-repeat 100% 100%;\n  height: 1em;\n  width: 1em;\n}\n"],sourceRoot:""}]),t.default=_},"./src/screenshot.scss":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=n.n(r),s=n("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),i=n.n(s),a=n("./node_modules/style-loader/dist/runtime/insertBySelector.js"),l=n.n(a),c=n("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),u=n.n(c),h=n("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),d=n.n(h),f=n("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),p=n.n(f),m=n("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/screenshot.scss"),g={};g.styleTagTransform=p(),g.setAttributes=u(),g.insert=l().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=d();o()(m.default,g);t.default=m.default&&m.default.locals?m.default.locals:void 0},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":function(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var s={},i=[],a=0;a<e.length;a++){var l=e[a],c=r.base?l[0]+r.base:l[0],u=s[c]||0,h="".concat(c," ").concat(u);s[c]=u+1;var d=n(h),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(f);else{var p=o(f,r);r.byIndex=a,t.splice(a,0,{identifier:h,updater:p,references:1})}i.push(h)}return i}function o(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var s=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<s.length;i++){var a=n(s[i]);t[a].references--}for(var l=r(e,o),c=0;c<s.length;c++){var u=n(s[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}s=l}}},"./node_modules/style-loader/dist/runtime/insertBySelector.js":function(e){"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":function(e){"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},"data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Ccircle cx=%2724%27 cy=%2724%27 r=%2720%27 stroke=%27%23333%27 stroke-width=%274%27/%3E%3C/svg%3E":function(e){"use strict";e.exports="data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Ccircle cx=%2724%27 cy=%2724%27 r=%2720%27 stroke=%27%23333%27 stroke-width=%274%27/%3E%3C/svg%3E"},"data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M12.9998 8L6 14L12.9998 21%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M6 14H28.9938C35.8768 14 41.7221 19.6204 41.9904 26.5C42.2739 33.7696 36.2671 40 28.9938 40H11.9984%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3C/svg%3E":function(e){"use strict";e.exports="data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M12.9998 8L6 14L12.9998 21%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M6 14H28.9938C35.8768 14 41.7221 19.6204 41.9904 26.5C42.2739 33.7696 36.2671 40 28.9938 40H11.9984%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3C/svg%3E"},"data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M39 6H9C7.34315 6 6 7.34315 6 9V39C6 40.6569 7.34315 42 9 42H39C40.6569 42 42 40.6569 42 39V9C42 7.34315 40.6569 6 39 6Z%27 stroke=%27%23333%27 stroke-width=%274%27/%3E%3C/svg%3E":function(e){"use strict";e.exports="data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M39 6H9C7.34315 6 6 7.34315 6 9V39C6 40.6569 7.34315 42 9 42H39C40.6569 42 42 40.6569 42 39V9C42 7.34315 40.6569 6 39 6Z%27 stroke=%27%23333%27 stroke-width=%274%27/%3E%3C/svg%3E"},"data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect width=%2748%27 height=%2748%27 fill=%27white%27 fill-opacity=%270.01%27/%3E%3Cpath d=%27M43 11L16.875 37L5 25.1818%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3C/svg%3E":function(e){"use strict";e.exports="data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect width=%2748%27 height=%2748%27 fill=%27white%27 fill-opacity=%270.01%27/%3E%3Cpath d=%27M43 11L16.875 37L5 25.1818%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3C/svg%3E"},"data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect width=%2748%27 height=%2748%27 fill=%27white%27 fill-opacity=%270.01%27/%3E%3Cpath d=%27M44 36H36V44H44V36Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M28 36H20V44H28V36Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M12 36H4V44H12V36Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M44 20H36V28H44V20Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M28 20H20V28H28V20Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M12 20H4V28H12V20Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M44 4H36V12H44V4Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M28 4H20V12H28V4Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M12 4H4V12H12V4Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M20 12H12V20H20V12Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M20 28H12V36H20V28Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M36 12H28V20H36V12Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M36 28H28V36H36V28Z%27 fill=%27%23333%27/%3E%3C/svg%3E":function(e){"use strict";e.exports="data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect width=%2748%27 height=%2748%27 fill=%27white%27 fill-opacity=%270.01%27/%3E%3Cpath d=%27M44 36H36V44H44V36Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M28 36H20V44H28V36Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M12 36H4V44H12V36Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M44 20H36V28H44V20Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M28 20H20V28H28V20Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M12 20H4V28H12V20Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M44 4H36V12H44V4Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M28 4H20V12H28V4Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M12 4H4V12H12V4Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M20 12H12V20H20V12Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M20 28H12V36H20V28Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M36 12H28V20H36V12Z%27 fill=%27%23333%27/%3E%3Cpath d=%27M36 28H28V36H36V28Z%27 fill=%27%23333%27/%3E%3C/svg%3E"},"data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect width=%2748%27 height=%2748%27 fill=%27white%27 fill-opacity=%270.01%27/%3E%3Cpath d=%27M5.32497 43.4998L13.81 43.5L44.9227 12.3873L36.4374 3.90204L5.32471 35.0147L5.32497 43.4998Z%27 fill=%27none%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M27.9521 12.3873L36.4374 20.8726%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3C/svg%3E":function(e){"use strict";e.exports="data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect width=%2748%27 height=%2748%27 fill=%27white%27 fill-opacity=%270.01%27/%3E%3Cpath d=%27M5.32497 43.4998L13.81 43.5L44.9227 12.3873L36.4374 3.90204L5.32471 35.0147L5.32497 43.4998Z%27 fill=%27none%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M27.9521 12.3873L36.4374 20.8726%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3C/svg%3E"},"data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect width=%2748%27 height=%2748%27 fill=%27white%27 fill-opacity=%270.01%27/%3E%3Cpath d=%27M6 24.0083V42H42V24%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M33 23L24 32L15 23%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M23.9917 6V32%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3C/svg%3E":function(e){"use strict";e.exports="data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect width=%2748%27 height=%2748%27 fill=%27white%27 fill-opacity=%270.01%27/%3E%3Cpath d=%27M6 24.0083V42H42V24%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M33 23L24 32L15 23%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M23.9917 6V32%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3C/svg%3E"},"data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect width=%2748%27 height=%2748%27 fill=%27white%27 fill-opacity=%270.01%27/%3E%3Cpath d=%27M8 8L40 40%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M8 40L40 8%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3C/svg%3E":function(e){"use strict";e.exports="data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect width=%2748%27 height=%2748%27 fill=%27white%27 fill-opacity=%270.01%27/%3E%3Cpath d=%27M8 8L40 40%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M8 40L40 8%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3C/svg%3E"},"data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect width=%2748%27 height=%2748%27 fill=%27white%27 fill-opacity=%270.01%27/%3E%3Crect x=%276%27 y=%276%27 width=%2736%27 height=%2736%27 rx=%273%27 fill=%27none%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M16 19V16H32V19%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M22 34H26%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M24 18L24 34%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3C/svg%3E":function(e){"use strict";e.exports="data:image/svg+xml;utf8,%3C?xml version=%271.0%27 encoding=%27UTF-8%27?%3E%3Csvg viewBox=%270 0 48 48%27 fill=%27none%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Crect width=%2748%27 height=%2748%27 fill=%27white%27 fill-opacity=%270.01%27/%3E%3Crect x=%276%27 y=%276%27 width=%2736%27 height=%2736%27 rx=%273%27 fill=%27none%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M16 19V16H32V19%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M22 34H26%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3Cpath d=%27M24 18L24 34%27 stroke=%27%23333%27 stroke-width=%274%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27/%3E%3C/svg%3E"},"?7b10":function(){},"?6799":function(){},"?9748":function(){},"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js":function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.r(t),n.d(t,{default:function(){return r}})},"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":function(e,t,n){"use strict";function r(e,t,n,r,o,s,i){try{var a=e[s](i),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,s){var i=e.apply(t,n);function a(e){r(i,o,s,a,l,"next",e)}function l(e){r(i,o,s,a,l,"throw",e)}a(void 0)}))}}n.r(t),n.d(t,{default:function(){return o}})},"./node_modules/@babel/runtime/helpers/esm/classApplyDescriptorGet.js":function(e,t,n){"use strict";function r(e,t){return t.get?t.get.call(e):t.value}n.r(t),n.d(t,{default:function(){return r}})},"./node_modules/@babel/runtime/helpers/esm/classApplyDescriptorSet.js":function(e,t,n){"use strict";function r(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}n.r(t),n.d(t,{default:function(){return r}})},"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.r(t),n.d(t,{default:function(){return r}})},"./node_modules/@babel/runtime/helpers/esm/classExtractFieldDescriptor.js":function(e,t,n){"use strict";function r(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}n.r(t),n.d(t,{default:function(){return r}})},"./node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n("./node_modules/@babel/runtime/helpers/esm/classApplyDescriptorGet.js"),o=n("./node_modules/@babel/runtime/helpers/esm/classExtractFieldDescriptor.js");function s(e,t){var n=(0,o.default)(e,t,"get");return(0,r.default)(e,n)}},"./node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n("./node_modules/@babel/runtime/helpers/esm/classApplyDescriptorSet.js"),o=n("./node_modules/@babel/runtime/helpers/esm/classExtractFieldDescriptor.js");function s(e,t,n){var s=(0,o.default)(e,t,"set");return(0,r.default)(e,s,n),n}},"./node_modules/@babel/runtime/helpers/esm/createClass.js":function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.r(t),n.d(t,{default:function(){return o}})},"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,{default:function(){return r}})},"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js":function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.r(t),n.d(t,{default:function(){return r}})},"./node_modules/@babel/runtime/helpers/esm/inherits.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n("./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.default)(e,t)}},"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n("./node_modules/@babel/runtime/helpers/esm/typeof.js"),o=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");function s(e,t){if(t&&("object"===(0,r.default)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.default)(e)}},"./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js":function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.r(t),n.d(t,{default:function(){return r}})},"./node_modules/@babel/runtime/helpers/esm/typeof.js":function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.r(t),n.d(t,{default:function(){return r}})},"./node_modules/lodash-es/_DataView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_getNative.js"),o=n("./node_modules/lodash-es/_root.js"),s=(0,r.default)(o.default,"DataView");t.default=s},"./node_modules/lodash-es/_Hash.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_hashClear.js"),o=n("./node_modules/lodash-es/_hashDelete.js"),s=n("./node_modules/lodash-es/_hashGet.js"),i=n("./node_modules/lodash-es/_hashHas.js"),a=n("./node_modules/lodash-es/_hashSet.js");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r.default,l.prototype.delete=o.default,l.prototype.get=s.default,l.prototype.has=i.default,l.prototype.set=a.default,t.default=l},"./node_modules/lodash-es/_ListCache.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_listCacheClear.js"),o=n("./node_modules/lodash-es/_listCacheDelete.js"),s=n("./node_modules/lodash-es/_listCacheGet.js"),i=n("./node_modules/lodash-es/_listCacheHas.js"),a=n("./node_modules/lodash-es/_listCacheSet.js");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r.default,l.prototype.delete=o.default,l.prototype.get=s.default,l.prototype.has=i.default,l.prototype.set=a.default,t.default=l},"./node_modules/lodash-es/_Map.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_getNative.js"),o=n("./node_modules/lodash-es/_root.js"),s=(0,r.default)(o.default,"Map");t.default=s},"./node_modules/lodash-es/_MapCache.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_mapCacheClear.js"),o=n("./node_modules/lodash-es/_mapCacheDelete.js"),s=n("./node_modules/lodash-es/_mapCacheGet.js"),i=n("./node_modules/lodash-es/_mapCacheHas.js"),a=n("./node_modules/lodash-es/_mapCacheSet.js");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r.default,l.prototype.delete=o.default,l.prototype.get=s.default,l.prototype.has=i.default,l.prototype.set=a.default,t.default=l},"./node_modules/lodash-es/_Promise.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_getNative.js"),o=n("./node_modules/lodash-es/_root.js"),s=(0,r.default)(o.default,"Promise");t.default=s},"./node_modules/lodash-es/_Set.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_getNative.js"),o=n("./node_modules/lodash-es/_root.js"),s=(0,r.default)(o.default,"Set");t.default=s},"./node_modules/lodash-es/_Stack.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_ListCache.js"),o=n("./node_modules/lodash-es/_stackClear.js"),s=n("./node_modules/lodash-es/_stackDelete.js"),i=n("./node_modules/lodash-es/_stackGet.js"),a=n("./node_modules/lodash-es/_stackHas.js"),l=n("./node_modules/lodash-es/_stackSet.js");function c(e){var t=this.__data__=new r.default(e);this.size=t.size}c.prototype.clear=o.default,c.prototype.delete=s.default,c.prototype.get=i.default,c.prototype.has=a.default,c.prototype.set=l.default,t.default=c},"./node_modules/lodash-es/_Symbol.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_root.js").default.Symbol;t.default=r},"./node_modules/lodash-es/_Uint8Array.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_root.js").default.Uint8Array;t.default=r},"./node_modules/lodash-es/_WeakMap.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_getNative.js"),o=n("./node_modules/lodash-es/_root.js"),s=(0,r.default)(o.default,"WeakMap");t.default=s},"./node_modules/lodash-es/_apply.js":function(e,t,n){"use strict";n.r(t),t.default=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},"./node_modules/lodash-es/_arrayEach.js":function(e,t,n){"use strict";n.r(t),t.default=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},"./node_modules/lodash-es/_arrayFilter.js":function(e,t,n){"use strict";n.r(t),t.default=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,s=[];++n<r;){var i=e[n];t(i,n,e)&&(s[o++]=i)}return s}},"./node_modules/lodash-es/_arrayLikeKeys.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseTimes.js"),o=n("./node_modules/lodash-es/isArguments.js"),s=n("./node_modules/lodash-es/isArray.js"),i=n("./node_modules/lodash-es/isBuffer.js"),a=n("./node_modules/lodash-es/_isIndex.js"),l=n("./node_modules/lodash-es/isTypedArray.js"),c=Object.prototype.hasOwnProperty;t.default=function(e,t){var n=(0,s.default)(e),u=!n&&(0,o.default)(e),h=!n&&!u&&(0,i.default)(e),d=!n&&!u&&!h&&(0,l.default)(e),f=n||u||h||d,p=f?(0,r.default)(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||(0,a.default)(g,m))||p.push(g);return p}},"./node_modules/lodash-es/_arrayPush.js":function(e,t,n){"use strict";n.r(t),t.default=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},"./node_modules/lodash-es/_assignMergeValue.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseAssignValue.js"),o=n("./node_modules/lodash-es/eq.js");t.default=function(e,t,n){(void 0!==n&&!(0,o.default)(e[t],n)||void 0===n&&!(t in e))&&(0,r.default)(e,t,n)}},"./node_modules/lodash-es/_assignValue.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseAssignValue.js"),o=n("./node_modules/lodash-es/eq.js"),s=Object.prototype.hasOwnProperty;t.default=function(e,t,n){var i=e[t];s.call(e,t)&&(0,o.default)(i,n)&&(void 0!==n||t in e)||(0,r.default)(e,t,n)}},"./node_modules/lodash-es/_assocIndexOf.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/eq.js");t.default=function(e,t){for(var n=e.length;n--;)if((0,r.default)(e[n][0],t))return n;return-1}},"./node_modules/lodash-es/_baseAssign.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_copyObject.js"),o=n("./node_modules/lodash-es/keys.js");t.default=function(e,t){return e&&(0,r.default)(t,(0,o.default)(t),e)}},"./node_modules/lodash-es/_baseAssignIn.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_copyObject.js"),o=n("./node_modules/lodash-es/keysIn.js");t.default=function(e,t){return e&&(0,r.default)(t,(0,o.default)(t),e)}},"./node_modules/lodash-es/_baseAssignValue.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_defineProperty.js");t.default=function(e,t,n){"__proto__"==t&&r.default?(0,r.default)(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},"./node_modules/lodash-es/_baseClone.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_Stack.js"),o=n("./node_modules/lodash-es/_arrayEach.js"),s=n("./node_modules/lodash-es/_assignValue.js"),i=n("./node_modules/lodash-es/_baseAssign.js"),a=n("./node_modules/lodash-es/_baseAssignIn.js"),l=n("./node_modules/lodash-es/_cloneBuffer.js"),c=n("./node_modules/lodash-es/_copyArray.js"),u=n("./node_modules/lodash-es/_copySymbols.js"),h=n("./node_modules/lodash-es/_copySymbolsIn.js"),d=n("./node_modules/lodash-es/_getAllKeys.js"),f=n("./node_modules/lodash-es/_getAllKeysIn.js"),p=n("./node_modules/lodash-es/_getTag.js"),m=n("./node_modules/lodash-es/_initCloneArray.js"),g=n("./node_modules/lodash-es/_initCloneByTag.js"),v=n("./node_modules/lodash-es/_initCloneObject.js"),_=n("./node_modules/lodash-es/isArray.js"),j=n("./node_modules/lodash-es/isBuffer.js"),y=n("./node_modules/lodash-es/isMap.js"),b=n("./node_modules/lodash-es/isObject.js"),x=n("./node_modules/lodash-es/isSet.js"),w=n("./node_modules/lodash-es/keys.js"),C=n("./node_modules/lodash-es/keysIn.js"),A="[object Arguments]",S="[object Function]",T="[object Object]",k={};k[A]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k[T]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k[S]=k["[object WeakMap]"]=!1,t.default=function e(t,n,E,O,P,M){var D,L=1&n,F=2&n,I=4&n;if(E&&(D=P?E(t,O,P,M):E(t)),void 0!==D)return D;if(!(0,b.default)(t))return t;var B=(0,_.default)(t);if(B){if(D=(0,m.default)(t),!L)return(0,c.default)(t,D)}else{var R=(0,p.default)(t),H=R==S||"[object GeneratorFunction]"==R;if((0,j.default)(t))return(0,l.default)(t,L);if(R==T||R==A||H&&!P){if(D=F||H?{}:(0,v.default)(t),!L)return F?(0,h.default)(t,(0,a.default)(D,t)):(0,u.default)(t,(0,i.default)(D,t))}else{if(!k[R])return P?t:{};D=(0,g.default)(t,R,L)}}M||(M=new r.default);var U=M.get(t);if(U)return U;M.set(t,D),(0,x.default)(t)?t.forEach((function(r){D.add(e(r,n,E,r,t,M))})):(0,y.default)(t)&&t.forEach((function(r,o){D.set(o,e(r,n,E,o,t,M))}));var V=I?F?f.default:d.default:F?C.default:w.default,W=B?void 0:V(t);return(0,o.default)(W||t,(function(r,o){W&&(r=t[o=r]),(0,s.default)(D,o,e(r,n,E,o,t,M))})),D}},"./node_modules/lodash-es/_baseCreate.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/isObject.js"),o=Object.create,s=function(){function e(){}return function(t){if(!(0,r.default)(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();t.default=s},"./node_modules/lodash-es/_baseFor.js":function(e,t,n){"use strict";n.r(t);var r=(0,n("./node_modules/lodash-es/_createBaseFor.js").default)();t.default=r},"./node_modules/lodash-es/_baseGetAllKeys.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_arrayPush.js"),o=n("./node_modules/lodash-es/isArray.js");t.default=function(e,t,n){var s=t(e);return(0,o.default)(e)?s:(0,r.default)(s,n(e))}},"./node_modules/lodash-es/_baseGetTag.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_Symbol.js"),o=n("./node_modules/lodash-es/_getRawTag.js"),s=n("./node_modules/lodash-es/_objectToString.js"),i=r.default?r.default.toStringTag:void 0;t.default=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?(0,o.default)(e):(0,s.default)(e)}},"./node_modules/lodash-es/_baseIsArguments.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseGetTag.js"),o=n("./node_modules/lodash-es/isObjectLike.js");t.default=function(e){return(0,o.default)(e)&&"[object Arguments]"==(0,r.default)(e)}},"./node_modules/lodash-es/_baseIsMap.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_getTag.js"),o=n("./node_modules/lodash-es/isObjectLike.js");t.default=function(e){return(0,o.default)(e)&&"[object Map]"==(0,r.default)(e)}},"./node_modules/lodash-es/_baseIsNative.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/isFunction.js"),o=n("./node_modules/lodash-es/_isMasked.js"),s=n("./node_modules/lodash-es/isObject.js"),i=n("./node_modules/lodash-es/_toSource.js"),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.default=function(e){return!(!(0,s.default)(e)||(0,o.default)(e))&&((0,r.default)(e)?d:a).test((0,i.default)(e))}},"./node_modules/lodash-es/_baseIsSet.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_getTag.js"),o=n("./node_modules/lodash-es/isObjectLike.js");t.default=function(e){return(0,o.default)(e)&&"[object Set]"==(0,r.default)(e)}},"./node_modules/lodash-es/_baseIsTypedArray.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseGetTag.js"),o=n("./node_modules/lodash-es/isLength.js"),s=n("./node_modules/lodash-es/isObjectLike.js"),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,t.default=function(e){return(0,s.default)(e)&&(0,o.default)(e.length)&&!!i[(0,r.default)(e)]}},"./node_modules/lodash-es/_baseKeys.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_isPrototype.js"),o=n("./node_modules/lodash-es/_nativeKeys.js"),s=Object.prototype.hasOwnProperty;t.default=function(e){if(!(0,r.default)(e))return(0,o.default)(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}},"./node_modules/lodash-es/_baseKeysIn.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/isObject.js"),o=n("./node_modules/lodash-es/_isPrototype.js"),s=n("./node_modules/lodash-es/_nativeKeysIn.js"),i=Object.prototype.hasOwnProperty;t.default=function(e){if(!(0,r.default)(e))return(0,s.default)(e);var t=(0,o.default)(e),n=[];for(var a in e)("constructor"!=a||!t&&i.call(e,a))&&n.push(a);return n}},"./node_modules/lodash-es/_baseMerge.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_Stack.js"),o=n("./node_modules/lodash-es/_assignMergeValue.js"),s=n("./node_modules/lodash-es/_baseFor.js"),i=n("./node_modules/lodash-es/_baseMergeDeep.js"),a=n("./node_modules/lodash-es/isObject.js"),l=n("./node_modules/lodash-es/keysIn.js"),c=n("./node_modules/lodash-es/_safeGet.js");t.default=function e(t,n,u,h,d){t!==n&&(0,s.default)(n,(function(s,l){if(d||(d=new r.default),(0,a.default)(s))(0,i.default)(t,n,l,u,e,h,d);else{var f=h?h((0,c.default)(t,l),s,l+"",t,n,d):void 0;void 0===f&&(f=s),(0,o.default)(t,l,f)}}),l.default)}},"./node_modules/lodash-es/_baseMergeDeep.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_assignMergeValue.js"),o=n("./node_modules/lodash-es/_cloneBuffer.js"),s=n("./node_modules/lodash-es/_cloneTypedArray.js"),i=n("./node_modules/lodash-es/_copyArray.js"),a=n("./node_modules/lodash-es/_initCloneObject.js"),l=n("./node_modules/lodash-es/isArguments.js"),c=n("./node_modules/lodash-es/isArray.js"),u=n("./node_modules/lodash-es/isArrayLikeObject.js"),h=n("./node_modules/lodash-es/isBuffer.js"),d=n("./node_modules/lodash-es/isFunction.js"),f=n("./node_modules/lodash-es/isObject.js"),p=n("./node_modules/lodash-es/isPlainObject.js"),m=n("./node_modules/lodash-es/isTypedArray.js"),g=n("./node_modules/lodash-es/_safeGet.js"),v=n("./node_modules/lodash-es/toPlainObject.js");t.default=function(e,t,n,_,j,y,b){var x=(0,g.default)(e,n),w=(0,g.default)(t,n),C=b.get(w);if(C)(0,r.default)(e,n,C);else{var A=y?y(x,w,n+"",e,t,b):void 0,S=void 0===A;if(S){var T=(0,c.default)(w),k=!T&&(0,h.default)(w),E=!T&&!k&&(0,m.default)(w);A=w,T||k||E?(0,c.default)(x)?A=x:(0,u.default)(x)?A=(0,i.default)(x):k?(S=!1,A=(0,o.default)(w,!0)):E?(S=!1,A=(0,s.default)(w,!0)):A=[]:(0,p.default)(w)||(0,l.default)(w)?(A=x,(0,l.default)(x)?A=(0,v.default)(x):(0,f.default)(x)&&!(0,d.default)(x)||(A=(0,a.default)(w))):S=!1}S&&(b.set(w,A),j(A,w,_,y,b),b.delete(w)),(0,r.default)(e,n,A)}}},"./node_modules/lodash-es/_baseRest.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/identity.js"),o=n("./node_modules/lodash-es/_overRest.js"),s=n("./node_modules/lodash-es/_setToString.js");t.default=function(e,t){return(0,s.default)((0,o.default)(e,t,r.default),e+"")}},"./node_modules/lodash-es/_baseSetToString.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/constant.js"),o=n("./node_modules/lodash-es/_defineProperty.js"),s=n("./node_modules/lodash-es/identity.js"),i=o.default?function(e,t){return(0,o.default)(e,"toString",{configurable:!0,enumerable:!1,value:(0,r.default)(t),writable:!0})}:s.default;t.default=i},"./node_modules/lodash-es/_baseTimes.js":function(e,t,n){"use strict";n.r(t),t.default=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},"./node_modules/lodash-es/_baseUnary.js":function(e,t,n){"use strict";n.r(t),t.default=function(e){return function(t){return e(t)}}},"./node_modules/lodash-es/_cloneArrayBuffer.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_Uint8Array.js");t.default=function(e){var t=new e.constructor(e.byteLength);return new r.default(t).set(new r.default(e)),t}},"./node_modules/lodash-es/_cloneBuffer.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_root.js"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=o&&"object"==typeof module&&module&&!module.nodeType&&module,i=s&&s.exports===o?r.default.Buffer:void 0,a=i?i.allocUnsafe:void 0;t.default=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}},"./node_modules/lodash-es/_cloneDataView.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_cloneArrayBuffer.js");t.default=function(e,t){var n=t?(0,r.default)(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},"./node_modules/lodash-es/_cloneRegExp.js":function(e,t,n){"use strict";n.r(t);var r=/\w*$/;t.default=function(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}},"./node_modules/lodash-es/_cloneSymbol.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_Symbol.js"),o=r.default?r.default.prototype:void 0,s=o?o.valueOf:void 0;t.default=function(e){return s?Object(s.call(e)):{}}},"./node_modules/lodash-es/_cloneTypedArray.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_cloneArrayBuffer.js");t.default=function(e,t){var n=t?(0,r.default)(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},"./node_modules/lodash-es/_copyArray.js":function(e,t,n){"use strict";n.r(t),t.default=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},"./node_modules/lodash-es/_copyObject.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_assignValue.js"),o=n("./node_modules/lodash-es/_baseAssignValue.js");t.default=function(e,t,n,s){var i=!n;n||(n={});for(var a=-1,l=t.length;++a<l;){var c=t[a],u=s?s(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),i?(0,o.default)(n,c,u):(0,r.default)(n,c,u)}return n}},"./node_modules/lodash-es/_copySymbols.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_copyObject.js"),o=n("./node_modules/lodash-es/_getSymbols.js");t.default=function(e,t){return(0,r.default)(e,(0,o.default)(e),t)}},"./node_modules/lodash-es/_copySymbolsIn.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_copyObject.js"),o=n("./node_modules/lodash-es/_getSymbolsIn.js");t.default=function(e,t){return(0,r.default)(e,(0,o.default)(e),t)}},"./node_modules/lodash-es/_coreJsData.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_root.js").default["__core-js_shared__"];t.default=r},"./node_modules/lodash-es/_createAssigner.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseRest.js"),o=n("./node_modules/lodash-es/_isIterateeCall.js");t.default=function(e){return(0,r.default)((function(t,n){var r=-1,s=n.length,i=s>1?n[s-1]:void 0,a=s>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(s--,i):void 0,a&&(0,o.default)(n[0],n[1],a)&&(i=s<3?void 0:i,s=1),t=Object(t);++r<s;){var l=n[r];l&&e(t,l,r,i)}return t}))}},"./node_modules/lodash-es/_createBaseFor.js":function(e,t,n){"use strict";n.r(t),t.default=function(e){return function(t,n,r){for(var o=-1,s=Object(t),i=r(t),a=i.length;a--;){var l=i[e?a:++o];if(!1===n(s[l],l,s))break}return t}}},"./node_modules/lodash-es/_defineProperty.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_getNative.js"),o=function(){try{var e=(0,r.default)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.default=o},"./node_modules/lodash-es/_freeGlobal.js":function(e,t,n){"use strict";n.r(t);var r="object"==typeof global&&global&&global.Object===Object&&global;t.default=r},"./node_modules/lodash-es/_getAllKeys.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseGetAllKeys.js"),o=n("./node_modules/lodash-es/_getSymbols.js"),s=n("./node_modules/lodash-es/keys.js");t.default=function(e){return(0,r.default)(e,s.default,o.default)}},"./node_modules/lodash-es/_getAllKeysIn.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseGetAllKeys.js"),o=n("./node_modules/lodash-es/_getSymbolsIn.js"),s=n("./node_modules/lodash-es/keysIn.js");t.default=function(e){return(0,r.default)(e,s.default,o.default)}},"./node_modules/lodash-es/_getMapData.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_isKeyable.js");t.default=function(e,t){var n=e.__data__;return(0,r.default)(t)?n["string"==typeof t?"string":"hash"]:n.map}},"./node_modules/lodash-es/_getNative.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseIsNative.js"),o=n("./node_modules/lodash-es/_getValue.js");t.default=function(e,t){var n=(0,o.default)(e,t);return(0,r.default)(n)?n:void 0}},"./node_modules/lodash-es/_getPrototype.js":function(e,t,n){"use strict";n.r(t);var r=(0,n("./node_modules/lodash-es/_overArg.js").default)(Object.getPrototypeOf,Object);t.default=r},"./node_modules/lodash-es/_getRawTag.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_Symbol.js"),o=Object.prototype,s=o.hasOwnProperty,i=o.toString,a=r.default?r.default.toStringTag:void 0;t.default=function(e){var t=s.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var o=i.call(e);return r&&(t?e[a]=n:delete e[a]),o}},"./node_modules/lodash-es/_getSymbols.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_arrayFilter.js"),o=n("./node_modules/lodash-es/stubArray.js"),s=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(e){return null==e?[]:(e=Object(e),(0,r.default)(i(e),(function(t){return s.call(e,t)})))}:o.default;t.default=a},"./node_modules/lodash-es/_getSymbolsIn.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_arrayPush.js"),o=n("./node_modules/lodash-es/_getPrototype.js"),s=n("./node_modules/lodash-es/_getSymbols.js"),i=n("./node_modules/lodash-es/stubArray.js"),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)(0,r.default)(t,(0,s.default)(e)),e=(0,o.default)(e);return t}:i.default;t.default=a},"./node_modules/lodash-es/_getTag.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_DataView.js"),o=n("./node_modules/lodash-es/_Map.js"),s=n("./node_modules/lodash-es/_Promise.js"),i=n("./node_modules/lodash-es/_Set.js"),a=n("./node_modules/lodash-es/_WeakMap.js"),l=n("./node_modules/lodash-es/_baseGetTag.js"),c=n("./node_modules/lodash-es/_toSource.js"),u="[object Map]",h="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",m=(0,c.default)(r.default),g=(0,c.default)(o.default),v=(0,c.default)(s.default),_=(0,c.default)(i.default),j=(0,c.default)(a.default),y=l.default;(r.default&&y(new r.default(new ArrayBuffer(1)))!=p||o.default&&y(new o.default)!=u||s.default&&y(s.default.resolve())!=h||i.default&&y(new i.default)!=d||a.default&&y(new a.default)!=f)&&(y=function(e){var t=(0,l.default)(e),n="[object Object]"==t?e.constructor:void 0,r=n?(0,c.default)(n):"";if(r)switch(r){case m:return p;case g:return u;case v:return h;case _:return d;case j:return f}return t}),t.default=y},"./node_modules/lodash-es/_getValue.js":function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return null==e?void 0:e[t]}},"./node_modules/lodash-es/_hashClear.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_nativeCreate.js");t.default=function(){this.__data__=r.default?(0,r.default)(null):{},this.size=0}},"./node_modules/lodash-es/_hashDelete.js":function(e,t,n){"use strict";n.r(t),t.default=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},"./node_modules/lodash-es/_hashGet.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_nativeCreate.js"),o=Object.prototype.hasOwnProperty;t.default=function(e){var t=this.__data__;if(r.default){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},"./node_modules/lodash-es/_hashHas.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_nativeCreate.js"),o=Object.prototype.hasOwnProperty;t.default=function(e){var t=this.__data__;return r.default?void 0!==t[e]:o.call(t,e)}},"./node_modules/lodash-es/_hashSet.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_nativeCreate.js");t.default=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r.default&&void 0===t?"__lodash_hash_undefined__":t,this}},"./node_modules/lodash-es/_initCloneArray.js":function(e,t,n){"use strict";n.r(t);var r=Object.prototype.hasOwnProperty;t.default=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},"./node_modules/lodash-es/_initCloneByTag.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_cloneArrayBuffer.js"),o=n("./node_modules/lodash-es/_cloneDataView.js"),s=n("./node_modules/lodash-es/_cloneRegExp.js"),i=n("./node_modules/lodash-es/_cloneSymbol.js"),a=n("./node_modules/lodash-es/_cloneTypedArray.js");t.default=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return(0,r.default)(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return(0,o.default)(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,a.default)(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return(0,s.default)(e);case"[object Symbol]":return(0,i.default)(e)}}},"./node_modules/lodash-es/_initCloneObject.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseCreate.js"),o=n("./node_modules/lodash-es/_getPrototype.js"),s=n("./node_modules/lodash-es/_isPrototype.js");t.default=function(e){return"function"!=typeof e.constructor||(0,s.default)(e)?{}:(0,r.default)((0,o.default)(e))}},"./node_modules/lodash-es/_isIndex.js":function(e,t,n){"use strict";n.r(t);var r=/^(?:0|[1-9]\d*)$/;t.default=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},"./node_modules/lodash-es/_isIterateeCall.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/eq.js"),o=n("./node_modules/lodash-es/isArrayLike.js"),s=n("./node_modules/lodash-es/_isIndex.js"),i=n("./node_modules/lodash-es/isObject.js");t.default=function(e,t,n){if(!(0,i.default)(n))return!1;var a=typeof t;return!!("number"==a?(0,o.default)(n)&&(0,s.default)(t,n.length):"string"==a&&t in n)&&(0,r.default)(n[t],e)}},"./node_modules/lodash-es/_isKeyable.js":function(e,t,n){"use strict";n.r(t),t.default=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},"./node_modules/lodash-es/_isMasked.js":function(e,t,n){"use strict";n.r(t);var r,o=n("./node_modules/lodash-es/_coreJsData.js"),s=(r=/[^.]+$/.exec(o.default&&o.default.keys&&o.default.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.default=function(e){return!!s&&s in e}},"./node_modules/lodash-es/_isPrototype.js":function(e,t,n){"use strict";n.r(t);var r=Object.prototype;t.default=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},"./node_modules/lodash-es/_listCacheClear.js":function(e,t,n){"use strict";n.r(t),t.default=function(){this.__data__=[],this.size=0}},"./node_modules/lodash-es/_listCacheDelete.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_assocIndexOf.js"),o=Array.prototype.splice;t.default=function(e){var t=this.__data__,n=(0,r.default)(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},"./node_modules/lodash-es/_listCacheGet.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_assocIndexOf.js");t.default=function(e){var t=this.__data__,n=(0,r.default)(t,e);return n<0?void 0:t[n][1]}},"./node_modules/lodash-es/_listCacheHas.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_assocIndexOf.js");t.default=function(e){return(0,r.default)(this.__data__,e)>-1}},"./node_modules/lodash-es/_listCacheSet.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_assocIndexOf.js");t.default=function(e,t){var n=this.__data__,o=(0,r.default)(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},"./node_modules/lodash-es/_mapCacheClear.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_Hash.js"),o=n("./node_modules/lodash-es/_ListCache.js"),s=n("./node_modules/lodash-es/_Map.js");t.default=function(){this.size=0,this.__data__={hash:new r.default,map:new(s.default||o.default),string:new r.default}}},"./node_modules/lodash-es/_mapCacheDelete.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_getMapData.js");t.default=function(e){var t=(0,r.default)(this,e).delete(e);return this.size-=t?1:0,t}},"./node_modules/lodash-es/_mapCacheGet.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_getMapData.js");t.default=function(e){return(0,r.default)(this,e).get(e)}},"./node_modules/lodash-es/_mapCacheHas.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_getMapData.js");t.default=function(e){return(0,r.default)(this,e).has(e)}},"./node_modules/lodash-es/_mapCacheSet.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_getMapData.js");t.default=function(e,t){var n=(0,r.default)(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},"./node_modules/lodash-es/_nativeCreate.js":function(e,t,n){"use strict";n.r(t);var r=(0,n("./node_modules/lodash-es/_getNative.js").default)(Object,"create");t.default=r},"./node_modules/lodash-es/_nativeKeys.js":function(e,t,n){"use strict";n.r(t);var r=(0,n("./node_modules/lodash-es/_overArg.js").default)(Object.keys,Object);t.default=r},"./node_modules/lodash-es/_nativeKeysIn.js":function(e,t,n){"use strict";n.r(t),t.default=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},"./node_modules/lodash-es/_nodeUtil.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_freeGlobal.js"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=o&&"object"==typeof module&&module&&!module.nodeType&&module,i=s&&s.exports===o&&r.default.process,a=function(){try{var e=s&&s.require&&s.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();t.default=a},"./node_modules/lodash-es/_objectToString.js":function(e,t,n){"use strict";n.r(t);var r=Object.prototype.toString;t.default=function(e){return r.call(e)}},"./node_modules/lodash-es/_overArg.js":function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return function(n){return e(t(n))}}},"./node_modules/lodash-es/_overRest.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_apply.js"),o=Math.max;t.default=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var s=arguments,i=-1,a=o(s.length-t,0),l=Array(a);++i<a;)l[i]=s[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=s[i];return c[t]=n(l),(0,r.default)(e,this,c)}}},"./node_modules/lodash-es/_root.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_freeGlobal.js"),o="object"==typeof self&&self&&self.Object===Object&&self,s=r.default||o||Function("return this")();t.default=s},"./node_modules/lodash-es/_safeGet.js":function(e,t,n){"use strict";n.r(t),t.default=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},"./node_modules/lodash-es/_setToString.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseSetToString.js"),o=(0,n("./node_modules/lodash-es/_shortOut.js").default)(r.default);t.default=o},"./node_modules/lodash-es/_shortOut.js":function(e,t,n){"use strict";n.r(t);var r=Date.now;t.default=function(e){var t=0,n=0;return function(){var o=r(),s=16-(o-n);if(n=o,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},"./node_modules/lodash-es/_stackClear.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_ListCache.js");t.default=function(){this.__data__=new r.default,this.size=0}},"./node_modules/lodash-es/_stackDelete.js":function(e,t,n){"use strict";n.r(t),t.default=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},"./node_modules/lodash-es/_stackGet.js":function(e,t,n){"use strict";n.r(t),t.default=function(e){return this.__data__.get(e)}},"./node_modules/lodash-es/_stackHas.js":function(e,t,n){"use strict";n.r(t),t.default=function(e){return this.__data__.has(e)}},"./node_modules/lodash-es/_stackSet.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_ListCache.js"),o=n("./node_modules/lodash-es/_Map.js"),s=n("./node_modules/lodash-es/_MapCache.js");t.default=function(e,t){var n=this.__data__;if(n instanceof r.default){var i=n.__data__;if(!o.default||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new s.default(i)}return n.set(e,t),this.size=n.size,this}},"./node_modules/lodash-es/_toSource.js":function(e,t,n){"use strict";n.r(t);var r=Function.prototype.toString;t.default=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},"./node_modules/lodash-es/clone.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseClone.js");t.default=function(e){return(0,r.default)(e,4)}},"./node_modules/lodash-es/constant.js":function(e,t,n){"use strict";n.r(t),t.default=function(e){return function(){return e}}},"./node_modules/lodash-es/eq.js":function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return e===t||e!=e&&t!=t}},"./node_modules/lodash-es/identity.js":function(e,t,n){"use strict";n.r(t),t.default=function(e){return e}},"./node_modules/lodash-es/isArguments.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseIsArguments.js"),o=n("./node_modules/lodash-es/isObjectLike.js"),s=Object.prototype,i=s.hasOwnProperty,a=s.propertyIsEnumerable,l=(0,r.default)(function(){return arguments}())?r.default:function(e){return(0,o.default)(e)&&i.call(e,"callee")&&!a.call(e,"callee")};t.default=l},"./node_modules/lodash-es/isArray.js":function(e,t,n){"use strict";n.r(t);var r=Array.isArray;t.default=r},"./node_modules/lodash-es/isArrayLike.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/isFunction.js"),o=n("./node_modules/lodash-es/isLength.js");t.default=function(e){return null!=e&&(0,o.default)(e.length)&&!(0,r.default)(e)}},"./node_modules/lodash-es/isArrayLikeObject.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/isArrayLike.js"),o=n("./node_modules/lodash-es/isObjectLike.js");t.default=function(e){return(0,o.default)(e)&&(0,r.default)(e)}},"./node_modules/lodash-es/isBuffer.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_root.js"),o=n("./node_modules/lodash-es/stubFalse.js"),s="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=s&&"object"==typeof module&&module&&!module.nodeType&&module,a=i&&i.exports===s?r.default.Buffer:void 0,l=(a?a.isBuffer:void 0)||o.default;t.default=l},"./node_modules/lodash-es/isFunction.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseGetTag.js"),o=n("./node_modules/lodash-es/isObject.js");t.default=function(e){if(!(0,o.default)(e))return!1;var t=(0,r.default)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},"./node_modules/lodash-es/isLength.js":function(e,t,n){"use strict";n.r(t);t.default=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},"./node_modules/lodash-es/isMap.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseIsMap.js"),o=n("./node_modules/lodash-es/_baseUnary.js"),s=n("./node_modules/lodash-es/_nodeUtil.js"),i=s.default&&s.default.isMap,a=i?(0,o.default)(i):r.default;t.default=a},"./node_modules/lodash-es/isNumber.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseGetTag.js"),o=n("./node_modules/lodash-es/isObjectLike.js");t.default=function(e){return"number"==typeof e||(0,o.default)(e)&&"[object Number]"==(0,r.default)(e)}},"./node_modules/lodash-es/isObject.js":function(e,t,n){"use strict";n.r(t),t.default=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},"./node_modules/lodash-es/isObjectLike.js":function(e,t,n){"use strict";n.r(t),t.default=function(e){return null!=e&&"object"==typeof e}},"./node_modules/lodash-es/isPlainObject.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseGetTag.js"),o=n("./node_modules/lodash-es/_getPrototype.js"),s=n("./node_modules/lodash-es/isObjectLike.js"),i=Function.prototype,a=Object.prototype,l=i.toString,c=a.hasOwnProperty,u=l.call(Object);t.default=function(e){if(!(0,s.default)(e)||"[object Object]"!=(0,r.default)(e))return!1;var t=(0,o.default)(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},"./node_modules/lodash-es/isSet.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseIsSet.js"),o=n("./node_modules/lodash-es/_baseUnary.js"),s=n("./node_modules/lodash-es/_nodeUtil.js"),i=s.default&&s.default.isSet,a=i?(0,o.default)(i):r.default;t.default=a},"./node_modules/lodash-es/isTypedArray.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseIsTypedArray.js"),o=n("./node_modules/lodash-es/_baseUnary.js"),s=n("./node_modules/lodash-es/_nodeUtil.js"),i=s.default&&s.default.isTypedArray,a=i?(0,o.default)(i):r.default;t.default=a},"./node_modules/lodash-es/keys.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_arrayLikeKeys.js"),o=n("./node_modules/lodash-es/_baseKeys.js"),s=n("./node_modules/lodash-es/isArrayLike.js");t.default=function(e){return(0,s.default)(e)?(0,r.default)(e):(0,o.default)(e)}},"./node_modules/lodash-es/keysIn.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_arrayLikeKeys.js"),o=n("./node_modules/lodash-es/_baseKeysIn.js"),s=n("./node_modules/lodash-es/isArrayLike.js");t.default=function(e){return(0,s.default)(e)?(0,r.default)(e,!0):(0,o.default)(e)}},"./node_modules/lodash-es/merge.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_baseMerge.js"),o=(0,n("./node_modules/lodash-es/_createAssigner.js").default)((function(e,t,n){(0,r.default)(e,t,n)}));t.default=o},"./node_modules/lodash-es/stubArray.js":function(e,t,n){"use strict";n.r(t),t.default=function(){return[]}},"./node_modules/lodash-es/stubFalse.js":function(e,t,n){"use strict";n.r(t),t.default=function(){return!1}},"./node_modules/lodash-es/toPlainObject.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash-es/_copyObject.js"),o=n("./node_modules/lodash-es/keysIn.js");t.default=function(e){return(0,r.default)(e,(0,o.default)(e))}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={id:r,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.b=document.baseURI||self.location.href;var r={};return function(){"use strict";n.r(r),n.d(r,{default:function(){return ge}});n("./node_modules/core-js/modules/es.object.keys.js"),n("./node_modules/core-js/modules/es.symbol.js"),n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),n("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),n("./node_modules/core-js/modules/es.object.define-properties.js"),n("./node_modules/core-js/modules/es.object.define-property.js"),n("./node_modules/core-js/modules/es.array.slice.js"),n("./node_modules/core-js/modules/es.array.from.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.symbol.description.js"),n("./node_modules/core-js/modules/es.symbol.iterator.js");var e=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),t=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),s=n("./node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet.js"),i=n("./node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet.js"),a=(n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.array.for-each.js"),n("./node_modules/core-js/modules/web.dom-collections.for-each.js"),n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/es.weak-map.js"),n("./node_modules/core-js/modules/esnext.weak-map.delete-all.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/es.weak-set.js"),n("./node_modules/core-js/modules/esnext.weak-set.add-all.js"),n("./node_modules/core-js/modules/esnext.weak-set.delete-all.js"),n("./node_modules/core-js/modules/es.parse-float.js"),n("./node_modules/core-js/modules/es.array.concat.js"),n("./node_modules/core-js/modules/es.string.repeat.js"),n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js"),n("./node_modules/core-js/modules/es.promise.finally.js"),n("./node_modules/core-js/modules/es.function.name.js"),n("./node_modules/dom-to-image/src/dom-to-image.js")),l=n.n(a),c=n("./node_modules/file-saver/dist/FileSaver.min.js"),u=n("./src/MosaicBrush.js"),h=n("./src/screenshot-fabric-event.js"),d=n("./src/screenshot-tool.js"),f=n("./node_modules/fabric/dist/fabric.js"),p=n("./src/utils.js"),m=n("./node_modules/lodash-es/merge.js"),g=n("./node_modules/lodash-es/clone.js"),v=n("./node_modules/lodash-es/isNumber.js");n("./src/screenshot.scss");function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw s}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?y(Object(r),!0).forEach((function(n){(0,e.default)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function x(e,t){C(e,t),t.add(e)}function w(e,t,n){C(e,t),t.set(e,n)}function C(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function A(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var S=f.fabric.Canvas,T=f.fabric.Textbox,k=f.fabric.PencilBrush,E=new WeakMap,O=new WeakMap,P=new WeakMap,M=new WeakMap,D=new WeakMap,L=new WeakMap,F=new WeakMap,I=new WeakMap,B=new WeakMap,R=new WeakMap,H=new WeakMap,U=new WeakMap,V=new WeakMap,W=new WeakMap,z=new WeakMap,X=new WeakMap,N=new WeakMap,Y=new WeakMap,G=new WeakSet,q=new WeakSet,K=new WeakSet,Z=new WeakSet,$=new WeakSet,J=new WeakSet,Q=new WeakSet,ee=new WeakSet,te=new WeakSet,ne=new WeakSet,re=new WeakSet,oe=new WeakSet,se=new WeakSet,ie=new WeakSet,ae=new WeakSet,le=new WeakSet,ce=new WeakSet,ue=new WeakSet,he=new WeakSet,de=new WeakSet,fe=new WeakSet,pe=new WeakSet,me=new WeakSet,ge=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.node,o=n.img,a=n.destroyCallback,l=void 0===a?function(){}:a,c=n.readyCallback,u=void 0===c?function(){}:c,h=n.autoWelt,d=n.autoFull;if((0,t.default)(this,e),x(this,me),x(this,pe),x(this,fe),x(this,de),x(this,he),x(this,ue),x(this,ce),x(this,le),x(this,ae),x(this,ie),x(this,se),x(this,oe),x(this,re),x(this,ne),x(this,te),x(this,ee),x(this,Q),x(this,J),x(this,$),x(this,Z),x(this,K),x(this,q),x(this,G),w(this,Y,{get:Re,set:void 0}),w(this,N,{get:Be,set:void 0}),w(this,X,{get:Fe,set:Ie}),w(this,z,{get:De,set:Le}),w(this,W,{get:Pe,set:Me}),w(this,V,{get:Ee,set:Oe}),w(this,U,{get:Te,set:ke}),w(this,H,{get:Ae,set:Se}),w(this,R,{get:we,set:Ce}),w(this,B,{get:be,set:xe}),w(this,I,{get:je,set:ye}),w(this,F,{get:ve,set:_e}),w(this,E,{writable:!0,value:{}}),w(this,O,{writable:!0,value:{}}),w(this,P,{writable:!0,value:{status:"pending"}}),w(this,M,{writable:!0,value:{}}),w(this,D,{writable:!0,value:!1}),w(this,L,{writable:!0,value:{autoWelt:20,autoFull:!1}}),!(r instanceof window.HTMLElement))throw new Error("node must be HTMLElement");if(r.__SCREEN_SHOT_GENERATED__)throw new Error("node has been generated by Screenshot");r.__SCREEN_SHOT_GENERATED__=!0,(0,m.default)((0,i.default)(this,L),{autoWelt:h,autoFull:d});try{(0,p.log)("Screenshot 初始化开始"),A(this,q,Ue).call(this,{node:r,img:o}),(0,i.default)(this,O).destroyCallback=l,(0,i.default)(this,O).readyCallback=u,(0,i.default)(this,O).keyboardEvent=A(this,G,He).bind(this),document.addEventListener("keydown",(0,i.default)(this,O).keyboardEvent),(0,i.default)(this,H).complete?(0,s.default)(this,F,"ready"):(0,s.default)(this,F,"waitForImg")}catch(e){throw this.destroy(),(0,p.error)("Screenshot 初始化失败"),e}}return(0,o.default)(e,[{key:"options",get:function(){return(0,i.default)(this,L)}},{key:"status",get:function(){return(0,i.default)(this,F)}},{key:"destroyed",get:function(){return(0,i.default)(this,D)}},{key:"img",get:function(){if((0,i.default)(this,N)){var e=new window.Image;return e.src=(0,i.default)(this,N).toDataURL(),e}if((0,i.default)(this,H)){var t=document.createElement("canvas");t.width=(0,i.default)(this,H).width,t.height=(0,i.default)(this,H).height,t.getContext("2d").drawImage((0,i.default)(this,H),0,0,(0,i.default)(this,H).naturalWidth,(0,i.default)(this,H).naturalHeight,0,0,(0,i.default)(this,H).width,(0,i.default)(this,H).height);var n=new window.Image;return n.src=t.toDataURL(),n}return null}},{key:"canvas",get:function(){return(0,i.default)(this,N)}},{key:"destroy",value:function(){if(!(0,i.default)(this,D)){(0,p.clearNode)((0,i.default)(this,E).node),delete(0,i.default)(this,E).node.__SCREEN_SHOT_GENERATED__;var e=(0,i.default)(this,O).destroyCallback;document.removeEventListener("keydown",(0,i.default)(this,O).keyboardEvent),(0,s.default)(this,E,{}),(0,s.default)(this,O,{}),(0,s.default)(this,P,{}),(0,s.default)(this,M,{}),(0,s.default)(this,D,!0),e&&e()}}}],[{key:"getImage",value:function(e){var t=e.node,n=e.width,r=e.height,o=e.callback,s=void 0===o?function(){}:o,i=e.options,a=void 0===i?{}:i;return new Promise((function(e,o){var i;t instanceof window.HTMLElement||o(new Error("node must be HTMLElement"));var c={transform:"scale("+(i=n&&r?Math.min(t.offsetWidth/n,t.offsetHeight/r):1)+")",transformOrigin:"top left",width:t.offsetWidth+"px",height:t.offsetHeight+"px"},u=b({height:t.offsetHeight*i,width:t.offsetWidth*i,quality:1,style:c,cacheBust:!0},a);l().toBlob(t,u).then((function(t){s(t),e(t)})).catch((function(e){o(e)}))}))}},{key:"getMergeImage",value:function(e){var t=e.imgList,n=void 0===t?[]:t,r=e.width,o=e.height,s=e.callback,i=void 0===s?function(){}:s;return new Promise((function(e){var t=document.createElement("canvas");t.width=r,t.height=o;var s=t.getContext("2d"),a=0;if(n.forEach((function(r){if(r.img instanceof window.HTMLImageElement)s.drawImage(r.img,0,0,r.width,r.height),a++;else if("string"==typeof r.img){var o=new window.Image;o.src=r.img,o.onload=function(){if(s.drawImage(o,r.x||0,r.y||0,r.width,r.height),++a===n.length){var l=t.toDataURL();i(l),e(l)}},o.onerror=function(){if(++a===n.length){var r=t.toDataURL();i(r),e(r)}}}})),a===n.length){var l=t.toDataURL();i(l),e(l)}}))}}]),e}();function ve(){return(0,i.default)(this,P).status||"pending"}function _e(e){if(!this.destroyed&&((0,i.default)(this,P).status=e,"ready"===e)){if((0,i.default)(this,O).readyCallback&&(0,i.default)(this,O).readyCallback(),(0,i.default)(this,O).readyEvent&&(0,i.default)(this,O).readyEvent.length){var t,n=_((0,i.default)(this,O).readyEvent);try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(e){n.e(e)}finally{n.f()}}(0,i.default)(this,O).readyEvent=[],(0,p.log)("Screenshot 初始化完成")}}function je(){return(0,i.default)(this,P).snipInfo||{}}function ye(e){(0,i.default)(this,P).snipInfo=(0,m.default)((0,i.default)(this,P).snipInfo,e),e=(0,i.default)(this,P).snipInfo;var t=(0,i.default)(this,U),n=parseFloat(t.style.borderWidth);t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform="matrix(1,0,0,1,".concat(e.left-n,",").concat(e.top-n,")");var r=(0,i.default)(this,X);r.style.display="block",e.top<27?r.style.top="5px":r.style.top="-27px",r.innerText="".concat(e.width," * ").concat(e.height)}function be(){return(0,i.default)(this,E).node}function xe(e){e?(0,i.default)(this,E).node=e:delete(0,i.default)(this,E).node}function we(){return(0,i.default)(this,E).container}function Ce(e){(0,i.default)(this,E).container&&((0,i.default)(this,E).container.remove(),delete(0,i.default)(this,E).container),e&&((0,i.default)(this,E).container=e)}function Ae(){return(0,i.default)(this,E).originImg}function Se(e){(0,i.default)(this,E).originImg&&((0,i.default)(this,E).originImg.remove(),delete(0,i.default)(this,E).originImg),e&&((0,i.default)(this,E).originImg=e)}function Te(){return(0,i.default)(this,E).snipper}function ke(e){(0,i.default)(this,E).snipper&&((0,i.default)(this,E).snipper.remove(),delete(0,i.default)(this,E).snipper),e&&((0,i.default)(this,E).snipper=e)}function Ee(){return(0,i.default)(this,E).resizer}function Oe(e){(0,i.default)(this,E).resizer&&((0,i.default)(this,E).resizer.remove(),delete(0,i.default)(this,E).resizer),e&&((0,i.default)(this,E).resizer=e)}function Pe(){return(0,i.default)(this,E).toolbar}function Me(e){(0,i.default)(this,E).toolbar&&((0,i.default)(this,E).toolbar.remove(),delete(0,i.default)(this,E).toolbar),e&&((0,i.default)(this,E).toolbar=e)}function De(){return(0,i.default)(this,E).drawer}function Le(e){(0,i.default)(this,E).drawer&&((0,i.default)(this,E).drawer.remove(),delete(0,i.default)(this,E).drawer),e&&((0,i.default)(this,E).drawer=e)}function Fe(){return(0,i.default)(this,E).sizeinfo}function Ie(e){(0,i.default)(this,E).sizeinfo&&((0,i.default)(this,E).sizeinfo.remove(),delete(0,i.default)(this,E).sizeinfo),e&&((0,i.default)(this,E).sizeinfo=e)}function Be(){return(0,i.default)(this,P).fabricDrawer||(0,i.default)(this,z)}function Re(){var e=!1;for(var t in(0,i.default)(this,M))(0,i.default)(this,M)[t].active&&(e=!0);return e}function He(e){var t=this;if(!e.repeat)if("Escape"!==e.key){if((0,i.default)(this,P).fabricDrawer&&!(0,i.default)(this,Y)&&("Delete"===e.key||"Backspace"===e.key)){var n,r=(0,i.default)(this,N).getActiveObject();if(r&&r.isEditing)return;(r?r._objects?r._objects:[r]:[]).forEach((function(e){(0,i.default)(t,N).remove(e)})),null===(n=(0,i.default)(this,N).discardActiveObject())||void 0===n||n.renderAll()}}else this.destroy()}function Ue(e){var t=e.node,n=e.img;A(this,K,Ve).call(this,t),A(this,Z,We).call(this,n),A(this,$,ze).call(this)}function Ve(e){(0,s.default)(this,B,e),(0,p.clearNode)(e);var t=(0,s.default)(this,R,document.createElement("div"));t.classList.add("screenshot"),e.append(t),(0,p.log)("Screenshot 容器创建完成")}function We(e){var t=this,n=new window.Image;if(n.setAttribute("crossOrigin","Anonymous"),n.addEventListener("load",(function(){"waitForImg"===(0,i.default)(t,F)&&(0,s.default)(t,F,"ready")}),!1),e instanceof window.HTMLImageElement)n.src=e.src;else{if("string"!=typeof e)throw new Error("Screenshot 图片容器创建失败");n.src=e}(0,s.default)(this,H,n),n.classList.add("screenshot-image"),(0,i.default)(this,R).append(n),(0,i.default)(this,R).style.width="".concat(n.width,"px"),(0,i.default)(this,R).style.height="".concat(n.height,"px"),(0,p.log)("Screenshot 图片容器创建完成")}function ze(){var e=(0,i.default)(this,R),t=window.getComputedStyle(e),n=(0,s.default)(this,U,document.createElement("div"));n.classList.add("screenshot-snipper");var r=Math.max(parseFloat(t.width),parseFloat(t.height));n.style.borderWidth=r+"px",n.style.transform="matrix(1,0,0,1,".concat(-r,",").concat(-r,")"),e.append(n);var o=(0,s.default)(this,X,document.createElement("div"));o.classList.add("screenshot-sizeinfo"),n.append(o);var a=(0,s.default)(this,V,document.createElement("div"));a.classList.add("screenshot-resizer"),n.append(a),A(this,J,Xe).call(this)}function Xe(){var e=this,t=(0,i.default)(this,R),n=(0,i.default)(this,U);if((0,i.default)(this,L).autoFull)A(this,Q,Ne).call(this);else{var r=!1;(0,p.addDragEvent)({node:t,downCallback:function(){n.style.borderColor="rgba(0,0,0,0.6)"},moveCallback:function(n){var o=n.endPosition,a=n.startPosition;r=!0;var l=t.getBoundingClientRect(),c={width:Math.abs(o.x-a.x),height:Math.abs(o.y-a.y),left:Math.min(o.x,a.x)-l.x,top:Math.min(o.y,a.y)-l.y};(0,i.default)(e,L).autoWelt&&(c=A(e,ee,Ye).call(e,c)),(0,s.default)(e,I,c)},upCallback:function(){r&&(0,i.default)(e,I).width>=10&&(0,i.default)(e,I).height>=10?(n.style.cursor="default",A(e,ne,qe).call(e)):A(e,Q,Ne).call(e)}})}}function Ne(){var e=(0,i.default)(this,R),t=(0,i.default)(this,U),n=window.getComputedStyle(e);(0,s.default)(this,I,{width:parseFloat(n.width),height:parseFloat(n.height),left:0,top:0}),t.style.borderColor="rgba(0,0,0,0.6)",t.style.cursor="default",A(this,ne,qe).call(this)}function Ye(e){if(!(0,i.default)(this,L).autoWelt)return e;var t=window.getComputedStyle((0,i.default)(this,R)),n=(0,g.default)(e),r=20;return(0,v.default)((0,i.default)(this,L).autoWelt)&&(r=(0,i.default)(this,L).autoWelt),n.left<r&&(n.width=n.width+n.left,n.left=0),n.left+n.width+r>parseFloat(t.width)&&(n.width=parseFloat(t.width)-n.left),n.top<r&&(n.height=n.height+n.top,n.top=0),n.top+n.height+r>parseFloat(t.height)&&(n.height=parseFloat(t.height)-n.top),n}function Ge(){var e=this;A(this,re,Ke).call(this);var t=document.createElement("div");t.classList.add("screenshot-resizer-wrapper");var n=(0,i.default)(this,R),r=(0,i.default)(this,V);(0,i.default)(this,O).resizerItemEvents=[];for(var o=function(){var o=l[a],c=document.createElement("div");c.classList.add("screenshot-resizer-item","screenshot-resizer-".concat(o));var u=void 0;(0,i.default)(e,O).resizerItemEvents.push((0,p.addDragEvent)({node:c,upNode:n,moveNode:n,last:!0,downCallback:function(){(0,s.default)(e,W,null),(0,s.default)(e,z,null),u=b({},(0,i.default)(e,I)),r.style.cursor=window.getComputedStyle(c).cursor},moveCallback:function(t){var r=t.endPosition,a=t.startPosition,l=r.x-a.x,c=r.y-a.y,h=window.getComputedStyle(n),d=b({},u);o.includes("top")&&(d.top=u.top+c<u.top+u.height-10?u.top+c>=0?u.top+c:0:u.top+u.height-10,d.height=u.height-c>10?u.top+c>=0?u.height-c:u.height+u.top:10),o.includes("right")&&(d.width=u.width+l>10?u.left+u.width+l<=parseFloat(h.width)?u.width+l:parseFloat(h.width)-u.left:10),o.includes("bottom")&&(d.height=u.height+c>10?u.top+u.height+c<=parseFloat(h.height)?u.height+c:parseFloat(h.height)-u.top:10),o.includes("left")&&(d.left=u.left+l<u.left+u.width-10?u.left+l>=0?u.left+l:0:u.left+u.width-10,d.width=u.width-l>10?u.left+l>=0?u.width-l:u.width+u.left:10),(0,i.default)(e,L).autoWelt&&(d=A(e,ee,Ye).call(e,d)),(0,s.default)(e,I,d)},upCallback:function(){A(e,se,$e).call(e,(function(){A(e,ie,Je).call(e),A(e,le,et).call(e)})),r.style.cursor="move"}})),t.append(c)},a=0,l=["top","topright","right","bottomright","bottom","bottomleft","left","topleft"];a<l.length;a++)o();r.append(t)}function qe(){var e,t,n=this,r=(0,i.default)(this,R),o=(0,i.default)(this,V);A(this,te,Ge).call(this),A(this,se,$e).call(this,(function(){A(n,ie,Je).call(n),A(n,le,et).call(n)})),(0,i.default)(this,O).resizerEvent=(0,p.addDragEvent)({node:o,upNode:r,moveNode:r,last:!0,downCallback:function(){(0,s.default)(n,z,null),A(n,re,Ke).call(n),(0,s.default)(n,W,null),e=(0,i.default)(n,I).left,t=(0,i.default)(n,I).top},moveCallback:function(o){var a=o.endPosition,l=o.startPosition,c=e+a.x-l.x,u=t+a.y-l.y,h=window.getComputedStyle(r),d=parseFloat(h.width),f=parseFloat(h.height);(0,s.default)(n,I,b(b({},(0,i.default)(n,I)),{},{left:c>=0?c+(0,i.default)(n,I).width<=d?c:d-(0,i.default)(n,I).width:0,top:u>=0?u+(0,i.default)(n,I).height<=f?u:f-(0,i.default)(n,I).height:0}))},upCallback:function(){A(n,te,Ge).call(n),A(n,se,$e).call(n,(function(){A(n,ie,Je).call(n),A(n,le,et).call(n)}))}})}function Ke(){if((0,i.default)(this,O).resizerItemEvents){var e,t=_((0,i.default)(this,O).resizerItemEvents);try{for(t.s();!(e=t.n()).done;){e.value.stop()}}catch(e){t.e(e)}finally{t.f()}}delete(0,i.default)(this,O).resizerItemEvents,(0,p.clearNode)((0,i.default)(this,V))}function Ze(){A(this,re,Ke).call(this),(0,i.default)(this,O).resizerEvent&&((0,i.default)(this,O).resizerEvent.stop(),delete(0,i.default)(this,O).resizerEvent),(0,i.default)(this,V).remove()}function $e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"replace";if("ready"===(0,i.default)(this,F))e();else switch((0,i.default)(this,O).readyEvent=(0,i.default)(this,O).readyEvent||[],t){case"replace":(0,i.default)(this,O).readyEvent=[e];break;case"add":(0,i.default)(this,O).readyEvent.push(e);break;case"clear":(0,i.default)(this,O).readyEvent=[]}}function Je(){(0,s.default)(this,z,document.createElement("canvas")),(0,i.default)(this,z).classList.add("screenshot-drawer"),(0,i.default)(this,z).width=(0,i.default)(this,I).width,(0,i.default)(this,z).height=(0,i.default)(this,I).height;var e=(0,i.default)(this,z).getContext("2d"),t=(0,i.default)(this,H).naturalWidth/(0,i.default)(this,H).width,n=(0,i.default)(this,H).naturalHeight/(0,i.default)(this,H).height;e.drawImage((0,i.default)(this,H),(0,i.default)(this,I).left*t,(0,i.default)(this,I).top*n,(0,i.default)(this,I).width*t,(0,i.default)(this,I).height*n,0,0,(0,i.default)(this,I).width,(0,i.default)(this,I).height),(0,i.default)(this,U).append((0,i.default)(this,z))}function Qe(){A(this,oe,Ze).call(this);var e=this.img;(0,i.default)(this,P).fabricDrawer||((0,i.default)(this,P).fabricDrawer=new S((0,i.default)(this,z)),(0,i.default)(this,N).setBackgroundImage(e.src,void 0,{erasable:!1}),(0,i.default)(this,N).selectionFullyContained=!0,(0,i.default)(this,O).drawEvent=new h.default((0,i.default)(this,N)),(0,i.default)(this,O).drawEvent.add("object:added",(function(e){e.target.setControlsVisibility({tl:!1,tr:!1,br:!1,bl:!1,ml:!1,mt:!1,mr:!1,mb:!1,mtr:!1})})))}function et(){var t=this;(0,s.default)(this,W,document.createElement("div")),(0,i.default)(this,W).classList.add("screenshot-toolbar"),(0,i.default)(this,U).append((0,i.default)(this,W)),A(this,he,rt).call(this),A(this,de,ot).call(this),A(this,fe,st).call(this),A(this,pe,it).call(this),A(this,ue,nt).call(this),A(this,ce,tt).call(this,{name:"保存图片",icon:"download",clickEvent:function(){(0,p.dataURLToBlob)((0,i.default)(t,N).toDataURL()).then((function(e){(0,c.saveAs)(e,"clip.png"),t.destroy()}))}}),A(this,ce,tt).call(this,{name:"退出",icon:"close",color:"red",clickEvent:function(){t.destroy()}}),A(this,ce,tt).call(this,{name:"完成",icon:"check",color:"green",clickEvent:function(){(0,p.dataURLToBlob)((0,i.default)(t,N).toDataURL()).then((function(n){try{var r=[new window.ClipboardItem((0,e.default)({},n.type,n))];navigator.clipboard.write(r).finally((function(){t.destroy()}))}catch(e){(0,p.error)(e.name,e.message),(0,c.saveAs)(n,"clip.png"),t.destroy()}}))}}),(0,i.default)(this,I).top+(0,i.default)(this,I).height+50<(0,i.default)(this,R).offsetHeight?(0,i.default)(this,W).style.top="calc(100% + 8px)":(0,i.default)(this,W).style.top="calc(100% - 50px)",(0,i.default)(this,I).left+(0,i.default)(this,I).width-(0,i.default)(this,W).offsetWidth>=0?((0,i.default)(this,W).style.left="unset",(0,i.default)(this,W).style.right="0"):((0,i.default)(this,W).style.left="0",(0,i.default)(this,W).style.right="unset")}function tt(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name,r=void 0===n?"":n,o=t.icon,s=void 0===o?"":o,a=t.color,l=void 0===a?"white":a,c=t.disabled,u=void 0!==c&&c,h=t.clickEvent,f=t.activeEvent,p=t.pauseEvent;return(0,i.default)(this,M)[r]=new d.default({name:r,icon:s,color:l,disabled:u,clickEvent:h?function(){(0,i.default)(e,M)[r].disabled||h()}:function(){A(e,ae,Qe).call(e),A(e,me,at).call(e,(0,i.default)(e,M)[r])},activeEvent:f,pauseEvent:p}),(0,i.default)(this,W).append((0,i.default)(this,M)[r].node),(0,i.default)(this,M)[r]}function nt(){var e=document.createElement("div");e.classList.add("screenshot-toolbar-divider"),(0,i.default)(this,W).append(e)}function rt(){var e=this,t=null,n=!1,r=null,o=null,s=null,a=function(o){var s=o.e;n||(r={x:s.clientX-(0,i.default)(e,N)._offset.left,y:s.clientY-(0,i.default)(e,N)._offset.top},t=null,n=!0)},l=function(s){var a=s.e;n&&(o={x:a.clientX-(0,i.default)(e,N)._offset.left,y:a.clientY-(0,i.default)(e,N)._offset.top},t&&(0,i.default)(e,N).remove(t),t=new f.fabric.Rect({left:Math.min(r.x,o.x),top:Math.min(r.y,o.y),width:Math.abs(r.x-o.x),height:Math.abs(r.y-o.y),fill:"transparent",stroke:"red",strokeWidth:3}),(0,i.default)(e,N).add(t))},c=function(){n=!1,r=null,o=null,t&&t.setControlsVisibility({tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!1}),t=null,A(e,me,at).call(e,s)};s=A(this,ce,tt).call(this,{name:"矩形",icon:"square",activeEvent:function(){(0,i.default)(e,O).drawEvent.add("mouse:down",a),(0,i.default)(e,O).drawEvent.add("mouse:move",l),(0,i.default)(e,O).drawEvent.add("mouse:up",c),(0,i.default)(e,N).selection=!1},pauseEvent:function(){(0,i.default)(e,O).drawEvent.remove("mouse:down",a),(0,i.default)(e,O).drawEvent.remove("mouse:move",l),(0,i.default)(e,O).drawEvent.remove("mouse:up",c),(0,i.default)(e,N).selection=!0}})}function ot(){var e=this;A(this,ce,tt).call(this,{name:"画笔",icon:"write",activeEvent:function(){(0,i.default)(e,N).freeDrawingBrush=new k((0,i.default)(e,N)),(0,i.default)(e,N).freeDrawingBrush.color="red",(0,i.default)(e,N).freeDrawingBrush.width=5,(0,i.default)(e,N).isDrawingMode=!0,(0,i.default)(e,N).selection=!1},pauseEvent:function(){(0,i.default)(e,N).isDrawingMode=!1,(0,i.default)(e,N).selection=!0}})}function st(){var e=this;A(this,ce,tt).call(this,{name:"马赛克",icon:"mosaic",activeEvent:function(){(0,i.default)(e,N).selection=!1,(0,i.default)(e,N).isDrawingMode=!0;var t=(0,i.default)(e,N).freeDrawingBrush=new u.default((0,i.default)(e,N));t.color="white",t.width=12},pauseEvent:function(){(0,i.default)(e,N).isDrawingMode=!1,(0,i.default)(e,N).selection=!0}})}function it(){var e=this,t=null,n=function(n){var r=new T("文本",{fill:"red",width:100,left:n.pointer.x,top:n.pointer.y,fontSize:18,lineHeight:1,lockRotation:!0,lockScalingY:!0,lockScalingFlip:!0,splitByGrapheme:!0,objectCaching:!1});r.on("scaling",(function(e){var t=e.transform.target,n=t.get("width")*t.get("scaleX");t.set("width",n),t.set("scaleX",1)})),A(e,me,at).call(e,t),(0,i.default)(e,N).add(r),r.setControlsVisibility({tl:!1,tr:!1,br:!1,bl:!1,ml:!0,mt:!1,mr:!0,mb:!1,mtr:!1}),(0,i.default)(e,N).setActiveObject(r),(0,i.default)(e,N).renderAll(),r.enterEditing()};t=A(this,ce,tt).call(this,{name:"文本",icon:"text",activeEvent:function(){(0,i.default)(e,N).defaultCursor="text",(0,i.default)(e,N).selection=!1,(0,i.default)(e,O).drawEvent.add("mouse:down",n)},pauseEvent:function(){(0,i.default)(e,N).defaultCursor="default",(0,i.default)(e,N).selection=!0,(0,i.default)(e,O).drawEvent.remove("mouse:down",n)}})}function at(e){if(!e.active)for(var t in(0,i.default)(this,M))t!==e.name&&((0,i.default)(this,M)[t].active=!1);e.active=!e.active}}(),r=r.default}()}));
//# sourceMappingURL=screenshot.umd.js.map