/*! For license information please see screenshot.umd.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ScreenShot=t():e.ScreenShot=t()}(self,(function(){return(()=>{var e={"./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/screenshot.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n("./node_modules/css-loader/dist/runtime/sourceMaps.js"),o=n.n(r),i=n("./node_modules/css-loader/dist/runtime/api.js"),s=n.n(i)()(o());s.push([e.id,".screenshot {\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  user-select: none;\n}\n.screenshot-image {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.screenshot-snipper {\n  position: absolute;\n  top: 0;\n  left: 0;\n  border-color: transparent;\n  border-style: solid;\n  transform-origin: top left;\n}\n.screenshot-snipper-resizer {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  cursor: move;\n}\n.screenshot-snipper-resizer-wrapper {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border: 1px solid red;\n}\n.screenshot-snipper-resizer-item {\n  position: absolute;\n  width: 5px;\n  height: 5px;\n  background-color: red;\n}\n.screenshot-snipper-resizer-top {\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%) translateY(-1px);\n  cursor: ns-resize;\n}\n.screenshot-snipper-resizer-topright {\n  top: 0;\n  right: 0;\n  transform: translateX(1px) translateY(-1px);\n  cursor: nesw-resize;\n}\n.screenshot-snipper-resizer-right {\n  top: 50%;\n  right: 0;\n  transform: translateX(1px) translateY(-50%);\n  cursor: ew-resize;\n}\n.screenshot-snipper-resizer-bottomright {\n  bottom: 0;\n  right: 0;\n  transform: translateX(1px) translateY(1px);\n  cursor: nwse-resize;\n}\n.screenshot-snipper-resizer-bottom {\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%) translateY(1px);\n  cursor: ns-resize;\n}\n.screenshot-snipper-resizer-bottomleft {\n  bottom: 0;\n  left: 0;\n  transform: translateX(-1px) translateY(1px);\n  cursor: nesw-resize;\n}\n.screenshot-snipper-resizer-left {\n  top: 50%;\n  left: 0;\n  transform: translateX(-1px) translateY(-50%);\n  cursor: ew-resize;\n}\n.screenshot-snipper-resizer-topleft {\n  top: 0;\n  left: 0;\n  transform: translateX(-1px) translateY(-1px);\n  cursor: nwse-resize;\n}\n.screenshot-drawer {\n  position: absolute;\n  top: 0;\n  left: 0;\n  transform-origin: top left;\n}","",{version:3,sources:["webpack://./src/screenshot.scss"],names:[],mappings:"AAAA;EACE,gBAAA;EACA,WAAA;EACA,YAAA;EACA,kBAAA;EACA,iBAAA;AACF;AACE;EACE,kBAAA;EACA,MAAA;EACA,OAAA;EACA,WAAA;EACA,YAAA;AACJ;AAEE;EACE,kBAAA;EACA,MAAA;EACA,OAAA;EACA,yBAAA;EACA,mBAAA;EACA,0BAAA;AAAJ;AAEI;EACE,kBAAA;EACA,MAAA;EACA,OAAA;EACA,SAAA;EACA,QAAA;EACA,YAAA;AAAN;AAEM;EACE,kBAAA;EACA,WAAA;EACA,YAAA;EACA,qBAAA;AAAR;AAGM;EACE,kBAAA;EACA,UAAA;EACA,WAAA;EACA,qBAAA;AADR;AAIM;EACE,MAAA;EACA,SAAA;EACA,4CAAA;EACA,iBAAA;AAFR;AAKM;EACE,MAAA;EACA,QAAA;EACA,2CAAA;EACA,mBAAA;AAHR;AAMM;EACE,QAAA;EACA,QAAA;EACA,2CAAA;EACA,iBAAA;AAJR;AAOM;EACE,SAAA;EACA,QAAA;EACA,0CAAA;EACA,mBAAA;AALR;AAQM;EACE,SAAA;EACA,SAAA;EACA,2CAAA;EACA,iBAAA;AANR;AASM;EACE,SAAA;EACA,OAAA;EACA,2CAAA;EACA,mBAAA;AAPR;AAUM;EACE,QAAA;EACA,OAAA;EACA,4CAAA;EACA,iBAAA;AARR;AAWM;EACE,MAAA;EACA,OAAA;EACA,4CAAA;EACA,mBAAA;AATR;AAcE;EACE,kBAAA;EACA,MAAA;EACA,OAAA;EACA,0BAAA;AAZJ",sourcesContent:[".screenshot {\r\n  overflow: hidden;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  user-select: none;\r\n\r\n  &-image {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  &-snipper {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    border-color: transparent;\r\n    border-style: solid;\r\n    transform-origin: top left;\r\n\r\n    &-resizer {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      bottom: 0;\r\n      right: 0;\r\n      cursor: move;\r\n\r\n      &-wrapper {\r\n        position: relative;\r\n        width: 100%;\r\n        height: 100%;\r\n        border: 1px solid red;\r\n      }\r\n\r\n      &-item {\r\n        position: absolute;\r\n        width: 5px;\r\n        height: 5px;\r\n        background-color: red;\r\n      }\r\n\r\n      &-top {\r\n        top: 0;\r\n        left: 50%;\r\n        transform: translateX(-50%) translateY(-1px);\r\n        cursor: ns-resize;\r\n      }\r\n\r\n      &-topright {\r\n        top: 0;\r\n        right: 0;\r\n        transform: translateX(1px) translateY(-1px);\r\n        cursor: nesw-resize;\r\n      }\r\n\r\n      &-right {\r\n        top: 50%;\r\n        right: 0;\r\n        transform: translateX(1px) translateY(-50%);\r\n        cursor: ew-resize;\r\n      }\r\n\r\n      &-bottomright {\r\n        bottom: 0;\r\n        right: 0;\r\n        transform: translateX(1px) translateY(1px);\r\n        cursor: nwse-resize;\r\n      }\r\n\r\n      &-bottom {\r\n        bottom: 0;\r\n        left: 50%;\r\n        transform: translateX(-50%) translateY(1px);\r\n        cursor: ns-resize;\r\n      }\r\n\r\n      &-bottomleft {\r\n        bottom: 0;\r\n        left: 0;\r\n        transform: translateX(-1px) translateY(1px);\r\n        cursor: nesw-resize;\r\n      }\r\n\r\n      &-left {\r\n        top: 50%;\r\n        left: 0;\r\n        transform: translateX(-1px) translateY(-50%);\r\n        cursor: ew-resize;\r\n      }\r\n\r\n      &-topleft {\r\n        top: 0;\r\n        left: 0;\r\n        transform: translateX(-1px) translateY(-1px);\r\n        cursor: nwse-resize;\r\n      }\r\n    }\r\n  }\r\n\r\n  &-drawer {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    transform-origin: top left;\r\n  }\r\n}\r\n"],sourceRoot:""}]);const a=s},"./node_modules/css-loader/dist/runtime/api.js":e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&s[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},"./node_modules/css-loader/dist/runtime/sourceMaps.js":e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */"),s=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(s).concat([i]).join("\n")}return[t].join("\n")}},"./node_modules/dom-to-image/src/dom-to-image.js":function(e){!function(t){"use strict";var n=function(){return{escape:function(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:t,mimeType:function(e){var n=t(e).toLowerCase();return(r="application/font-woff",o="image/jpeg",{woff:r,woff2:r,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:o,jpeg:o,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"})[n]||"";var r,o},dataAsUrl:function(e,t){return"data:"+t+";base64,"+e},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(e){return e.toBlob?new Promise((function(t){e.toBlob(t)})):function(e){return new Promise((function(t){for(var n=window.atob(e.toDataURL().split(",")[1]),r=n.length,o=new Uint8Array(r),i=0;i<r;i++)o[i]=n.charCodeAt(i);t(new Blob([o],{type:"image/png"}))}))}(e)},resolveUrl:function(e,t){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var o=n.createElement("a");return n.body.appendChild(o),r.href=t,o.href=e,o.href},getAndEncode:function(e){var t=3e4;a.impl.options.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());return new Promise((function(n){var r,o=new XMLHttpRequest;if(o.onreadystatechange=s,o.ontimeout=c,o.responseType="blob",o.timeout=t,o.open("GET",e,!0),o.send(),a.impl.options.imagePlaceholder){var i=a.impl.options.imagePlaceholder.split(/,/);i&&i[1]&&(r=i[1])}function s(){if(4===o.readyState)if(200===o.status){var t=new FileReader;t.onloadend=function(){var e=t.result.split(/,/)[1];n(e)},t.readAsDataURL(o.response)}else r?n(r):l("cannot fetch resource: "+e+", status: "+o.status)}function c(){r?n(r):l("timeout of "+t+"ms occured while fetching resource: "+e)}function l(e){console.error(e),n("")}}))},uid:(e=0,function(){return"u"+t()+e++;function t(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}),delay:function(e){return function(t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))}},asArray:function(e){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t},escapeXhtml:function(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src=e}))},width:function(e){var t=n(e,"border-left-width"),r=n(e,"border-right-width");return e.scrollWidth+t+r},height:function(e){var t=n(e,"border-top-width"),r=n(e,"border-bottom-width");return e.scrollHeight+t+r}};var e;function t(e){var t=/\.([^\.\/]*?)$/g.exec(e);return t?t[1]:""}function n(e,t){var n=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(n.replace("px",""))}}(),r=function(){var e=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(e,n,i){return s()?Promise.resolve(e):Promise.resolve(e).then(r).then((function(t){var r=Promise.resolve(e);return t.forEach((function(e){r=r.then((function(t){return o(t,e,n,i)}))})),r}));function s(){return!t(e)}},shouldProcess:t,impl:{readUrls:r,inline:o}};function t(t){return-1!==t.search(e)}function r(t){for(var r,o=[];null!==(r=e.exec(t));)o.push(r[1]);return o.filter((function(e){return!n.isDataUrl(e)}))}function o(e,t,r,o){return Promise.resolve(t).then((function(e){return r?n.resolveUrl(e,r):e})).then(o||n.getAndEncode).then((function(e){return n.dataAsUrl(e,n.mimeType(t))})).then((function(r){return e.replace(function(e){return new RegExp("(url\\(['\"]?)("+n.escape(e)+")(['\"]?\\))","g")}(t),"$1"+r+"$3")}))}}(),o=function(){return{resolveAll:function(){return e(document).then((function(e){return Promise.all(e.map((function(e){return e.resolve()})))})).then((function(e){return e.join("\n")}))},impl:{readAll:e}};function e(){return Promise.resolve(n.asArray(document.styleSheets)).then((function(e){var t=[];return e.forEach((function(e){try{n.asArray(e.cssRules||[]).forEach(t.push.bind(t))}catch(t){console.log("Error while reading CSS rules from "+e.href,t.toString())}})),t})).then((function(e){return e.filter((function(e){return e.type===CSSRule.FONT_FACE_RULE})).filter((function(e){return r.shouldProcess(e.style.getPropertyValue("src"))}))})).then((function(t){return t.map(e)}));function e(e){return{resolve:function(){var t=(e.parentStyleSheet||{}).href;return r.inlineAll(e.cssText,t)},src:function(){return e.style.getPropertyValue("src")}}}}}(),i=function(){return{inlineAll:function t(o){return o instanceof Element?i(o).then((function(){return o instanceof HTMLImageElement?e(o).inline():Promise.all(n.asArray(o.childNodes).map((function(e){return t(e)})))})):Promise.resolve(o);function i(e){var t=e.style.getPropertyValue("background");return t?r.inlineAll(t).then((function(t){e.style.setProperty("background",t,e.style.getPropertyPriority("background"))})).then((function(){return e})):Promise.resolve(e)}},impl:{newImage:e}};function e(e){return{inline:function(t){return n.isDataUrl(e.src)?Promise.resolve():Promise.resolve(e.src).then(t||n.getAndEncode).then((function(t){return n.dataAsUrl(t,n.mimeType(e.src))})).then((function(t){return new Promise((function(n,r){e.onload=n,e.onerror=r,e.src=t}))}))}}}}(),s={imagePlaceholder:void 0,cacheBust:!1},a={toSvg:c,toPng:function(e,t){return l(e,t||{}).then((function(e){return e.toDataURL()}))},toJpeg:function(e,t){return l(e,t=t||{}).then((function(e){return e.toDataURL("image/jpeg",t.quality||1)}))},toBlob:function(e,t){return l(e,t||{}).then(n.canvasToBlob)},toPixelData:function(e,t){return l(e,t||{}).then((function(t){return t.getContext("2d").getImageData(0,0,n.width(e),n.height(e)).data}))},impl:{fontFaces:o,images:i,util:n,inliner:r,options:{}}};function c(e,t){return function(e){void 0===e.imagePlaceholder?a.impl.options.imagePlaceholder=s.imagePlaceholder:a.impl.options.imagePlaceholder=e.imagePlaceholder;void 0===e.cacheBust?a.impl.options.cacheBust=s.cacheBust:a.impl.options.cacheBust=e.cacheBust}(t=t||{}),Promise.resolve(e).then((function(e){return u(e,t.filter,!0)})).then(d).then(f).then((function(e){t.bgcolor&&(e.style.backgroundColor=t.bgcolor);t.width&&(e.style.width=t.width+"px");t.height&&(e.style.height=t.height+"px");t.style&&Object.keys(t.style).forEach((function(n){e.style[n]=t.style[n]}));return e})).then((function(r){return function(e,t,r){return Promise.resolve(e).then((function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(e)})).then(n.escapeXhtml).then((function(e){return'<foreignObject x="0" y="0" width="100%" height="100%">'+e+"</foreignObject>"})).then((function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+r+'">'+e+"</svg>"})).then((function(e){return"data:image/svg+xml;charset=utf-8,"+e}))}(r,t.width||n.width(e),t.height||n.height(e))}))}function l(e,t){return c(e,t).then(n.makeImage).then(n.delay(100)).then((function(r){var o=function(e){var r=document.createElement("canvas");if(r.width=t.width||n.width(e),r.height=t.height||n.height(e),t.bgcolor){var o=r.getContext("2d");o.fillStyle=t.bgcolor,o.fillRect(0,0,r.width,r.height)}return r}(e);return o.getContext("2d").drawImage(r,0,0),o}))}function u(e,t,r){return r||!t||t(e)?Promise.resolve(e).then((function(e){return e instanceof HTMLCanvasElement?n.makeImage(e.toDataURL()):e.cloneNode(!1)})).then((function(r){return function(e,t,r){var o=e.childNodes;return 0===o.length?Promise.resolve(t):i(t,n.asArray(o),r).then((function(){return t}));function i(e,t,n){var r=Promise.resolve();return t.forEach((function(t){r=r.then((function(){return u(t,n)})).then((function(t){t&&e.appendChild(t)}))})),r}}(e,r,t)})).then((function(t){return function(e,t){return t instanceof Element?Promise.resolve().then(r).then(o).then(i).then(s).then((function(){return t})):t;function r(){function r(e,t){function r(e,t){n.asArray(e).forEach((function(n){t.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))}))}e.cssText?t.cssText=e.cssText:r(e,t)}r(window.getComputedStyle(e),t.style)}function o(){function r(r){var o=window.getComputedStyle(e,r),i=o.getPropertyValue("content");if(""!==i&&"none"!==i){var s=n.uid();t.className=t.className+" "+s;var a=document.createElement("style");a.appendChild(c(s,r,o)),t.appendChild(a)}function c(e,t,r){var o="."+e+":"+t,i=r.cssText?s(r):a(r);return document.createTextNode(o+"{"+i+"}");function s(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}function a(e){return n.asArray(e).map(t).join("; ")+";";function t(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}}}}[":before",":after"].forEach((function(e){r(e)}))}function i(){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}function s(){t instanceof SVGElement&&(t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t instanceof SVGRectElement&&["width","height"].forEach((function(e){var n=t.getAttribute(e);n&&t.style.setProperty(e,n)})))}}(e,t)})):Promise.resolve()}function d(e){return o.resolveAll().then((function(t){var n=document.createElement("style");return e.appendChild(n),n.appendChild(document.createTextNode(t)),e}))}function f(e){return i.inlineAll(e).then((function(){return e}))}e.exports=a}()},"./src/screenshot.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),o=n.n(r),i=n("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),s=n.n(i),a=n("./node_modules/style-loader/dist/runtime/insertBySelector.js"),c=n.n(a),l=n("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),u=n.n(l),d=n("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),f=n.n(d),p=n("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),A=n.n(p),h=n("./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/screenshot.scss"),m={};m.styleTagTransform=A(),m.setAttributes=u(),m.insert=c().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=f();o()(h.default,m);const g=h.default&&h.default.locals?h.default.locals:void 0},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},s=[],a=0;a<e.length;a++){var c=e[a],l=r.base?c[0]+r.base:c[0],u=i[l]||0,d="".concat(l," ").concat(u);i[l]=u+1;var f=n(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var A=o(p,r);r.byIndex=a,t.splice(a,0,{identifier:d,updater:A,references:1})}s.push(d)}return s}function o(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var a=n(i[s]);t[a].references--}for(var c=r(e,o),l=0;l<i.length;l++){var u=n(i[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=c}}},"./node_modules/style-loader/dist/runtime/insertBySelector.js":e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{default:()=>s});var e=n("./node_modules/dom-to-image/src/dom-to-image.js"),t=n.n(e);n("./src/screenshot.scss");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.node,r=t.img;if(o(this,e),!(n instanceof window.HTMLElement))throw new Error("node must be HTMLElement");if(n.__SCREEN_SHOT_GENERATED__)throw new Error("node has been generated by ScreenShot");this._initDom({node:n,img:r}),this._initSnipperEvent()}var n,r,s;return n=e,r=[{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};a(this._node),delete this._node.__SCREEN_SHOT_GENERATED__,delete this._node,delete this._container,delete this._img,delete this._snipper,delete this._resizer,delete this._snipInfo,delete this._drawer,e()}},{key:"_initDom",value:function(e){var t=e.node,n=e.img;this._initNode(t),this._initImage(n),this._initSnipper()}},{key:"_initNode",value:function(e){this._node=e,this._node.__SCREEN_SHOT_GENERATED__=!0,a(this._node),this._container=document.createElement("div"),this._container.classList.add("screenshot"),this._node.append(this._container)}},{key:"_initImage",value:function(e){if(e instanceof window.HTMLImageElement)this._img=e;else{if("string"!=typeof e)return;this._img=new window.Image,this._img.src=e}this._img.classList.add("screenshot-image"),this._container.append(this._img)}},{key:"_initSnipper",value:function(){this._snipper=document.createElement("div"),this._snipper.classList.add("screenshot-snipper");var e=window.getComputedStyle(this._container),t=Math.max(parseFloat(e.width),parseFloat(e.height));this._snipper.style.borderWidth=t+"px",this._snipper.style.transform="matrix(1,0,0,1,".concat(-t,",").concat(-t,")"),this._container.append(this._snipper),this._resizer=document.createElement("div"),this._resizer.classList.add("screenshot-snipper-resizer"),this._snipper.append(this._resizer)}},{key:"_initSnipperEvent",value:function(){var e=this;c({node:this._container,downCallback:function(){e._snipper.style.borderColor="rgba(0,0,0,0.6)",e._snipper.style.cursor="crosshair",e._destroyResizer(),e._destroyDrawer(),e._snipInfo={}},moveCallback:function(t){var n=t.endPosition,r=t.startPosition,o=parseFloat(e._snipper.style.borderWidth);e._snipInfo={width:Math.abs(n.x-r.x),height:Math.abs(n.y-r.y),left:Math.min(n.x,r.x)-e._container.offsetLeft,top:Math.min(n.y,r.y)-e._container.offsetTop},e._snipper.style.width=e._snipInfo.width+"px",e._snipper.style.height=e._snipInfo.height+"px",e._snipper.style.transform="matrix(1,0,0,1,".concat(e._snipInfo.left-o,",").concat(e._snipInfo.top-o,")")},upCallback:function(){var t,n;e._snipper.style.cursor="default",e._initResizer(),c({node:e._resizer,upNode:e._container,moveNode:e._container,last:!0,downCallback:function(){e._destroyResizer(),e._destroyDrawer(),t=e._snipInfo.left,n=e._snipInfo.top},moveCallback:function(r){var o=r.endPosition,i=r.startPosition,s=parseFloat(e._snipper.style.borderWidth),a=t+o.x-i.x,c=n+o.y-i.y,l=window.getComputedStyle(e._container),u=parseFloat(l.width),d=parseFloat(l.height);e._snipInfo.left=a>=0?a+e._snipInfo.width<=u?a:u-e._snipInfo.width:0,e._snipInfo.top=c>=0?c+e._snipInfo.height<=d?c:d-e._snipInfo.height:0,e._snipper.style.transform="matrix(1,0,0,1,".concat(e._snipInfo.left-s,",").concat(e._snipInfo.top-s,")")},upCallback:function(){e._initResizer()}})}})}},{key:"_initResizer",value:function(){this._destroyResizer();var e=document.createElement("div");e.classList.add("screenshot-snipper-resizer-wrapper");for(var t=0,n=["top","topright","right","bottomright","bottom","bottomleft","left","topleft"];t<n.length;t++){var r=n[t],o=document.createElement("div");o.classList.add("screenshot-snipper-resizer-item"),o.classList.add("screenshot-snipper-resizer-".concat(r)),e.append(o)}this._resizer.append(e)}},{key:"_destroyResizer",value:function(){a(this._resizer)}},{key:"_initDrawer",value:function(){this._destroyDrawer(),this._drawer=document.createElement("div"),this._drawer.classList.add("screenshot-drawer"),this._drawer.style.width=this._snipInfo.width+"px",this._drawer.style.height=this._snipInfo.height+"px",this._drawer.style.transform="matrix(1,0,0,1,".concat(this._snipInfo.x,",").concat(this._snipInfo.y,")"),this._container.append(this._drawer),this._initDrawerEvent()}},{key:"_destroyDrawer",value:function(){this._drawer&&(this._drawer.remove(),delete this._drawer)}},{key:"_initDrawerEvent",value:function(){this._drawer.addEventListener("mousedown",(function(e){e.preventDefault(),e.stopPropagation()}))}}],s=[{key:"getImage",value:function(e){var n=e.node,r=e.width,o=e.height,i=e.callback,s=void 0===i?function(){}:i;return new Promise((function(e,i){var a;n instanceof window.HTMLElement||i(new Error("node must be HTMLElement"));var c={transform:"scale("+(a=r&&o?Math.min(n.offsetWidth/r,n.offsetHeight/o):1)+")",transformOrigin:"top left",width:n.offsetWidth+"px",height:n.offsetHeight+"px"},l={height:n.offsetHeight*a,width:n.offsetWidth*a,quality:1,style:c};t().toBlob(n,l).then((function(t){s(t),e(t)})).catch((function(e){i(e)}))}))}},{key:"getMergeImage",value:function(e){var t=e.imgList,n=void 0===t?[]:t,r=e.width,o=e.height,i=e.callback,s=void 0===i?function(){}:i;return new Promise((function(e){var t=document.createElement("canvas");t.width=r,t.height=o;var i=t.getContext("2d"),a=0;if(n.forEach((function(r){if(r.img instanceof window.HTMLImageElement)i.drawImage(r.img,0,0,r.width,r.height),a++;else if("string"==typeof r.img){var o=new window.Image;o.src=r.img,o.onload=function(){if(i.drawImage(o,r.x||0,r.y||0,r.width,r.height),++a===n.length){var c=t.toDataURL();s(c),e(c)}},o.onerror=function(){if(++a===n.length){var r=t.toDataURL();s(r),e(r)}}}})),a===n.length){var c=t.toDataURL();s(c),e(c)}}))}}],r&&i(n.prototype,r),s&&i(n,s),Object.defineProperty(n,"prototype",{writable:!1}),e}();function a(e){if(!(e instanceof window.HTMLElement))throw new Error("node must be HTMLElement");for(;e.firstChild;)e.removeChild(e.lastChild)}function c(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.node,r=t.moveNode,o=t.upNode,i=t.moveCallback,s=void 0===i?function(){}:i,a=t.downCallback,c=void 0===a?function(){}:a,l=t.upCallback,u=void 0===l?function(){}:l,d=t.last,f=void 0!==d&&d;if(!(n instanceof window.HTMLElement))throw new Error("node must be HTMLElement");function p(t){t.stopPropagation(),t.preventDefault(),e={x:t.clientX,y:t.clientY},r.addEventListener("mousemove",A),c({startPosition:e})}function A(t){t.stopPropagation(),t.preventDefault(),s({startPosition:e,endPosition:{x:t.clientX,y:t.clientY}})}function h(t){t.stopPropagation(),t.preventDefault(),e&&(r.removeEventListener("mousemove",A),f||(n.removeEventListener("mousedown",p),o.removeEventListener("mouseup",h)),u({startPosition:e,endPosition:{x:t.clientX,y:t.clientY}}),e=null)}function m(){f=!1,r.removeEventListener("mousemove",A),f||(n.removeEventListener("mousedown",p),o.removeEventListener("mouseup",h)),e=null}return o=o||n,r=r||n,n.addEventListener("click",(function(){})),n.addEventListener("mousedown",p),o.addEventListener("mouseup",h),{stop:m}}})(),r=r.default})()}));
//# sourceMappingURL=screenshot.umd.js.map